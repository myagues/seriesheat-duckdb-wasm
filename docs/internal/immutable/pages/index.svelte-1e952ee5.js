import{S as gi,i as _i,s as wi,l as x,m as V,p as B,h as _,q as p,b as J,n as bt,K as pe,L as Ft,g as Ht,t as rt,d as Wt,f as X,M as Un,N as Vs,o as zr,O as qa,P as Ci,e as It,Q as An,x as Yt,y as ri,z as Gt,C as qt,u as lt,v as ct,J as E,w as Pi,E as Zn,a as Mt,c as Ut,R as kt,T as Dt,r as _e,U as vs,V as Fu,W as Ou,X as Ja,Y as Nu,F as Bu,G as ku,H as Du,I as Ru,D as js,Z as Bo,_ as ko,A as zs,B as Qa,$ as Lu,a0 as Do,a1 as Mu,a2 as Uu,a3 as Cu,a4 as Wn,a5 as Ro,a6 as Pu}from"../chunks/index-d9920f9d.js";function j(i,t,e,n){function r(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(u){o(u)}}function l(h){try{c(n.throw(h))}catch(u){o(u)}}function c(h){h.done?s(h.value):r(h.value).then(a,l)}c((n=n.apply(i,t||[])).next())})}function Lo(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function et(i){return this instanceof et?(this.v=i,this):new et(i)}function je(i,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(i,t||[]),r,s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(f){n[f]&&(r[f]=function(b){return new Promise(function(I,S){s.push([f,b,I,S])>1||a(f,b)})})}function a(f,b){try{l(n[f](b))}catch(I){u(s[0][3],I)}}function l(f){f.value instanceof et?Promise.resolve(f.value.v).then(c,h):u(s[0][2],f)}function c(f){a("next",f)}function h(f){a("throw",f)}function u(f,b){f(b),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Xn(i){var t,e;return t={},n("next"),n("throw",function(r){throw r}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(r,s){t[r]=i[r]?function(o){return(e=!e)?{value:et(i[r](o)),done:r==="return"}:s?s(o):o}:s}}function Li(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],e;return t?t.call(i):(i=typeof Lo=="function"?Lo(i):i[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(s){e[s]=i[s]&&function(o){return new Promise(function(a,l){o=i[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}const xu=new TextDecoder("utf-8"),Is=i=>xu.decode(i),Vu=new TextEncoder,Hs=i=>Vu.encode(i),[oy,ju]=(()=>{const i=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw i()}return t.asIntN=()=>{throw i()},t.asUintN=()=>{throw i()},typeof BigInt<"u"?[BigInt,!0]:[t,!1]})(),[Ka,ay]=(()=>{const i=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw i()}static from(){throw i()}constructor(){throw i()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[t,!1]})(),[Ws,ly]=(()=>{const i=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw i()}static from(){throw i()}constructor(){throw i()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[t,!1]})(),zu=i=>typeof i=="number",Za=i=>typeof i=="boolean",Pt=i=>typeof i=="function",se=i=>i!=null&&Object(i)===i,xi=i=>se(i)&&Pt(i.then),Cn=i=>se(i)&&Pt(i[Symbol.iterator]),mn=i=>se(i)&&Pt(i[Symbol.asyncIterator]),Ss=i=>se(i)&&se(i.schema),Xa=i=>se(i)&&"done"in i&&"value"in i,$a=i=>se(i)&&Pt(i.stat)&&zu(i.fd),tl=i=>se(i)&&Ys(i.body),Hr=i=>"_getDOMStream"in i&&"_getNodeStream"in i,Hu=i=>se(i)&&Pt(i.abort)&&Pt(i.getWriter)&&!Hr(i),Ys=i=>se(i)&&Pt(i.cancel)&&Pt(i.getReader)&&!Hr(i),Wu=i=>se(i)&&Pt(i.end)&&Pt(i.write)&&Za(i.writable)&&!Hr(i),el=i=>se(i)&&Pt(i.read)&&Pt(i.pipe)&&Za(i.readable)&&!Hr(i),Yu=i=>se(i)&&Pt(i.clear)&&Pt(i.bytes)&&Pt(i.position)&&Pt(i.setPosition)&&Pt(i.capacity)&&Pt(i.getBufferIdentifier)&&Pt(i.createLong),Gs=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function Gu(i){const t=i[0]?[i[0]]:[];let e,n,r,s;for(let o,a,l=0,c=0,h=i.length;++l<h;){if(o=t[c],a=i[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++c]=a);continue}if({byteOffset:e,byteLength:r}=o,{byteOffset:n,byteLength:s}=a,e+r<n||n+s<e){a&&(t[++c]=a);continue}t[c]=new Uint8Array(o.buffer,e,n-e+s)}return t}function Mo(i,t,e=0,n=t.byteLength){const r=i.byteLength,s=new Uint8Array(i.buffer,i.byteOffset,r),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(n,r));return s.set(o,e),i}function Ye(i,t){const e=Gu(i),n=e.reduce((h,u)=>h+u.byteLength,0);let r,s,o,a=0,l=-1;const c=Math.min(t||Number.POSITIVE_INFINITY,n);for(const h=e.length;++l<h;){if(r=e[l],s=r.subarray(0,Math.min(r.length,c-a)),c<=a+s.length){s.length<r.length?e[l]=r.subarray(s.length):s.length===r.length&&l++,o?Mo(o,s,a):o=s;break}Mo(o||(o=new Uint8Array(c)),s,a),a+=s.length}return[o||new Uint8Array(0),e.slice(l),n-(o?o.byteLength:0)]}function _t(i,t){let e=Xa(t)?t.value:t;return e instanceof i?i===Uint8Array?new i(e.buffer,e.byteOffset,e.byteLength):e:e?(typeof e=="string"&&(e=Hs(e)),e instanceof ArrayBuffer?new i(e):e instanceof Gs?new i(e):Yu(e)?_t(i,e.bytes()):ArrayBuffer.isView(e)?e.byteLength<=0?new i(0):new i(e.buffer,e.byteOffset,e.byteLength/i.BYTES_PER_ELEMENT):i.from(e)):new i(0)}const Sn=i=>_t(Int32Array,i),ut=i=>_t(Uint8Array,i),Es=i=>(i.next(),i);function*qu(i,t){const e=function*(r){yield r},n=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Gs?e(t):Cn(t)?t:e(t);return yield*Es(function*(r){let s=null;do s=r.next(yield _t(i,s));while(!s.done)}(n[Symbol.iterator]())),new i}const Ju=i=>qu(Uint8Array,i);function il(i,t){return je(this,arguments,function*(){if(xi(t))return yield et(yield et(yield*Xn(Li(il(i,yield et(t))))));const n=function(o){return je(this,arguments,function*(){yield yield et(yield et(o))})},r=function(o){return je(this,arguments,function*(){yield et(yield*Xn(Li(Es(function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Gs?n(t):Cn(t)?r(t):mn(t)?t:n(t);return yield et(yield*Xn(Li(Es(function(o){return je(this,arguments,function*(){let a=null;do a=yield et(o.next(yield yield et(_t(i,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield et(new i)})}const Qu=i=>il(Uint8Array,i);function qs(i,t,e){if(i!==0){e=e.slice(0,t+1);for(let n=-1;++n<=t;)e[n]+=i}return e}function Ku(i,t){let e=0;const n=i.length;if(n!==t.length)return!1;if(n>0)do if(i[e]!==t[e])return!1;while(++e<n);return!0}const be={fromIterable(i){return Yn(Zu(i))},fromAsyncIterable(i){return Yn(Xu(i))},fromDOMStream(i){return Yn($u(i))},fromNodeStream(i){return Yn(eh(i))},toDOMStream(i,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(i,t){throw new Error('"toNodeStream" not available in this environment')}},Yn=i=>(i.next(),i);function*Zu(i){let t,e=!1,n=[],r,s,o,a=0;function l(){return s==="peek"?Ye(n,o)[0]:([r,n,a]=Ye(n,o),r)}({cmd:s,size:o}=yield null);const c=Ju(i)[Symbol.iterator]();try{do if({done:t,value:r}=Number.isNaN(o-a)?c.next():c.next(o-a),!t&&r.byteLength>0&&(n.push(r),a+=r.byteLength),t||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!t)}catch(h){(e=!0)&&typeof c.throw=="function"&&c.throw(h)}finally{e===!1&&typeof c.return=="function"&&c.return(null)}return null}function Xu(i){return je(this,arguments,function*(){let e,n=!1,r=[],s,o,a,l=0;function c(){return o==="peek"?Ye(r,a)[0]:([s,r,l]=Ye(r,a),s)}({cmd:o,size:a}=yield yield et(null));const h=Qu(i)[Symbol.asyncIterator]();try{do if({done:e,value:s}=Number.isNaN(a-l)?yield et(h.next()):yield et(h.next(a-l)),!e&&s.byteLength>0&&(r.push(s),l+=s.byteLength),e||a<=l)do({cmd:o,size:a}=yield yield et(c()));while(a<l);while(!e)}catch(u){(n=!0)&&typeof h.throw=="function"&&(yield et(h.throw(u)))}finally{n===!1&&typeof h.return=="function"&&(yield et(h.return(new Uint8Array(0))))}return yield et(null)})}function $u(i){return je(this,arguments,function*(){let e=!1,n=!1,r=[],s,o,a,l=0;function c(){return o==="peek"?Ye(r,a)[0]:([s,r,l]=Ye(r,a),s)}({cmd:o,size:a}=yield yield et(null));const h=new th(i);try{do if({done:e,value:s}=Number.isNaN(a-l)?yield et(h.read()):yield et(h.read(a-l)),!e&&s.byteLength>0&&(r.push(ut(s)),l+=s.byteLength),e||a<=l)do({cmd:o,size:a}=yield yield et(c()));while(a<l);while(!e)}catch(u){(n=!0)&&(yield et(h.cancel(u)))}finally{n===!1?yield et(h.cancel()):i.locked&&h.releaseLock()}return yield et(null)})}class th{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return j(this,void 0,void 0,function*(){const{reader:e,source:n}=this;e&&(yield e.cancel(t).catch(()=>{})),n&&n.locked&&this.releaseLock()})}read(t){return j(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=ut(e)),e})}}const rs=(i,t)=>{const e=r=>n([t,r]);let n;return[t,e,new Promise(r=>(n=r)&&i.once(t,e))]};function eh(i){return je(this,arguments,function*(){const e=[];let n="error",r=!1,s=null,o,a,l=0,c=[],h;function u(){return o==="peek"?Ye(c,a)[0]:([h,c,l]=Ye(c,a),h)}if({cmd:o,size:a}=yield yield et(null),i.isTTY)return yield yield et(new Uint8Array(0)),yield et(null);try{e[0]=rs(i,"end"),e[1]=rs(i,"error");do{if(e[2]=rs(i,"readable"),[n,s]=yield et(Promise.race(e.map(b=>b[2]))),n==="error")break;if((r=n==="end")||(Number.isFinite(a-l)?(h=ut(i.read(a-l)),h.byteLength<a-l&&(h=ut(i.read()))):h=ut(i.read()),h.byteLength>0&&(c.push(h),l+=h.byteLength)),r||a<=l)do({cmd:o,size:a}=yield yield et(u()));while(a<l)}while(!r)}finally{yield et(f(e,n==="error"?s:null))}return yield et(null);function f(b,I){return h=c=null,new Promise((S,P)=>{for(const[D,z]of b)i.off(D,z);try{const D=i.destroy;D&&D.call(i,I),I=void 0}catch(D){I=D||I}finally{I!=null?P(I):S()}})}})}var ue;(function(i){i[i.V1=0]="V1",i[i.V2=1]="V2",i[i.V3=2]="V3",i[i.V4=3]="V4",i[i.V5=4]="V5"})(ue||(ue={}));var he;(function(i){i[i.Sparse=0]="Sparse",i[i.Dense=1]="Dense"})(he||(he={}));var re;(function(i){i[i.HALF=0]="HALF",i[i.SINGLE=1]="SINGLE",i[i.DOUBLE=2]="DOUBLE"})(re||(re={}));var ni;(function(i){i[i.DAY=0]="DAY",i[i.MILLISECOND=1]="MILLISECOND"})(ni||(ni={}));var ht;(function(i){i[i.SECOND=0]="SECOND",i[i.MILLISECOND=1]="MILLISECOND",i[i.MICROSECOND=2]="MICROSECOND",i[i.NANOSECOND=3]="NANOSECOND"})(ht||(ht={}));var di;(function(i){i[i.YEAR_MONTH=0]="YEAR_MONTH",i[i.DAY_TIME=1]="DAY_TIME",i[i.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(di||(di={}));var ft;(function(i){i[i.NONE=0]="NONE",i[i.Schema=1]="Schema",i[i.DictionaryBatch=2]="DictionaryBatch",i[i.RecordBatch=3]="RecordBatch",i[i.Tensor=4]="Tensor",i[i.SparseTensor=5]="SparseTensor"})(ft||(ft={}));var m;(function(i){i[i.NONE=0]="NONE",i[i.Null=1]="Null",i[i.Int=2]="Int",i[i.Float=3]="Float",i[i.Binary=4]="Binary",i[i.Utf8=5]="Utf8",i[i.Bool=6]="Bool",i[i.Decimal=7]="Decimal",i[i.Date=8]="Date",i[i.Time=9]="Time",i[i.Timestamp=10]="Timestamp",i[i.Interval=11]="Interval",i[i.List=12]="List",i[i.Struct=13]="Struct",i[i.Union=14]="Union",i[i.FixedSizeBinary=15]="FixedSizeBinary",i[i.FixedSizeList=16]="FixedSizeList",i[i.Map=17]="Map",i[i.Dictionary=-1]="Dictionary",i[i.Int8=-2]="Int8",i[i.Int16=-3]="Int16",i[i.Int32=-4]="Int32",i[i.Int64=-5]="Int64",i[i.Uint8=-6]="Uint8",i[i.Uint16=-7]="Uint16",i[i.Uint32=-8]="Uint32",i[i.Uint64=-9]="Uint64",i[i.Float16=-10]="Float16",i[i.Float32=-11]="Float32",i[i.Float64=-12]="Float64",i[i.DateDay=-13]="DateDay",i[i.DateMillisecond=-14]="DateMillisecond",i[i.TimestampSecond=-15]="TimestampSecond",i[i.TimestampMillisecond=-16]="TimestampMillisecond",i[i.TimestampMicrosecond=-17]="TimestampMicrosecond",i[i.TimestampNanosecond=-18]="TimestampNanosecond",i[i.TimeSecond=-19]="TimeSecond",i[i.TimeMillisecond=-20]="TimeMillisecond",i[i.TimeMicrosecond=-21]="TimeMicrosecond",i[i.TimeNanosecond=-22]="TimeNanosecond",i[i.DenseUnion=-23]="DenseUnion",i[i.SparseUnion=-24]="SparseUnion",i[i.IntervalDayTime=-25]="IntervalDayTime",i[i.IntervalYearMonth=-26]="IntervalYearMonth"})(m||(m={}));var Ze;(function(i){i[i.OFFSET=0]="OFFSET",i[i.DATA=1]="DATA",i[i.VALIDITY=2]="VALIDITY",i[i.TYPE=3]="TYPE"})(Ze||(Ze={}));const ih=void 0;function Tn(i){if(i===null)return"null";if(i===ih)return"undefined";switch(typeof i){case"number":return`${i}`;case"bigint":return`${i}`;case"string":return`"${i}"`}return typeof i[Symbol.toPrimitive]=="function"?i[Symbol.toPrimitive]("string"):ArrayBuffer.isView(i)?i instanceof BigInt64Array||i instanceof BigUint64Array?`[${[...i].map(t=>Tn(t))}]`:`[${i}]`:ArrayBuffer.isView(i)?`[${i}]`:JSON.stringify(i,(t,e)=>typeof e=="bigint"?`${e}`:e)}const nh=Symbol.for("isArrowBigNum");function Be(i,...t){return t.length===0?Object.setPrototypeOf(_t(this.TypedArray,i),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(i,...t),this.constructor.prototype)}Be.prototype[nh]=!0;Be.prototype.toJSON=function(){return`"${Mi(this)}"`};Be.prototype.valueOf=function(){return nl(this)};Be.prototype.toString=function(){return Mi(this)};Be.prototype[Symbol.toPrimitive]=function(i="default"){switch(i){case"number":return nl(this);case"string":return Mi(this);case"default":return As(this)}return Mi(this)};function $i(...i){return Be.apply(this,i)}function tn(...i){return Be.apply(this,i)}function Fn(...i){return Be.apply(this,i)}Object.setPrototypeOf($i.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(tn.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Fn.prototype,Object.create(Uint32Array.prototype));Object.assign($i.prototype,Be.prototype,{constructor:$i,signed:!0,TypedArray:Int32Array,BigIntArray:Ka});Object.assign(tn.prototype,Be.prototype,{constructor:tn,signed:!1,TypedArray:Uint32Array,BigIntArray:Ws});Object.assign(Fn.prototype,Be.prototype,{constructor:Fn,signed:!0,TypedArray:Uint32Array,BigIntArray:Ws});function nl(i){const{buffer:t,byteOffset:e,length:n,signed:r}=i,s=new Ws(t,e,n),o=r&&s[s.length-1]&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),l=BigInt(0);if(o){for(const c of s)a+=~c*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(const c of s)a+=c*(BigInt(1)<<BigInt(32)*l++);return a}let Mi,As;ju?(As=i=>i.byteLength===8?new i.BigIntArray(i.buffer,i.byteOffset,1)[0]:ss(i),Mi=i=>i.byteLength===8?`${new i.BigIntArray(i.buffer,i.byteOffset,1)[0]}`:ss(i)):(Mi=ss,As=Mi);function ss(i){let t="";const e=new Uint32Array(2);let n=new Uint16Array(i.buffer,i.byteOffset,i.byteLength/2);const r=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let s=-1;const o=n.length-1;do{for(e[0]=n[s=0];s<o;)n[s++]=e[1]=e[0]/10,e[0]=(e[0]-e[1]*10<<16)+n[s];n[s]=e[1]=e[0]/10,e[0]=e[0]-e[1]*10,t=`${e[0]}${t}`}while(r[0]||r[1]||r[2]||r[3]);return t||"0"}class Js{static new(t,e){switch(e){case!0:return new $i(t);case!1:return new tn(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case Ka:return new $i(t)}return t.byteLength===16?new Fn(t):new tn(t)}static signed(t){return new $i(t)}static unsigned(t){return new tn(t)}static decimal(t){return new Fn(t)}constructor(t,e){return Js.new(t,e)}}var rl,sl,ol,al,ll,cl,ul,hl,dl,fl,ml,yl,pl,bl,gl,_l,wl,vl,Il;class H{static isNull(t){return(t==null?void 0:t.typeId)===m.Null}static isInt(t){return(t==null?void 0:t.typeId)===m.Int}static isFloat(t){return(t==null?void 0:t.typeId)===m.Float}static isBinary(t){return(t==null?void 0:t.typeId)===m.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===m.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===m.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===m.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===m.Date}static isTime(t){return(t==null?void 0:t.typeId)===m.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===m.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===m.Interval}static isList(t){return(t==null?void 0:t.typeId)===m.List}static isStruct(t){return(t==null?void 0:t.typeId)===m.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===m.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===m.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===m.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===m.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===m.Dictionary}static isDenseUnion(t){return H.isUnion(t)&&t.mode===he.Dense}static isSparseUnion(t){return H.isUnion(t)&&t.mode===he.Sparse}get typeId(){return m.NONE}}rl=Symbol.toStringTag;H[rl]=(i=>(i.children=null,i.ArrayType=Array,i[Symbol.toStringTag]="DataType"))(H.prototype);class fi extends H{toString(){return"Null"}get typeId(){return m.Null}}sl=Symbol.toStringTag;fi[sl]=(i=>i[Symbol.toStringTag]="Null")(fi.prototype);class mi extends H{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return m.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}ol=Symbol.toStringTag;mi[ol]=(i=>(i.isSigned=null,i.bitWidth=null,i[Symbol.toStringTag]="Int"))(mi.prototype);class On extends mi{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(On.prototype,"ArrayType",{value:Int32Array});class Nn extends H{constructor(t){super(),this.precision=t}get typeId(){return m.Float}get ArrayType(){switch(this.precision){case re.HALF:return Uint16Array;case re.SINGLE:return Float32Array;case re.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}al=Symbol.toStringTag;Nn[al]=(i=>(i.precision=null,i[Symbol.toStringTag]="Float"))(Nn.prototype);class rr extends H{constructor(){super()}get typeId(){return m.Binary}toString(){return"Binary"}}ll=Symbol.toStringTag;rr[ll]=(i=>(i.ArrayType=Uint8Array,i[Symbol.toStringTag]="Binary"))(rr.prototype);class sr extends H{constructor(){super()}get typeId(){return m.Utf8}toString(){return"Utf8"}}cl=Symbol.toStringTag;sr[cl]=(i=>(i.ArrayType=Uint8Array,i[Symbol.toStringTag]="Utf8"))(sr.prototype);class or extends H{constructor(){super()}get typeId(){return m.Bool}toString(){return"Bool"}}ul=Symbol.toStringTag;or[ul]=(i=>(i.ArrayType=Uint8Array,i[Symbol.toStringTag]="Bool"))(or.prototype);class ar extends H{constructor(t,e,n=128){super(),this.scale=t,this.precision=e,this.bitWidth=n}get typeId(){return m.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}hl=Symbol.toStringTag;ar[hl]=(i=>(i.scale=null,i.precision=null,i.ArrayType=Uint32Array,i[Symbol.toStringTag]="Decimal"))(ar.prototype);class lr extends H{constructor(t){super(),this.unit=t}get typeId(){return m.Date}toString(){return`Date${(this.unit+1)*32}<${ni[this.unit]}>`}}dl=Symbol.toStringTag;lr[dl]=(i=>(i.unit=null,i.ArrayType=Int32Array,i[Symbol.toStringTag]="Date"))(lr.prototype);class Bn extends H{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return m.Time}toString(){return`Time${this.bitWidth}<${ht[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}fl=Symbol.toStringTag;Bn[fl]=(i=>(i.unit=null,i.bitWidth=null,i[Symbol.toStringTag]="Time"))(Bn.prototype);class cr extends H{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return m.Timestamp}toString(){return`Timestamp<${ht[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}ml=Symbol.toStringTag;cr[ml]=(i=>(i.unit=null,i.timezone=null,i.ArrayType=Int32Array,i[Symbol.toStringTag]="Timestamp"))(cr.prototype);class ur extends H{constructor(t){super(),this.unit=t}get typeId(){return m.Interval}toString(){return`Interval<${di[this.unit]}>`}}yl=Symbol.toStringTag;ur[yl]=(i=>(i.unit=null,i.ArrayType=Int32Array,i[Symbol.toStringTag]="Interval"))(ur.prototype);class hr extends H{constructor(t){super(),this.children=[t]}get typeId(){return m.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}pl=Symbol.toStringTag;hr[pl]=(i=>(i.children=null,i[Symbol.toStringTag]="List"))(hr.prototype);class Xt extends H{constructor(t){super(),this.children=t}get typeId(){return m.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}bl=Symbol.toStringTag;Xt[bl]=(i=>(i.children=null,i[Symbol.toStringTag]="Struct"))(Xt.prototype);class dr extends H{constructor(t,e,n){super(),this.mode=t,this.children=n,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((r,s,o)=>(r[s]=o)&&r||r,Object.create(null))}get typeId(){return m.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}gl=Symbol.toStringTag;dr[gl]=(i=>(i.mode=null,i.typeIds=null,i.children=null,i.typeIdToChildIndex=null,i.ArrayType=Int8Array,i[Symbol.toStringTag]="Union"))(dr.prototype);class fr extends H{constructor(t){super(),this.byteWidth=t}get typeId(){return m.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}_l=Symbol.toStringTag;fr[_l]=(i=>(i.byteWidth=null,i.ArrayType=Uint8Array,i[Symbol.toStringTag]="FixedSizeBinary"))(fr.prototype);class mr extends H{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return m.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}wl=Symbol.toStringTag;mr[wl]=(i=>(i.children=null,i.listSize=null,i[Symbol.toStringTag]="FixedSizeList"))(mr.prototype);class yr extends H{constructor(t,e=!1){super(),this.children=[t],this.keysSorted=e}get typeId(){return m.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}vl=Symbol.toStringTag;yr[vl]=(i=>(i.children=null,i.keysSorted=null,i[Symbol.toStringTag]="Map_"))(yr.prototype);const rh=(i=>()=>++i)(-1);class an extends H{constructor(t,e,n,r){super(),this.indices=e,this.dictionary=t,this.isOrdered=r||!1,this.id=n==null?rh():typeof n=="number"?n:n.low}get typeId(){return m.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Il=Symbol.toStringTag;an[Il]=(i=>(i.id=null,i.indices=null,i.isOrdered=null,i.dictionary=null,i[Symbol.toStringTag]="Dictionary"))(an.prototype);function Xe(i){const t=i;switch(i.typeId){case m.Decimal:return i.bitWidth/32;case m.Timestamp:return 2;case m.Date:return 1+t.unit;case m.Interval:return 1+t.unit;case m.FixedSizeList:return t.listSize;case m.FixedSizeBinary:return t.byteWidth;default:return 1}}class ot{visitMany(t,...e){return t.map((n,r)=>this.visit(n,...e.map(s=>s[r])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,e=!0){return sh(this,t,e)}getVisitFnByTypeId(t,e=!0){return Zi(this,t,e)}visitNull(t,...e){return null}visitBool(t,...e){return null}visitInt(t,...e){return null}visitFloat(t,...e){return null}visitUtf8(t,...e){return null}visitBinary(t,...e){return null}visitFixedSizeBinary(t,...e){return null}visitDate(t,...e){return null}visitTimestamp(t,...e){return null}visitTime(t,...e){return null}visitDecimal(t,...e){return null}visitList(t,...e){return null}visitStruct(t,...e){return null}visitUnion(t,...e){return null}visitDictionary(t,...e){return null}visitInterval(t,...e){return null}visitFixedSizeList(t,...e){return null}visitMap(t,...e){return null}}function sh(i,t,e=!0){return typeof t=="number"?Zi(i,t,e):typeof t=="string"&&t in m?Zi(i,m[t],e):t&&t instanceof H?Zi(i,Uo(t),e):(t==null?void 0:t.type)&&t.type instanceof H?Zi(i,Uo(t.type),e):Zi(i,m.NONE,e)}function Zi(i,t,e=!0){let n=null;switch(t){case m.Null:n=i.visitNull;break;case m.Bool:n=i.visitBool;break;case m.Int:n=i.visitInt;break;case m.Int8:n=i.visitInt8||i.visitInt;break;case m.Int16:n=i.visitInt16||i.visitInt;break;case m.Int32:n=i.visitInt32||i.visitInt;break;case m.Int64:n=i.visitInt64||i.visitInt;break;case m.Uint8:n=i.visitUint8||i.visitInt;break;case m.Uint16:n=i.visitUint16||i.visitInt;break;case m.Uint32:n=i.visitUint32||i.visitInt;break;case m.Uint64:n=i.visitUint64||i.visitInt;break;case m.Float:n=i.visitFloat;break;case m.Float16:n=i.visitFloat16||i.visitFloat;break;case m.Float32:n=i.visitFloat32||i.visitFloat;break;case m.Float64:n=i.visitFloat64||i.visitFloat;break;case m.Utf8:n=i.visitUtf8;break;case m.Binary:n=i.visitBinary;break;case m.FixedSizeBinary:n=i.visitFixedSizeBinary;break;case m.Date:n=i.visitDate;break;case m.DateDay:n=i.visitDateDay||i.visitDate;break;case m.DateMillisecond:n=i.visitDateMillisecond||i.visitDate;break;case m.Timestamp:n=i.visitTimestamp;break;case m.TimestampSecond:n=i.visitTimestampSecond||i.visitTimestamp;break;case m.TimestampMillisecond:n=i.visitTimestampMillisecond||i.visitTimestamp;break;case m.TimestampMicrosecond:n=i.visitTimestampMicrosecond||i.visitTimestamp;break;case m.TimestampNanosecond:n=i.visitTimestampNanosecond||i.visitTimestamp;break;case m.Time:n=i.visitTime;break;case m.TimeSecond:n=i.visitTimeSecond||i.visitTime;break;case m.TimeMillisecond:n=i.visitTimeMillisecond||i.visitTime;break;case m.TimeMicrosecond:n=i.visitTimeMicrosecond||i.visitTime;break;case m.TimeNanosecond:n=i.visitTimeNanosecond||i.visitTime;break;case m.Decimal:n=i.visitDecimal;break;case m.List:n=i.visitList;break;case m.Struct:n=i.visitStruct;break;case m.Union:n=i.visitUnion;break;case m.DenseUnion:n=i.visitDenseUnion||i.visitUnion;break;case m.SparseUnion:n=i.visitSparseUnion||i.visitUnion;break;case m.Dictionary:n=i.visitDictionary;break;case m.Interval:n=i.visitInterval;break;case m.IntervalDayTime:n=i.visitIntervalDayTime||i.visitInterval;break;case m.IntervalYearMonth:n=i.visitIntervalYearMonth||i.visitInterval;break;case m.FixedSizeList:n=i.visitFixedSizeList;break;case m.Map:n=i.visitMap;break}if(typeof n=="function")return n;if(!e)return()=>null;throw new Error(`Unrecognized type '${m[t]}'`)}function Uo(i){switch(i.typeId){case m.Null:return m.Null;case m.Int:{const{bitWidth:t,isSigned:e}=i;switch(t){case 8:return e?m.Int8:m.Uint8;case 16:return e?m.Int16:m.Uint16;case 32:return e?m.Int32:m.Uint32;case 64:return e?m.Int64:m.Uint64}return m.Int}case m.Float:switch(i.precision){case re.HALF:return m.Float16;case re.SINGLE:return m.Float32;case re.DOUBLE:return m.Float64}return m.Float;case m.Binary:return m.Binary;case m.Utf8:return m.Utf8;case m.Bool:return m.Bool;case m.Decimal:return m.Decimal;case m.Time:switch(i.unit){case ht.SECOND:return m.TimeSecond;case ht.MILLISECOND:return m.TimeMillisecond;case ht.MICROSECOND:return m.TimeMicrosecond;case ht.NANOSECOND:return m.TimeNanosecond}return m.Time;case m.Timestamp:switch(i.unit){case ht.SECOND:return m.TimestampSecond;case ht.MILLISECOND:return m.TimestampMillisecond;case ht.MICROSECOND:return m.TimestampMicrosecond;case ht.NANOSECOND:return m.TimestampNanosecond}return m.Timestamp;case m.Date:switch(i.unit){case ni.DAY:return m.DateDay;case ni.MILLISECOND:return m.DateMillisecond}return m.Date;case m.Interval:switch(i.unit){case di.DAY_TIME:return m.IntervalDayTime;case di.YEAR_MONTH:return m.IntervalYearMonth}return m.Interval;case m.Map:return m.Map;case m.List:return m.List;case m.Struct:return m.Struct;case m.Union:switch(i.mode){case he.Dense:return m.DenseUnion;case he.Sparse:return m.SparseUnion}return m.Union;case m.FixedSizeBinary:return m.FixedSizeBinary;case m.FixedSizeList:return m.FixedSizeList;case m.Dictionary:return m.Dictionary}throw new Error(`Unrecognized type '${m[i.typeId]}'`)}ot.prototype.visitInt8=null;ot.prototype.visitInt16=null;ot.prototype.visitInt32=null;ot.prototype.visitInt64=null;ot.prototype.visitUint8=null;ot.prototype.visitUint16=null;ot.prototype.visitUint32=null;ot.prototype.visitUint64=null;ot.prototype.visitFloat16=null;ot.prototype.visitFloat32=null;ot.prototype.visitFloat64=null;ot.prototype.visitDateDay=null;ot.prototype.visitDateMillisecond=null;ot.prototype.visitTimestampSecond=null;ot.prototype.visitTimestampMillisecond=null;ot.prototype.visitTimestampMicrosecond=null;ot.prototype.visitTimestampNanosecond=null;ot.prototype.visitTimeSecond=null;ot.prototype.visitTimeMillisecond=null;ot.prototype.visitTimeMicrosecond=null;ot.prototype.visitTimeNanosecond=null;ot.prototype.visitDenseUnion=null;ot.prototype.visitSparseUnion=null;ot.prototype.visitIntervalDayTime=null;ot.prototype.visitIntervalYearMonth=null;const Sl=new Float64Array(1),Qi=new Uint32Array(Sl.buffer);function El(i){const t=(i&31744)>>10,e=(i&1023)/1024,n=Math.pow(-1,(i&32768)>>15);switch(t){case 31:return n*(e?Number.NaN:1/0);case 0:return n*(e?6103515625e-14*e:0)}return n*Math.pow(2,t-15)*(1+e)}function oh(i){if(i!==i)return 32256;Sl[0]=i;const t=(Qi[1]&2147483648)>>16&65535;let e=Qi[1]&2146435072,n=0;return e>=1089470464?Qi[0]>0?e=31744:(e=(e&2080374784)>>16,n=(Qi[1]&1048575)>>10):e<=1056964608?(n=1048576+(Qi[1]&1048575),n=1048576+(n<<(e>>20)-998)>>21,e=0):(e=e-1056964608>>10,n=(Qi[1]&1048575)+512>>10),t|e|n&65535}class Q extends ot{}function $(i){return(t,e,n)=>{if(t.setValid(e,n!=null))return i(t,e,n)}}const ah=(i,t,e)=>{i[t]=Math.trunc(e/864e5)},Qs=(i,t,e)=>{i[t]=Math.trunc(e%4294967296),i[t+1]=Math.trunc(e/4294967296)},lh=(i,t,e)=>{i[t]=Math.trunc(e*1e3%4294967296),i[t+1]=Math.trunc(e*1e3/4294967296)},ch=(i,t,e)=>{i[t]=Math.trunc(e*1e6%4294967296),i[t+1]=Math.trunc(e*1e6/4294967296)},Al=(i,t,e,n)=>{if(e+1<t.length){const{[e]:r,[e+1]:s}=t;i.set(n.subarray(0,s-r),r)}},uh=({offset:i,values:t},e,n)=>{const r=i+e;n?t[r>>3]|=1<<r%8:t[r>>3]&=~(1<<r%8)},si=({values:i},t,e)=>{i[t]=e},Ks=({values:i},t,e)=>{i[t]=e},Tl=({values:i},t,e)=>{i[t]=oh(e)},hh=(i,t,e)=>{switch(i.type.precision){case re.HALF:return Tl(i,t,e);case re.SINGLE:case re.DOUBLE:return Ks(i,t,e)}},Fl=({values:i},t,e)=>{ah(i,t,e.valueOf())},Ol=({values:i},t,e)=>{Qs(i,t*2,e.valueOf())},dh=({stride:i,values:t},e,n)=>{t.set(n.subarray(0,i),i*e)},fh=({values:i,valueOffsets:t},e,n)=>Al(i,t,e,n),mh=({values:i,valueOffsets:t},e,n)=>{Al(i,t,e,Hs(n))},yh=(i,t,e)=>{i.type.unit===ni.DAY?Fl(i,t,e):Ol(i,t,e)},Nl=({values:i},t,e)=>Qs(i,t*2,e/1e3),Bl=({values:i},t,e)=>Qs(i,t*2,e),kl=({values:i},t,e)=>lh(i,t*2,e),Dl=({values:i},t,e)=>ch(i,t*2,e),ph=(i,t,e)=>{switch(i.type.unit){case ht.SECOND:return Nl(i,t,e);case ht.MILLISECOND:return Bl(i,t,e);case ht.MICROSECOND:return kl(i,t,e);case ht.NANOSECOND:return Dl(i,t,e)}},Rl=({values:i},t,e)=>{i[t]=e},Ll=({values:i},t,e)=>{i[t]=e},Ml=({values:i},t,e)=>{i[t]=e},Ul=({values:i},t,e)=>{i[t]=e},bh=(i,t,e)=>{switch(i.type.unit){case ht.SECOND:return Rl(i,t,e);case ht.MILLISECOND:return Ll(i,t,e);case ht.MICROSECOND:return Ml(i,t,e);case ht.NANOSECOND:return Ul(i,t,e)}},gh=({values:i,stride:t},e,n)=>{i.set(n.subarray(0,t),t*e)},_h=(i,t,e)=>{const n=i.children[0],r=i.valueOffsets,s=Ee.getVisitFn(n);if(Array.isArray(e))for(let o=-1,a=r[t],l=r[t+1];a<l;)s(n,a++,e[++o]);else for(let o=-1,a=r[t],l=r[t+1];a<l;)s(n,a++,e.get(++o))},wh=(i,t,e)=>{const n=i.children[0],{valueOffsets:r}=i,s=Ee.getVisitFn(n);let{[t]:o,[t+1]:a}=r;const l=e instanceof Map?e.entries():Object.entries(e);for(const c of l)if(s(n,o,c),++o>=a)break},vh=(i,t)=>(e,n,r,s)=>n&&e(n,i,t[s]),Ih=(i,t)=>(e,n,r,s)=>n&&e(n,i,t.get(s)),Sh=(i,t)=>(e,n,r,s)=>n&&e(n,i,t.get(r.name)),Eh=(i,t)=>(e,n,r,s)=>n&&e(n,i,t[r.name]),Ah=(i,t,e)=>{const n=i.type.children.map(s=>Ee.getVisitFn(s.type)),r=e instanceof Map?Sh(t,e):e instanceof mt?Ih(t,e):Array.isArray(e)?vh(t,e):Eh(t,e);i.type.children.forEach((s,o)=>r(n[o],i.children[o],s,o))},Th=(i,t,e)=>{i.type.mode===he.Dense?Cl(i,t,e):Pl(i,t,e)},Cl=(i,t,e)=>{const n=i.type.typeIdToChildIndex[i.typeIds[t]],r=i.children[n];Ee.visit(r,i.valueOffsets[t],e)},Pl=(i,t,e)=>{const n=i.type.typeIdToChildIndex[i.typeIds[t]],r=i.children[n];Ee.visit(r,t,e)},Fh=(i,t,e)=>{var n;(n=i.dictionary)===null||n===void 0||n.set(i.values[t],e)},Oh=(i,t,e)=>{i.type.unit===di.DAY_TIME?xl(i,t,e):Vl(i,t,e)},xl=({values:i},t,e)=>{i.set(e.subarray(0,2),2*t)},Vl=({values:i},t,e)=>{i[t]=e[0]*12+e[1]%12},Nh=(i,t,e)=>{const{stride:n}=i,r=i.children[0],s=Ee.getVisitFn(r);if(Array.isArray(e))for(let o=-1,a=t*n;++o<n;)s(r,a+o,e[o]);else for(let o=-1,a=t*n;++o<n;)s(r,a+o,e.get(o))};Q.prototype.visitBool=$(uh);Q.prototype.visitInt=$(si);Q.prototype.visitInt8=$(si);Q.prototype.visitInt16=$(si);Q.prototype.visitInt32=$(si);Q.prototype.visitInt64=$(si);Q.prototype.visitUint8=$(si);Q.prototype.visitUint16=$(si);Q.prototype.visitUint32=$(si);Q.prototype.visitUint64=$(si);Q.prototype.visitFloat=$(hh);Q.prototype.visitFloat16=$(Tl);Q.prototype.visitFloat32=$(Ks);Q.prototype.visitFloat64=$(Ks);Q.prototype.visitUtf8=$(mh);Q.prototype.visitBinary=$(fh);Q.prototype.visitFixedSizeBinary=$(dh);Q.prototype.visitDate=$(yh);Q.prototype.visitDateDay=$(Fl);Q.prototype.visitDateMillisecond=$(Ol);Q.prototype.visitTimestamp=$(ph);Q.prototype.visitTimestampSecond=$(Nl);Q.prototype.visitTimestampMillisecond=$(Bl);Q.prototype.visitTimestampMicrosecond=$(kl);Q.prototype.visitTimestampNanosecond=$(Dl);Q.prototype.visitTime=$(bh);Q.prototype.visitTimeSecond=$(Rl);Q.prototype.visitTimeMillisecond=$(Ll);Q.prototype.visitTimeMicrosecond=$(Ml);Q.prototype.visitTimeNanosecond=$(Ul);Q.prototype.visitDecimal=$(gh);Q.prototype.visitList=$(_h);Q.prototype.visitStruct=$(Ah);Q.prototype.visitUnion=$(Th);Q.prototype.visitDenseUnion=$(Cl);Q.prototype.visitSparseUnion=$(Pl);Q.prototype.visitDictionary=$(Fh);Q.prototype.visitInterval=$(Oh);Q.prototype.visitIntervalDayTime=$(xl);Q.prototype.visitIntervalYearMonth=$(Vl);Q.prototype.visitFixedSizeList=$(Nh);Q.prototype.visitMap=$(wh);const Ee=new Q,Fe=Symbol.for("parent"),en=Symbol.for("rowIndex");class Zs{constructor(t,e){return this[Fe]=t,this[en]=e,new Proxy(this,new kh)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[en],e=this[Fe],n=e.type.children,r={};for(let s=-1,o=n.length;++s<o;)r[n[s].name]=oe.visit(e.children[s],t);return r}toString(){return`{${[...this].map(([t,e])=>`${Tn(t)}: ${Tn(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Bh(this[Fe],this[en])}}class Bh{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,oe.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(Zs.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Fe]:{writable:!0,enumerable:!1,configurable:!1,value:null},[en]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class kh{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Fe].type.children.map(e=>e.name)}has(t,e){return t[Fe].type.children.findIndex(n=>n.name===e)!==-1}getOwnPropertyDescriptor(t,e){if(t[Fe].type.children.findIndex(n=>n.name===e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const n=t[Fe].type.children.findIndex(r=>r.name===e);if(n!==-1){const r=oe.visit(t[Fe].children[n],t[en]);return Reflect.set(t,e,r),r}}set(t,e,n){const r=t[Fe].type.children.findIndex(s=>s.name===e);return r!==-1?(Ee.visit(t[Fe].children[r],t[en],n),Reflect.set(t,e,n)):Reflect.has(t,e)||typeof e=="symbol"?Reflect.set(t,e,n):!1}}class W extends ot{}function K(i){return(t,e)=>t.getValid(e)?i(t,e):null}const Dh=(i,t)=>864e5*i[t],Xs=(i,t)=>4294967296*i[t+1]+(i[t]>>>0),Rh=(i,t)=>4294967296*(i[t+1]/1e3)+(i[t]>>>0)/1e3,Lh=(i,t)=>4294967296*(i[t+1]/1e6)+(i[t]>>>0)/1e6,jl=i=>new Date(i),Mh=(i,t)=>jl(Dh(i,t)),Uh=(i,t)=>jl(Xs(i,t)),Ch=(i,t)=>null,zl=(i,t,e)=>{if(e+1>=t.length)return null;const n=t[e],r=t[e+1];return i.subarray(n,r)},Ph=({offset:i,values:t},e)=>{const n=i+e;return(t[n>>3]&1<<n%8)!==0},Hl=({values:i},t)=>Mh(i,t),Wl=({values:i},t)=>Uh(i,t*2),vi=({stride:i,values:t},e)=>t[i*e],xh=({stride:i,values:t},e)=>El(t[i*e]),Yl=({values:i},t)=>i[t],Vh=({stride:i,values:t},e)=>t.subarray(i*e,i*(e+1)),jh=({values:i,valueOffsets:t},e)=>zl(i,t,e),zh=({values:i,valueOffsets:t},e)=>{const n=zl(i,t,e);return n!==null?Is(n):null},Hh=({values:i},t)=>i[t],Wh=({type:i,values:t},e)=>i.precision!==re.HALF?t[e]:El(t[e]),Yh=(i,t)=>i.type.unit===ni.DAY?Hl(i,t):Wl(i,t),Gl=({values:i},t)=>1e3*Xs(i,t*2),ql=({values:i},t)=>Xs(i,t*2),Jl=({values:i},t)=>Rh(i,t*2),Ql=({values:i},t)=>Lh(i,t*2),Gh=(i,t)=>{switch(i.type.unit){case ht.SECOND:return Gl(i,t);case ht.MILLISECOND:return ql(i,t);case ht.MICROSECOND:return Jl(i,t);case ht.NANOSECOND:return Ql(i,t)}},Kl=({values:i},t)=>i[t],Zl=({values:i},t)=>i[t],Xl=({values:i},t)=>i[t],$l=({values:i},t)=>i[t],qh=(i,t)=>{switch(i.type.unit){case ht.SECOND:return Kl(i,t);case ht.MILLISECOND:return Zl(i,t);case ht.MICROSECOND:return Xl(i,t);case ht.NANOSECOND:return $l(i,t)}},Jh=({values:i,stride:t},e)=>Js.decimal(i.subarray(t*e,t*(e+1))),Qh=(i,t)=>{const{valueOffsets:e,stride:n,children:r}=i,{[t*n]:s,[t*n+1]:o}=e,l=r[0].slice(s,o-s);return new mt([l])},Kh=(i,t)=>{const{valueOffsets:e,children:n}=i,{[t]:r,[t+1]:s}=e,o=n[0];return new $s(o.slice(r,s-r))},Zh=(i,t)=>new Zs(i,t),Xh=(i,t)=>i.type.mode===he.Dense?tc(i,t):ec(i,t),tc=(i,t)=>{const e=i.type.typeIdToChildIndex[i.typeIds[t]],n=i.children[e];return oe.visit(n,i.valueOffsets[t])},ec=(i,t)=>{const e=i.type.typeIdToChildIndex[i.typeIds[t]],n=i.children[e];return oe.visit(n,t)},$h=(i,t)=>{var e;return(e=i.dictionary)===null||e===void 0?void 0:e.get(i.values[t])},td=(i,t)=>i.type.unit===di.DAY_TIME?ic(i,t):nc(i,t),ic=({values:i},t)=>i.subarray(2*t,2*(t+1)),nc=({values:i},t)=>{const e=i[t],n=new Int32Array(2);return n[0]=Math.trunc(e/12),n[1]=Math.trunc(e%12),n},ed=(i,t)=>{const{stride:e,children:n}=i,s=n[0].slice(t*e,e);return new mt([s])};W.prototype.visitNull=K(Ch);W.prototype.visitBool=K(Ph);W.prototype.visitInt=K(Hh);W.prototype.visitInt8=K(vi);W.prototype.visitInt16=K(vi);W.prototype.visitInt32=K(vi);W.prototype.visitInt64=K(Yl);W.prototype.visitUint8=K(vi);W.prototype.visitUint16=K(vi);W.prototype.visitUint32=K(vi);W.prototype.visitUint64=K(Yl);W.prototype.visitFloat=K(Wh);W.prototype.visitFloat16=K(xh);W.prototype.visitFloat32=K(vi);W.prototype.visitFloat64=K(vi);W.prototype.visitUtf8=K(zh);W.prototype.visitBinary=K(jh);W.prototype.visitFixedSizeBinary=K(Vh);W.prototype.visitDate=K(Yh);W.prototype.visitDateDay=K(Hl);W.prototype.visitDateMillisecond=K(Wl);W.prototype.visitTimestamp=K(Gh);W.prototype.visitTimestampSecond=K(Gl);W.prototype.visitTimestampMillisecond=K(ql);W.prototype.visitTimestampMicrosecond=K(Jl);W.prototype.visitTimestampNanosecond=K(Ql);W.prototype.visitTime=K(qh);W.prototype.visitTimeSecond=K(Kl);W.prototype.visitTimeMillisecond=K(Zl);W.prototype.visitTimeMicrosecond=K(Xl);W.prototype.visitTimeNanosecond=K($l);W.prototype.visitDecimal=K(Jh);W.prototype.visitList=K(Qh);W.prototype.visitStruct=K(Zh);W.prototype.visitUnion=K(Xh);W.prototype.visitDenseUnion=K(tc);W.prototype.visitSparseUnion=K(ec);W.prototype.visitDictionary=K($h);W.prototype.visitInterval=K(td);W.prototype.visitIntervalDayTime=K(ic);W.prototype.visitIntervalYearMonth=K(nc);W.prototype.visitFixedSizeList=K(ed);W.prototype.visitMap=K(Kh);const oe=new W,Re=Symbol.for("keys"),nn=Symbol.for("vals");class $s{constructor(t){return this[Re]=new mt([t.children[0]]).memoize(),this[nn]=t.children[1],new Proxy(this,new nd)}[Symbol.iterator](){return new id(this[Re],this[nn])}get size(){return this[Re].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Re],e=this[nn],n={};for(let r=-1,s=t.length;++r<s;)n[t.get(r)]=oe.visit(e,r);return n}toString(){return`{${[...this].map(([t,e])=>`${Tn(t)}: ${Tn(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class id{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),oe.visit(this.vals,t)]})}}class nd{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Re].toArray().map(String)}has(t,e){return t[Re].includes(e)}getOwnPropertyDescriptor(t,e){if(t[Re].indexOf(e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const n=t[Re].indexOf(e);if(n!==-1){const r=oe.visit(Reflect.get(t,nn),n);return Reflect.set(t,e,r),r}}set(t,e,n){const r=t[Re].indexOf(e);return r!==-1?(Ee.visit(Reflect.get(t,nn),r,n),Reflect.set(t,e,n)):Reflect.has(t,e)?Reflect.set(t,e,n):!1}}Object.defineProperties($s.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Re]:{writable:!0,enumerable:!1,configurable:!1,value:null},[nn]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let Co;function rc(i,t,e,n){const{length:r=0}=i;let s=typeof t!="number"?0:t,o=typeof e!="number"?r:e;return s<0&&(s=(s%r+r)%r),o<0&&(o=(o%r+r)%r),o<s&&(Co=s,s=o,o=Co),o>r&&(o=r),n?n(i,s,o):[s,o]}const Po=i=>i!==i;function yn(i){if(typeof i!=="object"||i===null)return Po(i)?Po:e=>e===i;if(i instanceof Date){const e=i.valueOf();return n=>n instanceof Date?n.valueOf()===e:!1}return ArrayBuffer.isView(i)?e=>e?Ku(i,e):!1:i instanceof Map?sd(i):Array.isArray(i)?rd(i):i instanceof mt?od(i):ad(i,!0)}function rd(i){const t=[];for(let e=-1,n=i.length;++e<n;)t[e]=yn(i[e]);return Wr(t)}function sd(i){let t=-1;const e=[];for(const n of i.values())e[++t]=yn(n);return Wr(e)}function od(i){const t=[];for(let e=-1,n=i.length;++e<n;)t[e]=yn(i.get(e));return Wr(t)}function ad(i,t=!1){const e=Object.keys(i);if(!t&&e.length===0)return()=>!1;const n=[];for(let r=-1,s=e.length;++r<s;)n[r]=yn(i[e[r]]);return Wr(n,e)}function Wr(i,t){return e=>{if(!e||typeof e!="object")return!1;switch(e.constructor){case Array:return ld(i,e);case Map:return xo(i,e,e.keys());case $s:case Zs:case Object:case void 0:return xo(i,e,t||Object.keys(e))}return e instanceof mt?cd(i,e):!1}}function ld(i,t){const e=i.length;if(t.length!==e)return!1;for(let n=-1;++n<e;)if(!i[n](t[n]))return!1;return!0}function cd(i,t){const e=i.length;if(t.length!==e)return!1;for(let n=-1;++n<e;)if(!i[n](t.get(n)))return!1;return!0}function xo(i,t,e){const n=e[Symbol.iterator](),r=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=i.length;let l=s.next(),c=n.next(),h=r.next();for(;o<a&&!c.done&&!h.done&&!l.done&&!(c.value!==h.value||!i[o](l.value));++o,c=n.next(),h=r.next(),l=s.next());return o===a&&c.done&&h.done&&l.done?!0:(n.return&&n.return(),r.return&&r.return(),s.return&&s.return(),!1)}function sc(i,t,e,n){return(e&1<<n)!==0}function ud(i,t,e,n){return(e&1<<n)>>n}function to(i,t,e){const n=e.byteLength+7&-8;if(i>0||e.byteLength<n){const r=new Uint8Array(n);return r.set(i%8===0?e.subarray(i>>3):pr(new eo(e,i,t,null,sc)).subarray(0,n)),r}return e}function pr(i){const t=[];let e=0,n=0,r=0;for(const o of i)o&&(r|=1<<n),++n===8&&(t[e++]=r,r=n=0);(e===0||n>0)&&(t[e++]=r);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class eo{constructor(t,e,n,r,s){this.bytes=t,this.length=n,this.context=r,this.get=s,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Ts(i,t,e){if(e-t<=0)return 0;if(e-t<8){let s=0;for(const o of new eo(i,t,e-t,i,ud))s+=o;return s}const n=e>>3<<3,r=t+(t%8===0?0:8-t%8);return Ts(i,t,r)+Ts(i,n,e)+hd(i,r>>3,n-r>>3)}function hd(i,t,e){let n=0,r=Math.trunc(t);const s=new DataView(i.buffer,i.byteOffset,i.byteLength),o=e===void 0?i.byteLength:r+e;for(;o-r>=4;)n+=os(s.getUint32(r)),r+=4;for(;o-r>=2;)n+=os(s.getUint16(r)),r+=2;for(;o-r>=1;)n+=os(s.getUint8(r)),r+=1;return n}function os(i){let t=Math.trunc(i);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const dd=-1;class vt{constructor(t,e,n,r,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(r||0,-1));let l;s instanceof vt?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=Xe(t),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:n,nullBitmap:r,typeIds:s}=this;return e&&(t+=e.byteLength),n&&(t+=n.byteLength),r&&(t+=r.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){let t=this._nullCount,e;return t<=dd&&(e=this.nullBitmap)&&(this._nullCount=t=this.length-Ts(e,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return(this.nullBitmap[e>>3]&1<<e%8)!==0}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:l}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:l,_nullCount:0})}const{nullBitmap:n,offset:r}=this,s=r+t>>3,o=(r+t)%8,a=n[s]>>o&1;return e?a===0&&(n[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(n[s]&=~(1<<o),this._nullCount=this.nullCount-1),e}clone(t=this.type,e=this.offset,n=this.length,r=this._nullCount,s=this,o=this.children){return new vt(t,e,n,r,s,o,this.dictionary)}slice(t,e){const{stride:n,typeId:r,children:s}=this,o=+(this._nullCount===0)-1,a=r===16?n:1,l=this._sliceBuffers(t,e,n,r);return this.clone(this.type,this.offset+t,e,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===m.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:n}=this,r=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);r[e>>3]=(1<<e-(e&-8))-1,n>0&&r.set(to(this.offset,e,this.nullBitmap),0);const s=this.buffers;return s[Ze.VALIDITY]=r,this.clone(this.type,0,t,n+(t-e),s)}_sliceBuffers(t,e,n,r){let s;const{buffers:o}=this;return(s=o[Ze.TYPE])&&(o[Ze.TYPE]=s.subarray(t,t+e)),(s=o[Ze.OFFSET])&&(o[Ze.OFFSET]=s.subarray(t,t+e+1))||(s=o[Ze.DATA])&&(o[Ze.DATA]=r===6?s:s.subarray(n*t,n*(t+e))),o}_sliceChildren(t,e,n){return t.map(r=>r.slice(e,n))}}vt.prototype.children=Object.freeze([]);class En extends ot{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:e,["offset"]:n=0,["length"]:r=0}=t;return new vt(e,n,r,0)}visitBool(t){const{["type"]:e,["offset"]:n=0}=t,r=ut(t.nullBitmap),s=_t(e.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new vt(e,n,o,a,[void 0,s,r])}visitInt(t){const{["type"]:e,["offset"]:n=0}=t,r=ut(t.nullBitmap),s=_t(e.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new vt(e,n,o,a,[void 0,s,r])}visitFloat(t){const{["type"]:e,["offset"]:n=0}=t,r=ut(t.nullBitmap),s=_t(e.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new vt(e,n,o,a,[void 0,s,r])}visitUtf8(t){const{["type"]:e,["offset"]:n=0}=t,r=ut(t.data),s=ut(t.nullBitmap),o=Sn(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new vt(e,n,a,l,[o,r,s])}visitBinary(t){const{["type"]:e,["offset"]:n=0}=t,r=ut(t.data),s=ut(t.nullBitmap),o=Sn(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new vt(e,n,a,l,[o,r,s])}visitFixedSizeBinary(t){const{["type"]:e,["offset"]:n=0}=t,r=ut(t.nullBitmap),s=_t(e.ArrayType,t.data),{["length"]:o=s.length/Xe(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new vt(e,n,o,a,[void 0,s,r])}visitDate(t){const{["type"]:e,["offset"]:n=0}=t,r=ut(t.nullBitmap),s=_t(e.ArrayType,t.data),{["length"]:o=s.length/Xe(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new vt(e,n,o,a,[void 0,s,r])}visitTimestamp(t){const{["type"]:e,["offset"]:n=0}=t,r=ut(t.nullBitmap),s=_t(e.ArrayType,t.data),{["length"]:o=s.length/Xe(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new vt(e,n,o,a,[void 0,s,r])}visitTime(t){const{["type"]:e,["offset"]:n=0}=t,r=ut(t.nullBitmap),s=_t(e.ArrayType,t.data),{["length"]:o=s.length/Xe(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new vt(e,n,o,a,[void 0,s,r])}visitDecimal(t){const{["type"]:e,["offset"]:n=0}=t,r=ut(t.nullBitmap),s=_t(e.ArrayType,t.data),{["length"]:o=s.length/Xe(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new vt(e,n,o,a,[void 0,s,r])}visitList(t){const{["type"]:e,["offset"]:n=0,["child"]:r}=t,s=ut(t.nullBitmap),o=Sn(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new vt(e,n,a,l,[o,void 0,s],[r])}visitStruct(t){const{["type"]:e,["offset"]:n=0,["children"]:r=[]}=t,s=ut(t.nullBitmap),{length:o=r.reduce((l,{length:c})=>Math.max(l,c),0),nullCount:a=t.nullBitmap?-1:0}=t;return new vt(e,n,o,a,[void 0,void 0,s],r)}visitUnion(t){const{["type"]:e,["offset"]:n=0,["children"]:r=[]}=t,s=ut(t.nullBitmap),o=_t(e.ArrayType,t.typeIds),{["length"]:a=o.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;if(H.isSparseUnion(e))return new vt(e,n,a,l,[void 0,void 0,s,o],r);const c=Sn(t.valueOffsets);return new vt(e,n,a,l,[c,void 0,s,o],r)}visitDictionary(t){const{["type"]:e,["offset"]:n=0}=t,r=ut(t.nullBitmap),s=_t(e.indices.ArrayType,t.data),{["dictionary"]:o=new mt([new En().visit({type:e.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new vt(e,n,a,l,[void 0,s,r],[],o)}visitInterval(t){const{["type"]:e,["offset"]:n=0}=t,r=ut(t.nullBitmap),s=_t(e.ArrayType,t.data),{["length"]:o=s.length/Xe(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new vt(e,n,o,a,[void 0,s,r])}visitFixedSizeList(t){const{["type"]:e,["offset"]:n=0,["child"]:r=new En().visit({type:e.valueType})}=t,s=ut(t.nullBitmap),{["length"]:o=r.length/Xe(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new vt(e,n,o,a,[void 0,void 0,s],[r])}visitMap(t){const{["type"]:e,["offset"]:n=0,["child"]:r=new En().visit({type:e.childType})}=t,s=ut(t.nullBitmap),o=Sn(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new vt(e,n,a,l,[o,void 0,s],[r])}}function st(i){return new En().visit(i)}class Vo{constructor(t=0,e){this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function oc(i){return i.reduce((t,e)=>t+e.nullCount,0)}function ac(i){return i.reduce((t,e,n)=>(t[n+1]=t[n]+e.length,t),new Uint32Array(i.length+1))}function lc(i,t,e,n){const r=[];for(let s=-1,o=i.length;++s<o;){const a=i[s],l=t[s],{length:c}=a;if(l>=n)break;if(e>=l+c)continue;if(l>=e&&l+c<=n){r.push(a);continue}const h=Math.max(0,e-l),u=Math.min(n-l,c);r.push(a.slice(h,u-h))}return r.length===0&&r.push(i[0].slice(0,0)),r}function io(i,t,e,n){let r=0,s=0,o=t.length-1;do{if(r>=o-1)return e<t[o]?n(i,r,e-t[r]):null;s=r+Math.trunc((o-r)*.5),e<t[s]?o=s:r=s}while(r<o)}function no(i,t){return i.getValid(t)}function rn(i){function t(e,n,r){return i(e[n],r)}return function(e){const n=this.data;return io(n,this._offsets,e,t)}}function cc(i){let t;function e(n,r,s){return i(n[r],s,t)}return function(n,r){const s=this.data;t=r;const o=io(s,this._offsets,n,e);return t=void 0,o}}function uc(i){let t;function e(n,r,s){let o=s,a=0,l=0;for(let c=r-1,h=n.length;++c<h;){const u=n[c];if(~(a=i(u,t,o)))return l+a;o=0,l+=u.length}return-1}return function(n,r){t=n;const s=this.data,o=typeof r!="number"?e(s,0,0):io(s,this._offsets,r,e);return t=void 0,o}}class Y extends ot{}function fd(i,t){return t===null&&i.length>0?0:-1}function md(i,t){const{nullBitmap:e}=i;if(!e||i.nullCount<=0)return-1;let n=0;for(const r of new eo(e,i.offset+(t||0),i.length,e,sc)){if(!r)return n;++n}return-1}function it(i,t,e){if(t===void 0)return-1;if(t===null)return md(i,e);const n=oe.getVisitFn(i),r=yn(t);for(let s=(e||0)-1,o=i.length;++s<o;)if(r(n(i,s)))return s;return-1}function hc(i,t,e){const n=oe.getVisitFn(i),r=yn(t);for(let s=(e||0)-1,o=i.length;++s<o;)if(r(n(i,s)))return s;return-1}Y.prototype.visitNull=fd;Y.prototype.visitBool=it;Y.prototype.visitInt=it;Y.prototype.visitInt8=it;Y.prototype.visitInt16=it;Y.prototype.visitInt32=it;Y.prototype.visitInt64=it;Y.prototype.visitUint8=it;Y.prototype.visitUint16=it;Y.prototype.visitUint32=it;Y.prototype.visitUint64=it;Y.prototype.visitFloat=it;Y.prototype.visitFloat16=it;Y.prototype.visitFloat32=it;Y.prototype.visitFloat64=it;Y.prototype.visitUtf8=it;Y.prototype.visitBinary=it;Y.prototype.visitFixedSizeBinary=it;Y.prototype.visitDate=it;Y.prototype.visitDateDay=it;Y.prototype.visitDateMillisecond=it;Y.prototype.visitTimestamp=it;Y.prototype.visitTimestampSecond=it;Y.prototype.visitTimestampMillisecond=it;Y.prototype.visitTimestampMicrosecond=it;Y.prototype.visitTimestampNanosecond=it;Y.prototype.visitTime=it;Y.prototype.visitTimeSecond=it;Y.prototype.visitTimeMillisecond=it;Y.prototype.visitTimeMicrosecond=it;Y.prototype.visitTimeNanosecond=it;Y.prototype.visitDecimal=it;Y.prototype.visitList=it;Y.prototype.visitStruct=it;Y.prototype.visitUnion=it;Y.prototype.visitDenseUnion=hc;Y.prototype.visitSparseUnion=hc;Y.prototype.visitDictionary=it;Y.prototype.visitInterval=it;Y.prototype.visitIntervalDayTime=it;Y.prototype.visitIntervalYearMonth=it;Y.prototype.visitFixedSizeList=it;Y.prototype.visitMap=it;const br=new Y;class G extends ot{}function Z(i){const{type:t}=i;if(i.nullCount===0&&i.stride===1&&(t.typeId===m.Timestamp||t instanceof mi&&t.bitWidth!==64||t instanceof Bn&&t.bitWidth!==64||t instanceof Nn&&t.precision!==re.HALF))return new Vo(i.data.length,n=>{const r=i.data[n];return r.values.subarray(0,r.length)[Symbol.iterator]()});let e=0;return new Vo(i.data.length,n=>{const s=i.data[n].length,o=i.slice(e,e+s);return e+=s,new yd(o)})}class yd{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}G.prototype.visitNull=Z;G.prototype.visitBool=Z;G.prototype.visitInt=Z;G.prototype.visitInt8=Z;G.prototype.visitInt16=Z;G.prototype.visitInt32=Z;G.prototype.visitInt64=Z;G.prototype.visitUint8=Z;G.prototype.visitUint16=Z;G.prototype.visitUint32=Z;G.prototype.visitUint64=Z;G.prototype.visitFloat=Z;G.prototype.visitFloat16=Z;G.prototype.visitFloat32=Z;G.prototype.visitFloat64=Z;G.prototype.visitUtf8=Z;G.prototype.visitBinary=Z;G.prototype.visitFixedSizeBinary=Z;G.prototype.visitDate=Z;G.prototype.visitDateDay=Z;G.prototype.visitDateMillisecond=Z;G.prototype.visitTimestamp=Z;G.prototype.visitTimestampSecond=Z;G.prototype.visitTimestampMillisecond=Z;G.prototype.visitTimestampMicrosecond=Z;G.prototype.visitTimestampNanosecond=Z;G.prototype.visitTime=Z;G.prototype.visitTimeSecond=Z;G.prototype.visitTimeMillisecond=Z;G.prototype.visitTimeMicrosecond=Z;G.prototype.visitTimeNanosecond=Z;G.prototype.visitDecimal=Z;G.prototype.visitList=Z;G.prototype.visitStruct=Z;G.prototype.visitUnion=Z;G.prototype.visitDenseUnion=Z;G.prototype.visitSparseUnion=Z;G.prototype.visitDictionary=Z;G.prototype.visitInterval=Z;G.prototype.visitIntervalDayTime=Z;G.prototype.visitIntervalYearMonth=Z;G.prototype.visitFixedSizeList=Z;G.prototype.visitMap=Z;const ro=new G,pd=(i,t)=>i+t;class Ii extends ot{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return(t.type.unit+1)*4}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===ht.SECOND?4:8}visitInterval(t,e){return(t.type.unit+1)*4}visitStruct(t,e){return t.children.reduce((n,r)=>n+Ge.visit(r,e),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce((n,r)=>n+Ge.visit(r,e),0)}visitDictionary(t,e){var n;return t.type.indices.bitWidth/8+(((n=t.dictionary)===null||n===void 0?void 0:n.getByteLength(t.values[e]))||0)}}const bd=({valueOffsets:i},t)=>8+(i[t+1]-i[t]),gd=({valueOffsets:i},t)=>8+(i[t+1]-i[t]),_d=({valueOffsets:i,stride:t,children:e},n)=>{const r=e[0],{[n*t]:s}=i,{[n*t+1]:o}=i,a=Ge.getVisitFn(r.type),l=r.slice(s,o-s);let c=8;for(let h=-1,u=o-s;++h<u;)c+=a(l,h);return c},wd=({stride:i,children:t},e)=>{const n=t[0],r=n.slice(e*i,i),s=Ge.getVisitFn(n.type);let o=0;for(let a=-1,l=r.length;++a<l;)o+=s(r,a);return o},vd=(i,t)=>i.type.mode===he.Dense?dc(i,t):fc(i,t),dc=({type:i,children:t,typeIds:e,valueOffsets:n},r)=>{const s=i.typeIdToChildIndex[e[r]];return 8+Ge.visit(t[s],n[r])},fc=({children:i},t)=>4+Ge.visitMany(i,i.map(()=>t)).reduce(pd,0);Ii.prototype.visitUtf8=bd;Ii.prototype.visitBinary=gd;Ii.prototype.visitList=_d;Ii.prototype.visitFixedSizeList=wd;Ii.prototype.visitUnion=vd;Ii.prototype.visitDenseUnion=dc;Ii.prototype.visitSparseUnion=fc;const Ge=new Ii;var mc;const yc={},pc={};class mt{constructor(t){var e,n,r;const s=t[0]instanceof mt?t.flatMap(a=>a.data):t;if(s.some(a=>!(a instanceof vt)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(e=s[0])===null||e===void 0?void 0:e.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:c,byteLength:h}=yc[o.typeId],u=s[0];this.isValid=f=>no(u,f),this.get=f=>a(u,f),this.set=(f,b)=>l(u,f,b),this.indexOf=f=>c(u,f),this.getByteLength=f=>h(u,f),this._offsets=[0,u.length];break}default:Object.setPrototypeOf(this,pc[o.typeId]),this._offsets=ac(s);break}this.data=s,this.type=o,this.stride=Xe(o),this.numChildren=(r=(n=o.children)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,e)=>t+e.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=oc(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${m[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return ro.visit(this)}concat(...t){return new mt(this.data.concat(t.flatMap(e=>e.data).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new mt(rc(this,t,e,({data:n,_offsets:r},s,o)=>lc(n,r,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:n,stride:r,ArrayType:s}=this;switch(t.typeId){case m.Int:case m.Float:case m.Decimal:case m.Time:case m.Timestamp:switch(e.length){case 0:return new s;case 1:return e[0].values.subarray(0,n*r);default:return e.reduce((o,{values:a})=>(o.array.set(a,o.offset),o.offset+=a.length,o),{array:new s(n*r),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt((e=this.type.children)===null||e===void 0?void 0:e.findIndex(n=>n.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new mt(this.data.map(({children:e})=>e[t])):null}get isMemoized(){return H.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(H.isDictionary(this.type)){const t=new gr(this.data[0].dictionary),e=this.data.map(n=>{const r=n.clone();return r.dictionary=t,r});return new mt(e)}return new gr(this)}unmemoize(){if(H.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map(n=>{const r=n.clone();return r.dictionary=t,r});return new mt(e)}return this}}mc=Symbol.toStringTag;mt[mc]=(i=>{i.type=H.prototype,i.data=[],i.length=0,i.stride=1,i.numChildren=0,i._nullCount=-1,i._byteLength=-1,i._offsets=new Uint32Array([0]),i[Symbol.isConcatSpreadable]=!0;const t=Object.keys(m).map(e=>m[e]).filter(e=>typeof e=="number"&&e!==m.NONE);for(const e of t){const n=oe.getVisitFnByTypeId(e),r=Ee.getVisitFnByTypeId(e),s=br.getVisitFnByTypeId(e),o=Ge.getVisitFnByTypeId(e);yc[e]={get:n,set:r,indexOf:s,byteLength:o},pc[e]=Object.create(i,{isValid:{value:rn(no)},get:{value:rn(oe.getVisitFnByTypeId(e))},set:{value:cc(Ee.getVisitFnByTypeId(e))},indexOf:{value:uc(br.getVisitFnByTypeId(e))},getByteLength:{value:rn(Ge.getVisitFnByTypeId(e))}})}return"Vector"})(mt.prototype);class gr extends mt{constructor(t){super(t.data);const e=this.get,n=this.set,r=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const l=e.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){n.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new gr(r.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new mt(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Fs{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,n,r){return t.prep(8,24),t.writeInt64(r),t.pad(4),t.writeInt32(n),t.writeInt64(e),t.offset()}}const as=2,Le=4,$e=4,wt=4,ci=new Int32Array(2),jo=new Float32Array(ci.buffer),zo=new Float64Array(ci.buffer),Gn=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;class Ie{constructor(t,e){this.low=t|0,this.high=e|0}static create(t,e){return t==0&&e==0?Ie.ZERO:new Ie(t,e)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}}Ie.ZERO=new Ie(0,0);var Os;(function(i){i[i.UTF8_BYTES=1]="UTF8_BYTES",i[i.UTF16_STRING=2]="UTF16_STRING"})(Os||(Os={}));class yi{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new yi(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new Ie(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new Ie(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return ci[0]=this.readInt32(t),jo[0]}readFloat64(t){return ci[Gn?0:1]=this.readInt32(t),ci[Gn?1:0]=this.readInt32(t+4),zo[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){jo[0]=e,this.writeInt32(t,ci[0])}writeFloat64(t,e){zo[0]=e,this.writeInt32(t,ci[Gn?0:1]),this.writeInt32(t+4,ci[Gn?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Le+$e)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<$e;e++)t+=String.fromCharCode(this.readInt8(this.position_+Le+e));return t}__offset(t,e){const n=t-this.readInt32(t);return e<this.readInt16(n)?this.readInt16(n+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const n=this.readInt32(t);let r="",s=0;if(t+=Le,e===Os.UTF8_BYTES)return this.bytes_.subarray(t,t+n);for(;s<n;){let o;const a=this.readUint8(t+s++);if(a<192)o=a;else{const l=this.readUint8(t+s++);if(a<224)o=(a&31)<<6|l&63;else{const c=this.readUint8(t+s++);if(a<240)o=(a&15)<<12|(l&63)<<6|c&63;else{const h=this.readUint8(t+s++);o=(a&7)<<18|(l&63)<<12|(c&63)<<6|h&63}}}o<65536?r+=String.fromCharCode(o):(o-=65536,r+=String.fromCharCode((o>>10)+55296,(o&(1<<10)-1)+56320))}return r}__union_with_string(t,e){return typeof t=="string"?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Le}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=$e)throw new Error("FlatBuffers: file identifier must be length "+$e);for(let e=0;e<$e;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+Le+e))return!1;return!0}createLong(t,e){return Ie.create(t,e)}createScalarList(t,e){const n=[];for(let r=0;r<e;++r)t(r)!==null&&n.push(t(r));return n}createObjList(t,e){const n=[];for(let r=0;r<e;++r){const s=t(r);s!==null&&n.push(s.unpack())}return n}}class Yr{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let e;t?e=t:e=1024,this.bb=yi.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const n=~(this.bb.capacity()-this.space+e)+1&t-1;for(;this.space<n+t+e;){const r=this.bb.capacity();this.bb=Yr.growByteBuffer(this.bb),this.space+=this.bb.capacity()-r}this.pad(n)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,n){(this.force_defaults||e!=n)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,n){(this.force_defaults||e!=n)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,n){(this.force_defaults||e!=n)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,n){(this.force_defaults||!e.equals(n))&&(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,n){(this.force_defaults||e!=n)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,n){e!=n&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(e&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const n=e<<1,r=yi.allocate(n);return r.setPosition(n-e),r.bytes().set(t.bytes(),n-e),r}addOffset(t){this.prep(Le,0),this.writeInt32(this.offset()-t+Le)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&this.vtable[e]==0;e--);const n=e+1;for(;e>=0;e--)this.addInt16(this.vtable[e]!=0?t-this.vtable[e]:0);const r=2;this.addInt16(t-this.object_start);const s=(n+r)*as;this.addInt16(s);let o=0;const a=this.space;t:for(e=0;e<this.vtables.length;e++){const l=this.bb.capacity()-this.vtables[e];if(s==this.bb.readInt16(l)){for(let c=as;c<s;c+=as)if(this.bb.readInt16(a+c)!=this.bb.readInt16(l+c))continue t;o=this.vtables[e];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,n){const r=n?wt:0;if(e){const s=e;if(this.prep(this.minalign,Le+$e+r),s.length!=$e)throw new Error("FlatBuffers: file identifier must be length "+$e);for(let o=$e-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Le+r),this.addOffset(t),r&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const n=this.bb.capacity()-t,r=n-this.bb.readInt32(n);if(!(this.bb.readInt16(r+e)!=0))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,n){this.notNested(),this.vector_num_elems=e,this.prep(Le,t*e),this.prep(n,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let n=0;for(;n<t.length;){let r;const s=t.charCodeAt(n++);if(s<55296||s>=56320)r=s;else{const o=t.charCodeAt(n++);r=(s<<10)+o+(65536-(55296<<10)-56320)}r<128?e.push(r):(r<2048?e.push(r>>6&31|192):(r<65536?e.push(r>>12&15|224):e.push(r>>18&7|240,r>>12&63|128),e.push(r>>6&63|128)),e.push(r&63|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let n=0,r=this.space,s=this.bb.bytes();n<e.length;n++)s[r++]=e[n];return this.endVector()}createLong(t,e){return Ie.create(t,e)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let n=0;n<t.length;++n){const r=t[n];if(r!==null)e.push(this.createObjectOffset(r));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}}class xt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new xt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+wt),(e||new xt).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,n){return xt.startKeyValue(t),xt.addKey(t,e),xt.addValue(t,n),xt.endKeyValue(t)}}var ln;(function(i){i[i.V1=0]="V1",i[i.V2=1]="V2",i[i.V3=2]="V3",i[i.V4=3]="V4",i[i.V5=4]="V5"})(ln||(ln={}));var cn;(function(i){i[i.Little=0]="Little",i[i.Big=1]="Big"})(cn||(cn={}));var _r;(function(i){i[i.DenseArray=0]="DenseArray"})(_r||(_r={}));class ce{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new ce).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+wt),(e||new ce).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,n){return ce.startInt(t),ce.addBitWidth(t,e),ce.addIsSigned(t,n),ce.endInt(t)}}class ti{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new ti).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+wt),(e||new ti).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new ce).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):_r.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,_r.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Fi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new Fi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+wt),(e||new Fi).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Fi.startBinary(t),Fi.endBinary(t)}}class Oi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new Oi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+wt),(e||new Oi).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Oi.startBool(t),Oi.endBool(t)}}var wr;(function(i){i[i.DAY=0]="DAY",i[i.MILLISECOND=1]="MILLISECOND"})(wr||(wr={}));class Me{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new Me).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+wt),(e||new Me).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):wr.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,wr.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return Me.startDate(t),Me.addUnit(t,e),Me.endDate(t)}}class ie{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new ie).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+wt),(e||new ie).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,n,r){return ie.startDecimal(t),ie.addPrecision(t,e),ie.addScale(t,n),ie.addBitWidth(t,r),ie.endDecimal(t)}}var un;(function(i){i[i.SECOND=0]="SECOND",i[i.MILLISECOND=1]="MILLISECOND",i[i.MICROSECOND=2]="MICROSECOND",i[i.NANOSECOND=3]="NANOSECOND"})(un||(un={}));class Ue{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new Ue).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+wt),(e||new Ue).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return Ue.startFixedSizeBinary(t),Ue.addByteWidth(t,e),Ue.endFixedSizeBinary(t)}}class Ce{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new Ce).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+wt),(e||new Ce).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return Ce.startFixedSizeList(t),Ce.addListSize(t,e),Ce.endFixedSizeList(t)}}var vr;(function(i){i[i.HALF=0]="HALF",i[i.SINGLE=1]="SINGLE",i[i.DOUBLE=2]="DOUBLE"})(vr||(vr={}));class Pe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new Pe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+wt),(e||new Pe).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):vr.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,vr.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return Pe.startFloatingPoint(t),Pe.addPrecision(t,e),Pe.endFloatingPoint(t)}}var Ir;(function(i){i[i.YEAR_MONTH=0]="YEAR_MONTH",i[i.DAY_TIME=1]="DAY_TIME",i[i.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Ir||(Ir={}));class xe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new xe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+wt),(e||new xe).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ir.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,Ir.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return xe.startInterval(t),xe.addUnit(t,e),xe.endInterval(t)}}class Ni{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new Ni).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+wt),(e||new Ni).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Ni.startList(t),Ni.endList(t)}}class Ve{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new Ve).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+wt),(e||new Ve).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return Ve.startMap(t),Ve.addKeysSorted(t,e),Ve.endMap(t)}}class Bi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new Bi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+wt),(e||new Bi).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Bi.startNull(t),Bi.endNull(t)}}class ki{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new ki).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+wt),(e||new ki).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return ki.startStruct_(t),ki.endStruct_(t)}}class we{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new we).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+wt),(e||new we).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):un.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,un.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,n){return we.startTime(t),we.addUnit(t,e),we.addBitWidth(t,n),we.endTime(t)}}class ve{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new ve).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+wt),(e||new ve).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):un.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,un.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,n){return ve.startTimestamp(t),ve.addUnit(t,e),ve.addTimezone(t,n),ve.endTimestamp(t)}}var Sr;(function(i){i[i.Sparse=0]="Sparse",i[i.Dense=1]="Dense"})(Sr||(Sr={}));class ne{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new ne).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+wt),(e||new ne).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Sr.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,Sr.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,n){return ne.startUnion(t),ne.addMode(t,e),ne.addTypeIds(t,n),ne.endUnion(t)}}class Di{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new Di).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+wt),(e||new Di).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Di.startUtf8(t),Di.endUtf8(t)}}var Tt;(function(i){i[i.NONE=0]="NONE",i[i.Null=1]="Null",i[i.Int=2]="Int",i[i.FloatingPoint=3]="FloatingPoint",i[i.Binary=4]="Binary",i[i.Utf8=5]="Utf8",i[i.Bool=6]="Bool",i[i.Decimal=7]="Decimal",i[i.Date=8]="Date",i[i.Time=9]="Time",i[i.Timestamp=10]="Timestamp",i[i.Interval=11]="Interval",i[i.List=12]="List",i[i.Struct_=13]="Struct_",i[i.Union=14]="Union",i[i.FixedSizeBinary=15]="FixedSizeBinary",i[i.FixedSizeList=16]="FixedSizeList",i[i.Map=17]="Map",i[i.Duration=18]="Duration",i[i.LargeBinary=19]="LargeBinary",i[i.LargeUtf8=20]="LargeUtf8",i[i.LargeList=21]="LargeList"})(Tt||(Tt={}));class Jt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new Jt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+wt),(e||new Jt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Tt.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new ti).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const n=this.bb.__offset(this.bb_pos,14);return n?(e||new Jt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,16);return n?(e||new xt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,Tt.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}}class Ct{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new Ct).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+wt),(e||new Ct).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):cn.Little}fields(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Jt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new xt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,cn.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,n,r,s){return Ct.startSchema(t),Ct.addEndianness(t,e),Ct.addFields(t,n),Ct.addCustomMetadata(t,r),Ct.addFeatures(t,s),Ct.endSchema(t)}}class le{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new le).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+wt),(e||new le).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ln.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Ct).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new Fs).__init(this.bb.__vector(this.bb_pos+n)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new Fs).__init(this.bb.__vector(this.bb_pos+n)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new xt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,ln.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}class yt{constructor(t=[],e,n){this.fields=t||[],this.metadata=e||new Map,n||(n=Ns(t)),this.dictionaries=n}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,e)=>`${e}: ${t}`).join(", ")} }>`}select(t){const e=new Set(t),n=this.fields.filter(r=>e.has(r.name));return new yt(n,this.metadata)}selectAt(t){const e=t.map(n=>this.fields[n]).filter(Boolean);return new yt(e,this.metadata)}assign(...t){const e=t[0]instanceof yt?t[0]:Array.isArray(t[0])?new yt(t[0]):new yt(t),n=[...this.fields],r=qn(qn(new Map,this.metadata),e.metadata),s=e.fields.filter(a=>{const l=n.findIndex(c=>c.name===a.name);return~l?(n[l]=a.clone({metadata:qn(qn(new Map,n[l].metadata),a.metadata)}))&&!1:!0}),o=Ns(s,new Map);return new yt([...n,...s],r,new Map([...this.dictionaries,...o]))}}yt.prototype.fields=null;yt.prototype.metadata=null;yt.prototype.dictionaries=null;class St{constructor(t,e,n=!1,r){this.name=t,this.type=e,this.nullable=n,this.metadata=r||new Map}static new(...t){let[e,n,r,s]=t;return t[0]&&typeof t[0]=="object"&&({name:e}=t[0],n===void 0&&(n=t[0].type),r===void 0&&(r=t[0].nullable),s===void 0&&(s=t[0].metadata)),new St(`${e}`,n,r,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[e,n,r,s]=t;return!t[0]||typeof t[0]!="object"?[e=this.name,n=this.type,r=this.nullable,s=this.metadata]=t:{name:e=this.name,type:n=this.type,nullable:r=this.nullable,metadata:s=this.metadata}=t[0],St.new(e,n,r,s)}}St.prototype.type=null;St.prototype.name=null;St.prototype.nullable=null;St.prototype.metadata=null;function qn(i,t){return new Map([...i||new Map,...t||new Map])}function Ns(i,t=new Map){for(let e=-1,n=i.length;++e<n;){const s=i[e].type;if(H.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&Ns(s.children,t)}return t}var Ho=Ie,Id=Yr,Sd=yi;class kn{constructor(t,e=ue.V4,n,r){this.schema=t,this.version=e,n&&(this._recordBatches=n),r&&(this._dictionaryBatches=r)}static decode(t){t=new Sd(ut(t));const e=le.getRootAsFooter(t),n=yt.decode(e.schema());return new Ed(n,e)}static encode(t){const e=new Id,n=yt.encode(e,t.schema);le.startRecordBatchesVector(e,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())pi.encode(e,o);const r=e.endVector();le.startDictionariesVector(e,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())pi.encode(e,o);const s=e.endVector();return le.startFooter(e),le.addSchema(e,n),le.addVersion(e,ue.V4),le.addRecordBatches(e,r),le.addDictionaries(e,s),le.finishFooterBuffer(e,le.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,n=this.numRecordBatches;++e<n;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,n=this.numDictionaries;++e<n;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Ed extends kn{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return pi.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return pi.decode(e)}return null}}class pi{constructor(t,e,n){this.metaDataLength=t,this.offset=typeof n=="number"?n:n.low,this.bodyLength=typeof e=="number"?e:e.low}static decode(t){return new pi(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:n}=e,r=new Ho(e.offset,0),s=new Ho(e.bodyLength,0);return Fs.createBlock(t,r,n,s)}}const Ot=Object.freeze({done:!0,value:void 0});class Wo{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class so{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Ad extends so{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return j(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Ot);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return be.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return be.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return j(this,void 0,void 0,function*(){return yield this.abort(t),Ot})}return(t){return j(this,void 0,void 0,function*(){return yield this.close(),Ot})}read(t){return j(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return j(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((e,n)=>{this.resolvers.push({resolve:e,reject:n})}):Promise.resolve(Ot)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class $n extends Ad{write(t){if((t=ut(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?Is(this.toUint8Array(!0)):this.toUint8Array(!1).then(Is)}toUint8Array(t=!1){return t?Ye(this._values)[0]:(()=>j(this,void 0,void 0,function*(){var e,n;const r=[];let s=0;try{for(var o=Li(this),a;a=yield o.next(),!a.done;){const l=a.value;r.push(l),s+=l.byteLength}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=o.return)&&(yield n.call(o))}finally{if(e)throw e.error}}return Ye(r,s)[0]}))()}}class Er{constructor(t){t&&(this.source=new Td(be.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class hn{constructor(t){t instanceof hn?this.source=t.source:t instanceof $n?this.source=new Ti(be.fromAsyncIterable(t)):el(t)?this.source=new Ti(be.fromNodeStream(t)):Ys(t)?this.source=new Ti(be.fromDOMStream(t)):tl(t)?this.source=new Ti(be.fromDOMStream(t.body)):Cn(t)?this.source=new Ti(be.fromIterable(t)):xi(t)?this.source=new Ti(be.fromAsyncIterable(t)):mn(t)&&(this.source=new Ti(be.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class Td{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,e="read"){return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Ot)}return(t){return Object.create(this.source.return&&this.source.return(t)||Ot)}}class Ti{constructor(t){this.source=t,this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}cancel(t){return j(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return j(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return j(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t,e="read"){return j(this,void 0,void 0,function*(){return yield this.source.next({cmd:e,size:t})})}throw(t){return j(this,void 0,void 0,function*(){const e=this.source.throw&&(yield this.source.throw(t))||Ot;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}return(t){return j(this,void 0,void 0,function*(){const e=this.source.return&&(yield this.source.return(t))||Ot;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}}class Yo extends Er{constructor(t,e){super(),this.position=0,this.buffer=ut(t),this.size=typeof e>"u"?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:n}=this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:n,position:r}=this;return e&&r<n?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(n,r+Math.min(n-r,t)),e.subarray(r,this.position)):null}readAt(t,e){const n=this.buffer,r=Math.min(this.size,t+e);return n?n.subarray(t,r):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class Ar extends hn{constructor(t,e){super(),this.position=0,this._handle=t,typeof e=="number"?this.size=e:this._pending=(()=>j(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending}))()}readInt32(t){return j(this,void 0,void 0,function*(){const{buffer:e,byteOffset:n}=yield this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)})}seek(t){return j(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return j(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:e,size:n,position:r}=this;if(e&&r<n){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let s=r,o=0,a=0;const l=Math.min(n,s+Math.min(n-s,t)),c=new Uint8Array(Math.max(0,(this.position=l)-s));for(;(s+=a)<l&&(o+=a)<c.byteLength;)({bytesRead:a}=yield e.read(c,o,c.byteLength-o,s));return c}return null})}readAt(t,e){return j(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:r}=this;if(n&&t+e<r){const s=Math.min(r,t+e),o=new Uint8Array(s-t);return(yield n.read(o,0,e,t)).buffer}return new Uint8Array(e)})}close(){return j(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return j(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return j(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}const Fd=1<<16;function Xi(i){return i<0&&(i=4294967295+i+1),`0x${i.toString(16)}`}const dn=8,oo=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class bc{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),n=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]);let r=e[3]*n[3];this.buffer[0]=r&65535;let s=r>>>16;return r=e[2]*n[3],s+=r,r=e[3]*n[2]>>>0,s+=r,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<r?Fd:0,this.buffer[1]+=s>>>16,this.buffer[1]+=e[1]*n[3]+e[2]*n[2]+e[3]*n[1],this.buffer[1]+=e[0]*n[3]+e[1]*n[2]+e[2]*n[1]+e[3]*n[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${Xi(this.buffer[1])} ${Xi(this.buffer[0])}`}}class pt extends bc{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,e=new Uint32Array(2)){return pt.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return pt.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const n=t.length,r=new pt(e);for(let s=0;s<n;){const o=dn<n-s?dn:n-s,a=new pt(new Uint32Array([Number.parseInt(t.slice(s,s+o),10),0])),l=new pt(new Uint32Array([oo[o],0]));r.times(l),r.plus(a),s+=o}return r}static convertArray(t){const e=new Uint32Array(t.length*2);for(let n=-1,r=t.length;++n<r;)pt.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new pt(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new pt(new Uint32Array(t.buffer)).plus(e)}}class ee extends bc{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]<<0,n=t.buffer[1]<<0;return e<n||e===n&&this.buffer[0]<t.buffer[0]}static from(t,e=new Uint32Array(2)){return ee.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return ee.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const n=t.startsWith("-"),r=t.length,s=new ee(e);for(let o=n?1:0;o<r;){const a=dn<r-o?dn:r-o,l=new ee(new Uint32Array([Number.parseInt(t.slice(o,o+a),10),0])),c=new ee(new Uint32Array([oo[a],0]));s.times(c),s.plus(l),o+=a}return n?s.negate():s}static convertArray(t){const e=new Uint32Array(t.length*2);for(let n=-1,r=t.length;++n<r;)ee.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new ee(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new ee(new Uint32Array(t.buffer)).plus(e)}}class De{constructor(t){this.buffer=t}high(){return new ee(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new ee(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){const e=new pt(new Uint32Array([this.buffer[3],0])),n=new pt(new Uint32Array([this.buffer[2],0])),r=new pt(new Uint32Array([this.buffer[1],0])),s=new pt(new Uint32Array([this.buffer[0],0])),o=new pt(new Uint32Array([t.buffer[3],0])),a=new pt(new Uint32Array([t.buffer[2],0])),l=new pt(new Uint32Array([t.buffer[1],0])),c=new pt(new Uint32Array([t.buffer[0],0]));let h=pt.multiply(s,c);this.buffer[0]=h.low();const u=new pt(new Uint32Array([h.high(),0]));return h=pt.multiply(r,c),u.plus(h),h=pt.multiply(s,l),u.plus(h),this.buffer[1]=u.low(),this.buffer[3]=u.lessThan(h)?1:0,this.buffer[2]=u.high(),new pt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(pt.multiply(n,c)).plus(pt.multiply(r,l)).plus(pt.multiply(s,a)),this.buffer[3]+=pt.multiply(e,c).plus(pt.multiply(n,l)).plus(pt.multiply(r,a)).plus(pt.multiply(s,o)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${Xi(this.buffer[3])} ${Xi(this.buffer[2])} ${Xi(this.buffer[1])} ${Xi(this.buffer[0])}`}static multiply(t,e){return new De(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new De(new Uint32Array(t.buffer)).plus(e)}static from(t,e=new Uint32Array(4)){return De.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(4)){return De.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(4)){const n=t.startsWith("-"),r=t.length,s=new De(e);for(let o=n?1:0;o<r;){const a=dn<r-o?dn:r-o,l=new De(new Uint32Array([Number.parseInt(t.slice(o,o+a),10),0,0,0])),c=new De(new Uint32Array([oo[a],0,0,0]));s.times(c),s.plus(l),o+=a}return n?s.negate():s}static convertArray(t){const e=new Uint32Array(t.length*4);for(let n=-1,r=t.length;++n<r;)De.from(t[n],new Uint32Array(e.buffer,e.byteOffset+4*4*n,4));return e}}class gc extends ot{constructor(t,e,n,r){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=n,this.dictionaries=r}visit(t){return super.visit(t instanceof St?t.type:t)}visitNull(t,{length:e}=this.nextFieldNode()){return st({type:t,length:e})}visitBool(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitInt(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFloat(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitUtf8(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDate(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTimestamp(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTime(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDecimal(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitList(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===he.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFixedSizeList(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),child:this.visit(t.children[0])})}visitMap(t,{length:e,nullCount:n}=this.nextFieldNode()){return st({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e,n=this.nextBufferRange()){return e>0&&this.readData(t,n)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t,{length:e,offset:n}=this.nextBufferRange()){return this.bytes.subarray(n,n+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class Od extends gc{constructor(t,e,n,r){super(new Uint8Array(0),e,n,r),this.sources=t}readNullBitmap(t,e,{offset:n}=this.nextBufferRange()){return e<=0?new Uint8Array(0):pr(this.sources[n])}readOffsets(t,{offset:e}=this.nextBufferRange()){return _t(Uint8Array,_t(Int32Array,this.sources[e]))}readTypeIds(t,{offset:e}=this.nextBufferRange()){return _t(Uint8Array,_t(t.ArrayType,this.sources[e]))}readData(t,{offset:e}=this.nextBufferRange()){const{sources:n}=this;return H.isTimestamp(t)||(H.isInt(t)||H.isTime(t))&&t.bitWidth===64||H.isDate(t)&&t.unit===ni.MILLISECOND?_t(Uint8Array,ee.convertArray(n[e])):H.isDecimal(t)?_t(Uint8Array,De.convertArray(n[e])):H.isBinary(t)||H.isFixedSizeBinary(t)?Nd(n[e]):H.isBool(t)?pr(n[e]):H.isUtf8(t)?Hs(n[e].join("")):_t(Uint8Array,_t(t.ArrayType,n[e].map(r=>+r)))}}function Nd(i){const t=i.join(""),e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n>>1]=Number.parseInt(t.slice(n,n+2),16);return e}class q extends ot{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((n,r)=>this.compareFields(n,e[r]))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function ae(i,t){return t instanceof i.constructor}function Pn(i,t){return i===t||ae(i,t)}function oi(i,t){return i===t||ae(i,t)&&i.bitWidth===t.bitWidth&&i.isSigned===t.isSigned}function Gr(i,t){return i===t||ae(i,t)&&i.precision===t.precision}function Bd(i,t){return i===t||ae(i,t)&&i.byteWidth===t.byteWidth}function ao(i,t){return i===t||ae(i,t)&&i.unit===t.unit}function xn(i,t){return i===t||ae(i,t)&&i.unit===t.unit&&i.timezone===t.timezone}function Vn(i,t){return i===t||ae(i,t)&&i.unit===t.unit&&i.bitWidth===t.bitWidth}function kd(i,t){return i===t||ae(i,t)&&i.children.length===t.children.length&&bi.compareManyFields(i.children,t.children)}function Dd(i,t){return i===t||ae(i,t)&&i.children.length===t.children.length&&bi.compareManyFields(i.children,t.children)}function lo(i,t){return i===t||ae(i,t)&&i.mode===t.mode&&i.typeIds.every((e,n)=>e===t.typeIds[n])&&bi.compareManyFields(i.children,t.children)}function Rd(i,t){return i===t||ae(i,t)&&i.id===t.id&&i.isOrdered===t.isOrdered&&bi.visit(i.indices,t.indices)&&bi.visit(i.dictionary,t.dictionary)}function co(i,t){return i===t||ae(i,t)&&i.unit===t.unit}function Ld(i,t){return i===t||ae(i,t)&&i.listSize===t.listSize&&i.children.length===t.children.length&&bi.compareManyFields(i.children,t.children)}function Md(i,t){return i===t||ae(i,t)&&i.keysSorted===t.keysSorted&&i.children.length===t.children.length&&bi.compareManyFields(i.children,t.children)}q.prototype.visitNull=Pn;q.prototype.visitBool=Pn;q.prototype.visitInt=oi;q.prototype.visitInt8=oi;q.prototype.visitInt16=oi;q.prototype.visitInt32=oi;q.prototype.visitInt64=oi;q.prototype.visitUint8=oi;q.prototype.visitUint16=oi;q.prototype.visitUint32=oi;q.prototype.visitUint64=oi;q.prototype.visitFloat=Gr;q.prototype.visitFloat16=Gr;q.prototype.visitFloat32=Gr;q.prototype.visitFloat64=Gr;q.prototype.visitUtf8=Pn;q.prototype.visitBinary=Pn;q.prototype.visitFixedSizeBinary=Bd;q.prototype.visitDate=ao;q.prototype.visitDateDay=ao;q.prototype.visitDateMillisecond=ao;q.prototype.visitTimestamp=xn;q.prototype.visitTimestampSecond=xn;q.prototype.visitTimestampMillisecond=xn;q.prototype.visitTimestampMicrosecond=xn;q.prototype.visitTimestampNanosecond=xn;q.prototype.visitTime=Vn;q.prototype.visitTimeSecond=Vn;q.prototype.visitTimeMillisecond=Vn;q.prototype.visitTimeMicrosecond=Vn;q.prototype.visitTimeNanosecond=Vn;q.prototype.visitDecimal=Pn;q.prototype.visitList=kd;q.prototype.visitStruct=Dd;q.prototype.visitUnion=lo;q.prototype.visitDenseUnion=lo;q.prototype.visitSparseUnion=lo;q.prototype.visitDictionary=Rd;q.prototype.visitInterval=co;q.prototype.visitIntervalDayTime=co;q.prototype.visitIntervalYearMonth=co;q.prototype.visitFixedSizeList=Ld;q.prototype.visitMap=Md;const bi=new q;function Bs(i,t){return bi.compareSchemas(i,t)}function ls(i,t){return Ud(i,t.map(e=>e.data.concat()))}function Ud(i,t){const e=[...i.fields],n=[],r={numBatches:t.reduce((u,f)=>Math.max(u,f.length),0)};let s=0,o=0,a=-1;const l=t.length;let c,h=[];for(;r.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)h[a]=c=t[a].shift(),o=Math.min(o,c?c.length:o);Number.isFinite(o)&&(h=Cd(e,o,h,t,r),o>0&&(n[s++]=st({type:new Xt(e),length:o,nullCount:0,children:h.slice()})))}return[i=i.assign(e),n.map(u=>new Vt(i,u))]}function Cd(i,t,e,n,r){var s;const o=(t+63&-64)>>3;for(let a=-1,l=n.length;++a<l;){const c=e[a],h=c==null?void 0:c.length;if(h>=t)h===t?e[a]=c:(e[a]=c.slice(0,t),r.numBatches=Math.max(r.numBatches,n[a].unshift(c.slice(t,h-t))));else{const u=i[a];i[a]=u.clone({nullable:!0}),e[a]=(s=c==null?void 0:c._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:st({type:u.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return e}var _c;class Zt{constructor(...t){var e,n;if(t.length===0)return this.batches=[],this.schema=new yt([]),this._offsets=[0],this;let r,s;t[0]instanceof yt&&(r=t.shift()),t[t.length-1]instanceof Uint32Array&&(s=t.pop());const o=l=>{if(l){if(l instanceof Vt)return[l];if(l instanceof Zt)return l.batches;if(l instanceof vt){if(l.type instanceof Xt)return[new Vt(new yt(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(c=>o(c));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(c=>o(c));if(typeof l=="object"){const c=Object.keys(l),h=c.map(b=>new mt([l[b]])),u=new yt(c.map((b,I)=>new St(String(b),h[I].type))),[,f]=ls(u,h);return f.length===0?[new Vt(l)]:f}}}return[]},a=t.flatMap(l=>o(l));if(r=(n=r!=null?r:(e=a[0])===null||e===void 0?void 0:e.schema)!==null&&n!==void 0?n:new yt([]),!(r instanceof yt))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof Vt))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Bs(r,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=r,this.batches=a,this._offsets=s!=null?s:ac(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,e)=>t+e.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=oc(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return ro.visit(new mt(this.data))}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const e=this.schema,n=this.data.concat(t.flatMap(({data:r})=>r));return new Zt(e,n.map(r=>new Vt(e,r)))}slice(t,e){const n=this.schema;[t,e]=rc({length:this.numRows},t,e);const r=lc(this.data,this._offsets,t,e);return new Zt(n,r.map(s=>new Vt(n,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(e=>e.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map(n=>n.children[t]);if(e.length===0){const{type:n}=this.schema.fields[t],r=st({type:n,length:0,nullCount:0});e.push(r._changeLengthAndBackfillNullBitmap(this.numRows))}return new mt(e)}return null}setChild(t,e){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t),e)}setChildAt(t,e){let n=this.schema,r=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new mt([st({type:new fi,length:this.numRows})]));const s=n.fields.slice(),o=s[t].clone({type:e.type}),a=this.schema.fields.map((l,c)=>this.getChildAt(c));[s[t],a[t]]=[o,e],[n,r]=ls(n,a)}return new Zt(n,r)}select(t){const e=this.schema.fields.reduce((n,r,s)=>n.set(r.name,s),new Map);return this.selectAt(t.map(n=>e.get(n)).filter(n=>n>-1))}selectAt(t){const e=this.schema.selectAt(t),n=this.batches.map(r=>r.selectAt(t));return new Zt(e,n)}assign(t){const e=this.schema.fields,[n,r]=t.schema.fields.reduce((a,l,c)=>{const[h,u]=a,f=e.findIndex(b=>b.name===l.name);return~f?u[f]=c:h.push(c),a},[[],[]]),s=this.schema.assign(t.schema),o=[...e.map((a,l)=>[l,r[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):t.getChildAt(l)),...n.map(a=>t.getChildAt(a))].filter(Boolean);return new Zt(...ls(s,o))}}_c=Symbol.toStringTag;Zt[_c]=(i=>(i.schema=null,i.batches=[],i._offsets=new Uint32Array([0]),i._nullCount=-1,i[Symbol.isConcatSpreadable]=!0,i.isValid=rn(no),i.get=rn(oe.getVisitFn(m.Struct)),i.set=cc(Ee.getVisitFn(m.Struct)),i.indexOf=uc(br.getVisitFn(m.Struct)),i.getByteLength=rn(Ge.getVisitFn(m.Struct)),"Table"))(Zt.prototype);var wc;class Vt{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof yt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=st({nullCount:0,type:new Xt(this.schema.fields),children:this.schema.fields.map(e=>st({type:e.type,nullCount:0}))})]=t,!(this.data instanceof vt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=Go(this.schema,this.data.children);break}case 1:{const[e]=t,{fields:n,children:r,length:s}=Object.keys(e).reduce((l,c,h)=>(l.children[h]=e[c],l.length=Math.max(l.length,e[c].length),l.fields[h]=St.new({name:c,type:e[c].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new yt(n),a=st({type:new Xt(n),length:s,children:r,nullCount:0});[this.schema,this.data]=Go(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=vc(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return oe.visit(this.data,t)}set(t,e){return Ee.visit(this.data,t,e)}indexOf(t,e){return br.visit(this.data,t,e)}getByteLength(t){return Ge.visit(this.data,t)}[Symbol.iterator](){return ro.visit(new mt([this.data]))}toArray(){return[...this]}concat(...t){return new Zt(this.schema,[this,...t])}slice(t,e){const[n]=new mt([this.data]).slice(t,e).data;return new Vt(this.schema,n)}getChild(t){var e;return this.getChildAt((e=this.schema.fields)===null||e===void 0?void 0:e.findIndex(n=>n.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new mt([this.data.children[t]]):null}setChild(t,e){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t),e)}setChildAt(t,e){let n=this.schema,r=this.data;if(t>-1&&t<this.numCols){e||(e=new mt([st({type:new fi,length:this.numRows})]));const s=n.fields.slice(),o=r.children.slice(),a=s[t].clone({type:e.type});[s[t],o[t]]=[a,e.data[0]],n=new yt(s,new Map(this.schema.metadata)),r=st({type:new Xt(s),children:o})}return new Vt(n,r)}select(t){const e=this.schema.select(t),n=new Xt(e.fields),r=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(r[o]=this.data.children[o])}return new Vt(e,st({type:n,length:this.numRows,children:r}))}selectAt(t){const e=this.schema.selectAt(t),n=t.map(s=>this.data.children[s]).filter(Boolean),r=st({type:new Xt(e.fields),length:this.numRows,children:n});return new Vt(e,r)}}wc=Symbol.toStringTag;Vt[wc]=(i=>(i._nullCount=-1,i[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Vt.prototype);function Go(i,t,e=t.reduce((n,r)=>Math.max(n,r.length),0)){var n;const r=[...i.fields],s=[...t],o=(e+63&-64)>>3;for(const[a,l]of i.fields.entries()){const c=t[a];(!c||c.length!==e)&&(r[a]=l.clone({nullable:!0}),s[a]=(n=c==null?void 0:c._changeLengthAndBackfillNullBitmap(e))!==null&&n!==void 0?n:st({type:l.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)}))}return[i.assign(r),st({type:new Xt(r),length:e,children:s})]}function vc(i,t,e=new Map){for(let n=-1,r=i.length;++n<r;){const o=i[n].type,a=t[n];if(H.isDictionary(o)){if(!e.has(o.id))a.dictionary&&e.set(o.id,a.dictionary);else if(e.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&vc(o.children,a.children,e)}return e}class uo extends Vt{constructor(t){const e=t.fields.map(r=>st({type:r.type})),n=st({type:new Xt(t.fields),nullCount:0,children:e});super(t,n)}}var Tr;(function(i){i[i.BUFFER=0]="BUFFER"})(Tr||(Tr={}));var Fr;(function(i){i[i.LZ4_FRAME=0]="LZ4_FRAME",i[i.ZSTD=1]="ZSTD"})(Fr||(Fr={}));class ui{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new ui).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+wt),(e||new ui).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):Fr.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):Tr.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,Fr.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,Tr.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,n){return ui.startBodyCompression(t),ui.addCodec(t,e),ui.addMethod(t,n),ui.endBodyCompression(t)}}class Ic{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(e),t.offset()}}class Sc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(e),t.offset()}}class ge{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new ge).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+wt),(e||new ge).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Sc).__init(this.bb.__vector(this.bb_pos+n)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new Ic).__init(this.bb.__vector(this.bb_pos+n)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new ui).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}}class ei{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new ei).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+wt),(e||new ei).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new ge).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}var Or;(function(i){i[i.NONE=0]="NONE",i[i.Schema=1]="Schema",i[i.DictionaryBatch=2]="DictionaryBatch",i[i.RecordBatch=3]="RecordBatch",i[i.Tensor=4]="Tensor",i[i.SparseTensor=5]="SparseTensor"})(Or||(Or={}));class jt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new jt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+wt),(e||new jt).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ln.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Or.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new xt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,ln.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,Or.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,n,r,s,o){return jt.startMessage(t),jt.addVersion(t,e),jt.addHeaderType(t,n),jt.addHeader(t,r),jt.addBodyLength(t,s),jt.addCustomMetadata(t,o),jt.endMessage(t)}}var Pd=Ie;class xd extends ot{visit(t,e){return t==null||e==null?void 0:super.visit(t,e)}visitNull(t,e){return Bi.startNull(e),Bi.endNull(e)}visitInt(t,e){return ce.startInt(e),ce.addBitWidth(e,t.bitWidth),ce.addIsSigned(e,t.isSigned),ce.endInt(e)}visitFloat(t,e){return Pe.startFloatingPoint(e),Pe.addPrecision(e,t.precision),Pe.endFloatingPoint(e)}visitBinary(t,e){return Fi.startBinary(e),Fi.endBinary(e)}visitBool(t,e){return Oi.startBool(e),Oi.endBool(e)}visitUtf8(t,e){return Di.startUtf8(e),Di.endUtf8(e)}visitDecimal(t,e){return ie.startDecimal(e),ie.addScale(e,t.scale),ie.addPrecision(e,t.precision),ie.addBitWidth(e,t.bitWidth),ie.endDecimal(e)}visitDate(t,e){return Me.startDate(e),Me.addUnit(e,t.unit),Me.endDate(e)}visitTime(t,e){return we.startTime(e),we.addUnit(e,t.unit),we.addBitWidth(e,t.bitWidth),we.endTime(e)}visitTimestamp(t,e){const n=t.timezone&&e.createString(t.timezone)||void 0;return ve.startTimestamp(e),ve.addUnit(e,t.unit),n!==void 0&&ve.addTimezone(e,n),ve.endTimestamp(e)}visitInterval(t,e){return xe.startInterval(e),xe.addUnit(e,t.unit),xe.endInterval(e)}visitList(t,e){return Ni.startList(e),Ni.endList(e)}visitStruct(t,e){return ki.startStruct_(e),ki.endStruct_(e)}visitUnion(t,e){ne.startTypeIdsVector(e,t.typeIds.length);const n=ne.createTypeIdsVector(e,t.typeIds);return ne.startUnion(e),ne.addMode(e,t.mode),ne.addTypeIds(e,n),ne.endUnion(e)}visitDictionary(t,e){const n=this.visit(t.indices,e);return ti.startDictionaryEncoding(e),ti.addId(e,new Pd(t.id,0)),ti.addIsOrdered(e,t.isOrdered),n!==void 0&&ti.addIndexType(e,n),ti.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return Ue.startFixedSizeBinary(e),Ue.addByteWidth(e,t.byteWidth),Ue.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return Ce.startFixedSizeList(e),Ce.addListSize(e,t.listSize),Ce.endFixedSizeList(e)}visitMap(t,e){return Ve.startMap(e),Ve.addKeysSorted(e,t.keysSorted),Ve.endMap(e)}}const cs=new xd;function Vd(i,t=new Map){return new yt(zd(i,t),tr(i.customMetadata),t)}function Ec(i){return new de(i.count,Ac(i.columns),Tc(i.columns))}function jd(i){return new qe(Ec(i.data),i.id,i.isDelta)}function zd(i,t){return(i.fields||[]).filter(Boolean).map(e=>St.fromJSON(e,t))}function qo(i,t){return(i.children||[]).filter(Boolean).map(e=>St.fromJSON(e,t))}function Ac(i){return(i||[]).reduce((t,e)=>[...t,new zi(e.count,Hd(e.VALIDITY)),...Ac(e.children)],[])}function Tc(i,t=[]){for(let e=-1,n=(i||[]).length;++e<n;){const r=i[e];r.VALIDITY&&t.push(new ze(t.length,r.VALIDITY.length)),r.TYPE&&t.push(new ze(t.length,r.TYPE.length)),r.OFFSET&&t.push(new ze(t.length,r.OFFSET.length)),r.DATA&&t.push(new ze(t.length,r.DATA.length)),t=Tc(r.children,t)}return t}function Hd(i){return(i||[]).reduce((t,e)=>t+ +(e===0),0)}function Wd(i,t){let e,n,r,s,o,a;return!t||!(s=i.dictionary)?(o=Qo(i,qo(i,t)),r=new St(i.name,o,i.nullable,tr(i.customMetadata))):t.has(e=s.id)?(n=(n=s.indexType)?Jo(n):new On,a=new an(t.get(e),n,e,s.isOrdered),r=new St(i.name,a,i.nullable,tr(i.customMetadata))):(n=(n=s.indexType)?Jo(n):new On,t.set(e,o=Qo(i,qo(i,t))),a=new an(o,n,e,s.isOrdered),r=new St(i.name,a,i.nullable,tr(i.customMetadata))),r||null}function tr(i){return new Map(Object.entries(i||{}))}function Jo(i){return new mi(i.isSigned,i.bitWidth)}function Qo(i,t){const e=i.type.name;switch(e){case"NONE":return new fi;case"null":return new fi;case"binary":return new rr;case"utf8":return new sr;case"bool":return new or;case"list":return new hr((t||[])[0]);case"struct":return new Xt(t||[]);case"struct_":return new Xt(t||[])}switch(e){case"int":{const n=i.type;return new mi(n.isSigned,n.bitWidth)}case"floatingpoint":{const n=i.type;return new Nn(re[n.precision])}case"decimal":{const n=i.type;return new ar(n.scale,n.precision,n.bitWidth)}case"date":{const n=i.type;return new lr(ni[n.unit])}case"time":{const n=i.type;return new Bn(ht[n.unit],n.bitWidth)}case"timestamp":{const n=i.type;return new cr(ht[n.unit],n.timezone)}case"interval":{const n=i.type;return new ur(di[n.unit])}case"union":{const n=i.type;return new dr(he[n.mode],n.typeIds||[],t||[])}case"fixedsizebinary":{const n=i.type;return new fr(n.byteWidth)}case"fixedsizelist":{const n=i.type;return new mr(n.listSize,(t||[])[0])}case"map":{const n=i.type;return new yr((t||[])[0],n.keysSorted)}}throw new Error(`Unrecognized type: "${e}"`)}var Vi=Ie,Yd=Yr,Gd=yi;class $t{constructor(t,e,n,r){this._version=e,this._headerType=n,this.body=new Uint8Array(0),r&&(this._createHeader=()=>r),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,e){const n=new $t(0,ue.V4,e);return n._createHeader=qd(t,e),n}static decode(t){t=new Gd(ut(t));const e=jt.getRootAsMessage(t),n=e.bodyLength(),r=e.version(),s=e.headerType(),o=new $t(n,r,s);return o._createHeader=Jd(e,s),o}static encode(t){const e=new Yd;let n=-1;return t.isSchema()?n=yt.encode(e,t.header()):t.isRecordBatch()?n=de.encode(e,t.header()):t.isDictionaryBatch()&&(n=qe.encode(e,t.header())),jt.startMessage(e),jt.addVersion(e,ue.V4),jt.addHeader(e,n),jt.addHeaderType(e,t.headerType),jt.addBodyLength(e,new Vi(t.bodyLength,0)),jt.finishMessageBuffer(e,jt.endMessage(e)),e.asUint8Array()}static from(t,e=0){if(t instanceof yt)return new $t(0,ue.V4,ft.Schema,t);if(t instanceof de)return new $t(e,ue.V4,ft.RecordBatch,t);if(t instanceof qe)return new $t(e,ue.V4,ft.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===ft.Schema}isRecordBatch(){return this.headerType===ft.RecordBatch}isDictionaryBatch(){return this.headerType===ft.DictionaryBatch}}class de{constructor(t,e,n){this._nodes=e,this._buffers=n,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class qe{constructor(t,e,n=!1){this._data=t,this._isDelta=n,this._id=typeof e=="number"?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class ze{constructor(t,e){this.offset=typeof t=="number"?t:t.low,this.length=typeof e=="number"?e:e.low}}class zi{constructor(t,e){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof e=="number"?e:e.low}}function qd(i,t){return()=>{switch(t){case ft.Schema:return yt.fromJSON(i);case ft.RecordBatch:return de.fromJSON(i);case ft.DictionaryBatch:return qe.fromJSON(i)}throw new Error(`Unrecognized Message type: { name: ${ft[t]}, type: ${t} }`)}}function Jd(i,t){return()=>{switch(t){case ft.Schema:return yt.decode(i.header(new Ct));case ft.RecordBatch:return de.decode(i.header(new ge),i.version());case ft.DictionaryBatch:return qe.decode(i.header(new ei),i.version())}throw new Error(`Unrecognized Message type: { name: ${ft[t]}, type: ${t} }`)}}St.encode=of;St.decode=rf;St.fromJSON=Wd;yt.encode=sf;yt.decode=Qd;yt.fromJSON=Vd;de.encode=af;de.decode=Kd;de.fromJSON=Ec;qe.encode=lf;qe.decode=Zd;qe.fromJSON=jd;zi.encode=cf;zi.decode=$d;ze.encode=uf;ze.decode=Xd;function Qd(i,t=new Map){const e=nf(i,t);return new yt(e,er(i),t)}function Kd(i,t=ue.V4){if(i.compression()!==null)throw new Error("Record batch compression not implemented");return new de(i.length(),tf(i),ef(i,t))}function Zd(i,t=ue.V4){return new qe(de.decode(i.data(),t),i.id(),i.isDelta())}function Xd(i){return new ze(i.offset(),i.length())}function $d(i){return new zi(i.length(),i.nullCount())}function tf(i){const t=[];for(let e,n=-1,r=-1,s=i.nodesLength();++n<s;)(e=i.nodes(n))&&(t[++r]=zi.decode(e));return t}function ef(i,t){const e=[];for(let n,r=-1,s=-1,o=i.buffersLength();++r<o;)(n=i.buffers(r))&&(t<ue.V4&&(n.bb_pos+=8*(r+1)),e[++s]=ze.decode(n));return e}function nf(i,t){const e=[];for(let n,r=-1,s=-1,o=i.fieldsLength();++r<o;)(n=i.fields(r))&&(e[++s]=St.decode(n,t));return e}function Ko(i,t){const e=[];for(let n,r=-1,s=-1,o=i.childrenLength();++r<o;)(n=i.children(r))&&(e[++s]=St.decode(n,t));return e}function rf(i,t){let e,n,r,s,o,a;return!t||!(a=i.dictionary())?(r=Xo(i,Ko(i,t)),n=new St(i.name(),r,i.nullable(),er(i))):t.has(e=a.id().low)?(s=(s=a.indexType())?Zo(s):new On,o=new an(t.get(e),s,e,a.isOrdered()),n=new St(i.name(),o,i.nullable(),er(i))):(s=(s=a.indexType())?Zo(s):new On,t.set(e,r=Xo(i,Ko(i,t))),o=new an(r,s,e,a.isOrdered()),n=new St(i.name(),o,i.nullable(),er(i))),n||null}function er(i){const t=new Map;if(i)for(let e,n,r=-1,s=Math.trunc(i.customMetadataLength());++r<s;)(e=i.customMetadata(r))&&(n=e.key())!=null&&t.set(n,e.value());return t}function Zo(i){return new mi(i.isSigned(),i.bitWidth())}function Xo(i,t){const e=i.typeType();switch(e){case Tt.NONE:return new fi;case Tt.Null:return new fi;case Tt.Binary:return new rr;case Tt.Utf8:return new sr;case Tt.Bool:return new or;case Tt.List:return new hr((t||[])[0]);case Tt.Struct_:return new Xt(t||[])}switch(e){case Tt.Int:{const n=i.type(new ce);return new mi(n.isSigned(),n.bitWidth())}case Tt.FloatingPoint:{const n=i.type(new Pe);return new Nn(n.precision())}case Tt.Decimal:{const n=i.type(new ie);return new ar(n.scale(),n.precision(),n.bitWidth())}case Tt.Date:{const n=i.type(new Me);return new lr(n.unit())}case Tt.Time:{const n=i.type(new we);return new Bn(n.unit(),n.bitWidth())}case Tt.Timestamp:{const n=i.type(new ve);return new cr(n.unit(),n.timezone())}case Tt.Interval:{const n=i.type(new xe);return new ur(n.unit())}case Tt.Union:{const n=i.type(new ne);return new dr(n.mode(),n.typeIdsArray()||[],t||[])}case Tt.FixedSizeBinary:{const n=i.type(new Ue);return new fr(n.byteWidth())}case Tt.FixedSizeList:{const n=i.type(new Ce);return new mr(n.listSize(),(t||[])[0])}case Tt.Map:{const n=i.type(new Ve);return new yr((t||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: "${Tt[e]}" (${e})`)}function sf(i,t){const e=t.fields.map(s=>St.encode(i,s));Ct.startFieldsVector(i,e.length);const n=Ct.createFieldsVector(i,e),r=t.metadata&&t.metadata.size>0?Ct.createCustomMetadataVector(i,[...t.metadata].map(([s,o])=>{const a=i.createString(`${s}`),l=i.createString(`${o}`);return xt.startKeyValue(i),xt.addKey(i,a),xt.addValue(i,l),xt.endKeyValue(i)})):-1;return Ct.startSchema(i),Ct.addFields(i,n),Ct.addEndianness(i,hf?cn.Little:cn.Big),r!==-1&&Ct.addCustomMetadata(i,r),Ct.endSchema(i)}function of(i,t){let e=-1,n=-1,r=-1;const s=t.type;let o=t.typeId;H.isDictionary(s)?(o=s.dictionary.typeId,r=cs.visit(s,i),n=cs.visit(s.dictionary,i)):n=cs.visit(s,i);const a=(s.children||[]).map(h=>St.encode(i,h)),l=Jt.createChildrenVector(i,a),c=t.metadata&&t.metadata.size>0?Jt.createCustomMetadataVector(i,[...t.metadata].map(([h,u])=>{const f=i.createString(`${h}`),b=i.createString(`${u}`);return xt.startKeyValue(i),xt.addKey(i,f),xt.addValue(i,b),xt.endKeyValue(i)})):-1;return t.name&&(e=i.createString(t.name)),Jt.startField(i),Jt.addType(i,n),Jt.addTypeType(i,o),Jt.addChildren(i,l),Jt.addNullable(i,!!t.nullable),e!==-1&&Jt.addName(i,e),r!==-1&&Jt.addDictionary(i,r),c!==-1&&Jt.addCustomMetadata(i,c),Jt.endField(i)}function af(i,t){const e=t.nodes||[],n=t.buffers||[];ge.startNodesVector(i,e.length);for(const o of e.slice().reverse())zi.encode(i,o);const r=i.endVector();ge.startBuffersVector(i,n.length);for(const o of n.slice().reverse())ze.encode(i,o);const s=i.endVector();return ge.startRecordBatch(i),ge.addLength(i,new Vi(t.length,0)),ge.addNodes(i,r),ge.addBuffers(i,s),ge.endRecordBatch(i)}function lf(i,t){const e=de.encode(i,t.data);return ei.startDictionaryBatch(i),ei.addId(i,new Vi(t.id,0)),ei.addIsDelta(i,t.isDelta),ei.addData(i,e),ei.endDictionaryBatch(i)}function cf(i,t){return Sc.createFieldNode(i,new Vi(t.length,0),new Vi(t.nullCount,0))}function uf(i,t){return Ic.createBuffer(i,new Vi(t.offset,0),new Vi(t.length,0))}const hf=(()=>{const i=new ArrayBuffer(2);return new DataView(i).setInt16(0,256,!0),new Int16Array(i)[0]===256})(),ho=i=>`Expected ${ft[i]} Message in stream, but was null or length 0.`,fo=i=>`Header pointer of flatbuffer-encoded ${ft[i]} Message is null or length 0.`,Fc=(i,t)=>`Expected to read ${i} metadata bytes, but only read ${t}.`,Oc=(i,t)=>`Expected to read ${i} bytes for message body, but only read ${t}.`;class Nc{constructor(t){this.source=t instanceof Er?t:new Er(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||t.value===-1&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Ot:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(ho(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=ut(this.source.read(t));if(e.byteLength<t)throw new Error(Oc(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(t=!1){const e=ft.Schema,n=this.readMessage(e),r=n==null?void 0:n.header();if(t&&!r)throw new Error(fo(e));return r}readMetadataLength(){const t=this.source.read(qr),e=t&&new yi(t),n=(e==null?void 0:e.readInt32(0))||0;return{done:n===0,value:n}}readMetadata(t){const e=this.source.read(t);if(!e)return Ot;if(e.byteLength<t)throw new Error(Fc(t,e.byteLength));return{done:!1,value:$t.decode(e)}}}class df{constructor(t,e){this.source=t instanceof hn?t:$a(t)?new Ar(t,e):new hn(t)}[Symbol.asyncIterator](){return this}next(){return j(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||t.value===-1&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Ot:t})}throw(t){return j(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return j(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return j(this,void 0,void 0,function*(){let e;if((e=yield this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(ho(t));return e.value})}readMessageBody(t){return j(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const e=ut(yield this.source.read(t));if(e.byteLength<t)throw new Error(Oc(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()})}readSchema(t=!1){return j(this,void 0,void 0,function*(){const e=ft.Schema,n=yield this.readMessage(e),r=n==null?void 0:n.header();if(t&&!r)throw new Error(fo(e));return r})}readMetadataLength(){return j(this,void 0,void 0,function*(){const t=yield this.source.read(qr),e=t&&new yi(t),n=(e==null?void 0:e.readInt32(0))||0;return{done:n===0,value:n}})}readMetadata(t){return j(this,void 0,void 0,function*(){const e=yield this.source.read(t);if(!e)return Ot;if(e.byteLength<t)throw new Error(Fc(t,e.byteLength));return{done:!1,value:$t.decode(e)}})}}class ff extends Nc{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof Wo?t:new Wo(t)}next(){const{_json:t}=this;if(!this._schema){this._schema=!0;const e=$t.fromJSON(t.schema,ft.Schema);return{done:!1,value:e}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];this._body=e.data.columns;const n=$t.fromJSON(e,ft.DictionaryBatch);return{done:!1,value:n}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];this._body=e.columns;const n=$t.fromJSON(e,ft.RecordBatch);return{done:!1,value:n}}return this._body=[],Ot}readMessageBody(t){return e(this._body);function e(n){return(n||[]).reduce((r,s)=>[...r,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE&&[s.TYPE]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...e(s.children)],[])}}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(ho(t));return e.value}readSchema(){const t=ft.Schema,e=this.readMessage(t),n=e==null?void 0:e.header();if(!e||!n)throw new Error(fo(t));return n}}const qr=4,ks="ARROW1",Dn=new Uint8Array(ks.length);for(let i=0;i<ks.length;i+=1)Dn[i]=ks.codePointAt(i);function mo(i,t=0){for(let e=-1,n=Dn.length;++e<n;)if(Dn[e]!==i[t+e])return!1;return!0}const jn=Dn.length,Bc=jn+qr,mf=jn*2+qr;class Se extends so{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return xi(e)?e.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return be.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return be.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof Se?t:Ss(t)?gf(t):$a(t)?vf(t):xi(t)?(()=>j(this,void 0,void 0,function*(){return yield Se.from(yield t)}))():tl(t)||Ys(t)||el(t)||mn(t)?wf(new hn(t)):_f(new Er(t))}static readAll(t){return t instanceof Se?t.isSync()?$o(t):ta(t):Ss(t)||ArrayBuffer.isView(t)||Cn(t)||Xa(t)?$o(t):ta(t)}}class Nr extends Se{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return je(this,arguments,function*(){yield et(yield*Xn(Li(this[Symbol.iterator]())))})}}class Br extends Se{constructor(t){super(t),this._impl=t}readAll(){var t,e;return j(this,void 0,void 0,function*(){const n=new Array;try{for(var r=Li(this),s;s=yield r.next(),!s.done;){const o=s.value;n.push(o)}}catch(o){t={error:o}}finally{try{s&&!s.done&&(e=r.return)&&(yield e.call(r))}finally{if(t)throw t.error}}return n})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class kc extends Nr{constructor(t){super(t),this._impl=t}}class yf extends Br{constructor(t){super(t),this._impl=t}}class Dc{constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const n=this._loadVectors(t,e,this.schema.fields),r=st({type:new Xt(this.schema.fields),length:t.length,children:n});return new Vt(this.schema,r)}_loadDictionaryBatch(t,e){const{id:n,isDelta:r}=t,{dictionaries:s,schema:o}=this,a=s.get(n);if(r||!a){const l=o.dictionaries.get(n),c=this._loadVectors(t.data,e,[l]);return(a&&r?a.concat(new mt(c)):new mt(c)).memoize()}return a.memoize()}_loadVectors(t,e,n){return new gc(e,t.nodes,t.buffers,this.dictionaries).visitMany(n)}}class kr extends Dc{constructor(t,e){super(e),this._reader=Ss(t)?new ff(this._handle=t):new Nc(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=Lc(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Ot}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Ot}next(){if(this.closed)return Ot;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),r=e.readMessageBody(t.bodyLength),s=this._loadRecordBatch(n,r);return{done:!1,value:s}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),r=e.readMessageBody(t.bodyLength),s=this._loadDictionaryBatch(n,r);this.dictionaries.set(n.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new uo(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Dr extends Dc{constructor(t,e){super(e),this._reader=new df(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return j(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return j(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=Lc(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return j(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Ot})}return(t){return j(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Ot})}next(){return j(this,void 0,void 0,function*(){if(this.closed)return Ot;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),r=yield e.readMessageBody(t.bodyLength),s=this._loadRecordBatch(n,r);return{done:!1,value:s}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),r=yield e.readMessageBody(t.bodyLength),s=this._loadDictionaryBatch(n,r);this.dictionaries.set(n.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new uo(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return j(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class Rc extends kr{constructor(t,e){super(t instanceof Yo?t:new Yo(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const e of this._footer.dictionaryBatches())e&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const n=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(t);if(n&&this._handle.seek(n.offset)){const r=this._reader.readMessage(ft.RecordBatch);if(r!=null&&r.isRecordBatch()){const s=r.header(),o=this._reader.readMessageBody(r.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(t){var e;const n=(e=this._footer)===null||e===void 0?void 0:e.getDictionaryBatch(t);if(n&&this._handle.seek(n.offset)){const r=this._reader.readMessage(ft.DictionaryBatch);if(r!=null&&r.isDictionaryBatch()){const s=r.header(),o=this._reader.readMessageBody(r.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){const{_handle:t}=this,e=t.size-Bc,n=t.readInt32(e),r=t.readAt(e-n,n);return kn.decode(r)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(this._recordBatchIndex);if(n&&this._handle.seek(n.offset))return this._reader.readMessage(t)}return null}}class pf extends Dr{constructor(t,...e){const n=typeof e[0]!="number"?e.shift():void 0,r=e[0]instanceof Map?e.shift():void 0;super(t instanceof Ar?t:new Ar(t,n),r)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return j(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)})}readRecordBatch(t){var e;return j(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const n=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(t);if(n&&(yield this._handle.seek(n.offset))){const r=yield this._reader.readMessage(ft.RecordBatch);if(r!=null&&r.isRecordBatch()){const s=r.header(),o=yield this._reader.readMessageBody(r.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(t){var e;return j(this,void 0,void 0,function*(){const n=(e=this._footer)===null||e===void 0?void 0:e.getDictionaryBatch(t);if(n&&(yield this._handle.seek(n.offset))){const r=yield this._reader.readMessage(ft.DictionaryBatch);if(r!=null&&r.isDictionaryBatch()){const s=r.header(),o=yield this._reader.readMessageBody(r.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return j(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-Bc,n=yield t.readInt32(e),r=yield t.readAt(e-n,n);return kn.decode(r)})}_readNextMessageAndValidate(t){return j(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null})}}class bf extends kr{constructor(t,e){super(t,e)}_loadVectors(t,e,n){return new Od(e,t.nodes,t.buffers,this.dictionaries).visitMany(n)}}function Lc(i,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:i.autoDestroy}function*$o(i){const t=Se.from(i);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function ta(i){return je(this,arguments,function*(){const e=yield et(Se.from(i));try{if(!(yield et(e.open({autoDestroy:!1}))).closed)do yield yield et(e);while(!(yield et(e.reset().open())).closed)}finally{yield et(e.cancel())}})}function gf(i){return new Nr(new bf(i))}function _f(i){const t=i.peek(jn+7&-8);return t&&t.byteLength>=4?mo(t)?new kc(new Rc(i.read())):new Nr(new kr(i)):new Nr(new kr(function*(){}()))}function wf(i){return j(this,void 0,void 0,function*(){const t=yield i.peek(jn+7&-8);return t&&t.byteLength>=4?mo(t)?new kc(new Rc(yield i.read())):new Br(new Dr(i)):new Br(new Dr(function(){return je(this,arguments,function*(){})}()))})}function vf(i){return j(this,void 0,void 0,function*(){const{size:t}=yield i.stat(),e=new Ar(i,t);return t>=mf&&mo(yield e.readAt(0,jn+7&-8))?new yf(new pf(e)):new Br(new Dr(e))})}class Rt extends ot{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const e=r=>r.flatMap(s=>Array.isArray(s)?e(s):s instanceof Vt?s.data.children:s.data),n=new Rt;return n.visitMany(e(t)),n}visit(t){if(t instanceof mt)return this.visitMany(t.data),this;const{type:e}=t;if(!H.isDictionary(e)){const{length:n,nullCount:r}=t;if(n>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");H.isNull(e)||Ne.call(this,r<=0?new Uint8Array(0):to(t.offset,n,t.nullBitmap)),this.nodes.push(new zi(n,r))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Ne(i){const t=i.byteLength+7&-8;return this.buffers.push(i),this.bufferRegions.push(new ze(this._byteLength,t)),this._byteLength+=t,this}function If(i){const{type:t,length:e,typeIds:n,valueOffsets:r}=i;if(Ne.call(this,n),t.mode===he.Sparse)return Ds.call(this,i);if(t.mode===he.Dense){if(i.offset<=0)return Ne.call(this,r),Ds.call(this,i);{const s=n.reduce((h,u)=>Math.max(h,u),n[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),l=new Int32Array(e),c=qs(-r[0],e,r);for(let h,u,f=-1;++f<e;)(u=a[h=n[f]])===-1&&(u=a[h]=c[h]),l[f]=c[f]-u,++o[h];Ne.call(this,l);for(let h,u=-1,f=t.children.length;++u<f;)if(h=i.children[u]){const b=t.typeIds[u],I=Math.min(e,o[b]);this.visit(h.slice(a[b],I))}}}return this}function Sf(i){let t;return i.nullCount>=i.length?Ne.call(this,new Uint8Array(0)):(t=i.values)instanceof Uint8Array?Ne.call(this,to(i.offset,i.length,t)):Ne.call(this,pr(i.values))}function Si(i){return Ne.call(this,i.values.subarray(0,i.length*i.stride))}function Mc(i){const{length:t,values:e,valueOffsets:n}=i,r=n[0],s=n[t],o=Math.min(s-r,e.byteLength-r);return Ne.call(this,qs(-n[0],t,n)),Ne.call(this,e.subarray(r,r+o)),this}function yo(i){const{length:t,valueOffsets:e}=i;return e&&Ne.call(this,qs(e[0],t,e)),this.visit(i.children[0])}function Ds(i){return this.visitMany(i.type.children.map((t,e)=>i.children[e]).filter(Boolean))[0]}Rt.prototype.visitBool=Sf;Rt.prototype.visitInt=Si;Rt.prototype.visitFloat=Si;Rt.prototype.visitUtf8=Mc;Rt.prototype.visitBinary=Mc;Rt.prototype.visitFixedSizeBinary=Si;Rt.prototype.visitDate=Si;Rt.prototype.visitTimestamp=Si;Rt.prototype.visitTime=Si;Rt.prototype.visitDecimal=Si;Rt.prototype.visitList=yo;Rt.prototype.visitStruct=Ds;Rt.prototype.visitUnion=If;Rt.prototype.visitInterval=Si;Rt.prototype.visitFixedSizeList=yo;Rt.prototype.visitMap=yo;class Uc extends so{constructor(t){super(),this._position=0,this._started=!1,this._sink=new $n,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,se(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return xi(t)?t.then(e=>this.writeAll(e)):mn(t)?_o(this,t):go(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,e=null){return t===this._sink||t instanceof $n?this._sink=t:(this._sink=new $n,t&&Hu(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&Wu(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!e||!Bs(e,this._schema))&&(e==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Zt&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof Vt&&!(e=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(e&&!Bs(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof Vt?t instanceof uo||this._writeRecordBatch(t):t instanceof Zt?this.writeAll(t.batches):Cn(t)&&this.writeAll(t)}_writeMessage(t,e=8){const n=e-1,r=$t.encode(t),s=r.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+n&~n,l=a-s-o;return t.headerType===ft.RecordBatch?this._recordBatchBlocks.push(new pi(a,t.bodyLength,this._position)):t.headerType===ft.DictionaryBatch&&this._dictionaryBlocks.push(new pi(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(r),this._writePadding(l)}_write(t){if(this._started){const e=ut(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage($t.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Dn)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:n,bufferRegions:r,buffers:s}=Rt.assemble(t),o=new de(t.numRows,n,r),a=$t.from(o,e);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,e,n=!1){this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:r,nodes:s,bufferRegions:o,buffers:a}=Rt.assemble(new mt([t])),l=new de(t.length,s,o),c=new qe(l,e,n),h=$t.from(c,r);return this._writeMessage(h)._writeBodyBuffers(a)}_writeBodyBuffers(t){let e,n,r;for(let s=-1,o=t.length;++s<o;)(e=t[s])&&(n=e.byteLength)>0&&(this._write(e),(r=(n+7&-8)-n)>0&&this._writePadding(r));return this}_writeDictionaries(t){for(let[e,n]of t.dictionaries){let r=this._dictionaryDeltaOffsets.get(e)||0;if(r===0||(n=n==null?void 0:n.slice(r)).length>0)for(const s of n.data)this._writeDictionaryBatch(s,e,r>0),r+=s.length}return this}}class po extends Uc{static writeAll(t,e){const n=new po(e);return xi(t)?t.then(r=>n.writeAll(r)):mn(t)?_o(n,t):go(n,t)}}class bo extends Uc{static writeAll(t){const e=new bo;return xi(t)?t.then(n=>e.writeAll(n)):mn(t)?_o(e,t):go(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=kn.encode(new kn(t,ue.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function go(i,t){let e=t;t instanceof Zt&&(e=t.batches,i.reset(void 0,t.schema));for(const n of e)i.write(n);return i.finish()}function _o(i,t){var e,n,r,s;return j(this,void 0,void 0,function*(){try{for(e=Li(t);n=yield e.next(),!n.done;){const o=n.value;i.write(o)}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}return i.finish()})}function Ef(i,t="stream"){return(t==="stream"?po:bo).writeAll(i).toUint8Array(!0)}var Af=Object.create,Cc=Object.defineProperty,Tf=Object.getOwnPropertyDescriptor,Ff=Object.getOwnPropertyNames,Of=Object.getPrototypeOf,Nf=Object.prototype.hasOwnProperty,Bf=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports),kf=(i,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Ff(t))!Nf.call(i,r)&&r!==e&&Cc(i,r,{get:()=>t[r],enumerable:!(n=Tf(t,r))||n.enumerable});return i},Df=(i,t,e)=>(e=i!=null?Af(Of(i)):{},kf(t||!i||!i.__esModule?Cc(e,"default",{value:i,enumerable:!0}):e,i)),Rf=Bf((i,t)=>{t.exports=Worker}),Lf=(i=>(i[i.NONE=0]="NONE",i[i.DEBUG=1]="DEBUG",i[i.INFO=2]="INFO",i[i.WARNING=3]="WARNING",i[i.ERROR=4]="ERROR",i))(Lf||{}),Mf=(i=>(i[i.NONE=0]="NONE",i[i.CONNECT=1]="CONNECT",i[i.DISCONNECT=2]="DISCONNECT",i[i.OPEN=3]="OPEN",i[i.QUERY=4]="QUERY",i[i.INSTANTIATE=5]="INSTANTIATE",i))(Mf||{}),Uf=(i=>(i[i.NONE=0]="NONE",i[i.OK=1]="OK",i[i.ERROR=2]="ERROR",i[i.START=3]="START",i[i.RUN=4]="RUN",i[i.CAPTURE=5]="CAPTURE",i))(Uf||{}),Cf=(i=>(i[i.NONE=0]="NONE",i[i.WEB_WORKER=1]="WEB_WORKER",i[i.NODE_WORKER=2]="NODE_WORKER",i[i.BINDINGS=3]="BINDINGS",i[i.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",i))(Cf||{}),Pf=class{constructor(i=2){this.level=i}log(i){i.level>=this.level&&console.log(i)}},xf=(i=>(i[i.SUCCESS=0]="SUCCESS",i))(xf||{}),Vf=class{constructor(i,t){this._bindings=i,this._conn=t}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(i){return i(this._bindings,this._conn)}async query(i){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:i});let t=await this._bindings.runQuery(this._conn,i),e=Se.from(t);return console.assert(e.isSync()),console.assert(e.isFile()),new Zt(e)}async send(i){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:i});let t=await this._bindings.startPendingQuery(this._conn,i);for(;t==null;)t=await this._bindings.pollPendingQuery(this._conn);let e=new Pc(this._bindings,this._conn,t),n=await Se.from(e);return console.assert(n.isAsync()),console.assert(n.isStream()),n}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(i){return await this._bindings.getTableNames(this._conn,i)}async prepare(i){let t=await this._bindings.createPrepared(this._conn,i);return new jf(this._bindings,this._conn,t)}async insertArrowTable(i,t){let e=Ef(i,"stream");await this.insertArrowFromIPCStream(e,t)}async insertArrowFromIPCStream(i,t){await this._bindings.insertArrowFromIPCStream(this._conn,i,t)}async insertCSVFromPath(i,t){await this._bindings.insertCSVFromPath(this._conn,i,t)}async insertJSONFromPath(i,t){await this._bindings.insertJSONFromPath(this._conn,i,t)}},Pc=class{constructor(i,t,e){this.db=i,this.conn=t,this.header=e,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let i;return this._inFlight!=null?(i=await this._inFlight,this._inFlight=null):i=await this.db.fetchQueryResults(this.conn),this._depleted=i.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:i}}[Symbol.asyncIterator](){return this}},jf=class{constructor(i,t,e){this.bindings=i,this.connectionId=t,this.statementId=e}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...i){let t=await this.bindings.runPrepared(this.connectionId,this.statementId,i),e=Se.from(t);return console.assert(e.isSync()),console.assert(e.isFile()),new Zt(e)}async send(...i){let t=await this.bindings.sendPrepared(this.connectionId,this.statementId,i),e=new Pc(this.bindings,this.connectionId,t),n=await Se.from(e);return console.assert(n.isAsync()),console.assert(n.isStream()),n}},zf=(i=>(i.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",i.CLOSE_PREPARED="CLOSE_PREPARED",i.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",i.CONNECT="CONNECT",i.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",i.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",i.CREATE_PREPARED="CREATE_PREPARED",i.DISCONNECT="DISCONNECT",i.DROP_FILE="DROP_FILE",i.DROP_FILES="DROP_FILES",i.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",i.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",i.FLUSH_FILES="FLUSH_FILES",i.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",i.GET_TABLE_NAMES="GET_TABLE_NAMES",i.GET_VERSION="GET_VERSION",i.GLOB_FILE_INFOS="GLOB_FILE_INFOS",i.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",i.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",i.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",i.INSTANTIATE="INSTANTIATE",i.OPEN="OPEN",i.PING="PING",i.POLL_PENDING_QUERY="POLL_PENDING_QUERY",i.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",i.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",i.REGISTER_FILE_URL="REGISTER_FILE_URL",i.RESET="RESET",i.RUN_PREPARED="RUN_PREPARED",i.RUN_QUERY="RUN_QUERY",i.SEND_PREPARED="SEND_PREPARED",i.START_PENDING_QUERY="START_PENDING_QUERY",i.TOKENIZE="TOKENIZE",i))(zf||{}),Hf=(i=>(i.CONNECTION_INFO="CONNECTION_INFO",i.ERROR="ERROR",i.FEATURE_FLAGS="FEATURE_FLAGS",i.FILE_BUFFER="FILE_BUFFER",i.FILE_INFOS="FILE_INFOS",i.FILE_SIZE="FILE_SIZE",i.FILE_STATISTICS="FILE_STATISTICS",i.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",i.LOG="LOG",i.OK="OK",i.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",i.QUERY_PLAN="QUERY_PLAN",i.QUERY_RESULT="QUERY_RESULT",i.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",i.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",i.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",i.REGISTERED_FILE="REGISTERED_FILE",i.SCRIPT_TOKENS="SCRIPT_TOKENS",i.SUCCESS="SUCCESS",i.TABLE_NAMES="TABLE_NAMES",i.VERSION_STRING="VERSION_STRING",i))(Hf||{}),at=class{constructor(i,t){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=i,this.data=t,this.promise=new Promise((e,n)=>{this.promiseResolver=e,this.promiseRejecter=n})}};function ir(i){switch(i.typeId){case m.Binary:return{sqlType:"binary"};case m.Bool:return{sqlType:"bool"};case m.Date:return{sqlType:"date"};case m.DateDay:return{sqlType:"date32[d]"};case m.DateMillisecond:return{sqlType:"date64[ms]"};case m.Decimal:{let t=i;return{sqlType:"decimal",precision:t.precision,scale:t.scale}}case m.Float:return{sqlType:"float"};case m.Float16:return{sqlType:"float16"};case m.Float32:return{sqlType:"float32"};case m.Float64:return{sqlType:"float64"};case m.Int:return{sqlType:"int32"};case m.Int16:return{sqlType:"int16"};case m.Int32:return{sqlType:"int32"};case m.Int64:return{sqlType:"int64"};case m.Uint16:return{sqlType:"uint16"};case m.Uint32:return{sqlType:"uint32"};case m.Uint64:return{sqlType:"uint64"};case m.Uint8:return{sqlType:"uint8"};case m.IntervalDayTime:return{sqlType:"interval[dt]"};case m.IntervalYearMonth:return{sqlType:"interval[m]"};case m.List:return{sqlType:"list",valueType:ir(i.valueType)};case m.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:i.byteWidth};case m.Null:return{sqlType:"null"};case m.Utf8:return{sqlType:"utf8"};case m.Struct:return{sqlType:"struct",fields:i.children.map(t=>Rs(t.name,t.type))};case m.Map:{let t=i;return{sqlType:"map",keyType:ir(t.keyType),valueType:ir(t.valueType)}}case m.Time:return{sqlType:"time[s]"};case m.TimeMicrosecond:return{sqlType:"time[us]"};case m.TimeMillisecond:return{sqlType:"time[ms]"};case m.TimeNanosecond:return{sqlType:"time[ns]"};case m.TimeSecond:return{sqlType:"time[s]"};case m.Timestamp:return{sqlType:"timestamp",timezone:i.timezone||void 0};case m.TimestampSecond:return{sqlType:"timestamp[s]",timezone:i.timezone||void 0};case m.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:i.timezone||void 0};case m.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:i.timezone||void 0};case m.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:i.timezone||void 0}}throw new Error(`unsupported arrow type: ${i.toString()}`)}function Rs(i,t){let e=ir(t);return e.name=i,e}var Wf=new TextEncoder,Yf=class{constructor(i,t=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=i,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),t!=null&&this.attach(t)}get logger(){return this._logger}attach(i){this._worker=i,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((t,e)=>{this._workerShutdownResolver=t})}detach(){!this._worker||(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){!this._worker||(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(i,t=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let e=this._nextMessageId++;return this._pendingRequests.set(e,i),this._worker.postMessage({messageId:e,type:i.type,data:i.data},t),await i.promise}onMessage(i){let t=i.data;switch(t.type){case"LOG":{this._logger.log(t.data);return}case"INSTANTIATE_PROGRESS":{for(let n of this._onInstantiationProgress)n(t.data);return}}let e=this._pendingRequests.get(t.requestId);if(!e){console.warn(`unassociated response: [${t.requestId}, ${t.type.toString()}]`);return}if(this._pendingRequests.delete(t.requestId),t.type=="ERROR"){let n=new Error(t.data.message);n.name=t.data.name,n.stack=t.data.stack,e.promiseRejecter(n);return}switch(e.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(t.type=="OK"){e.promiseResolver(t.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],t.type=="OK"){e.promiseResolver(t.data);return}break;case"GLOB_FILE_INFOS":if(t.type=="FILE_INFOS"){e.promiseResolver(t.data);return}break;case"GET_VERSION":if(t.type=="VERSION_STRING"){e.promiseResolver(t.data);return}break;case"GET_FEATURE_FLAGS":if(t.type=="FEATURE_FLAGS"){e.promiseResolver(t.data);return}break;case"GET_TABLE_NAMES":if(t.type=="TABLE_NAMES"){e.promiseResolver(t.data);return}break;case"TOKENIZE":if(t.type=="SCRIPT_TOKENS"){e.promiseResolver(t.data);return}break;case"COPY_FILE_TO_BUFFER":if(t.type=="FILE_BUFFER"){e.promiseResolver(t.data);return}break;case"EXPORT_FILE_STATISTICS":if(t.type=="FILE_STATISTICS"){e.promiseResolver(t.data);return}break;case"CONNECT":if(t.type=="CONNECTION_INFO"){e.promiseResolver(t.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(t.type=="QUERY_RESULT"){e.promiseResolver(t.data);return}break;case"SEND_PREPARED":if(t.type=="QUERY_RESULT_HEADER"){e.promiseResolver(t.data);return}break;case"START_PENDING_QUERY":if(t.type=="QUERY_RESULT_HEADER_OR_NULL"){e.promiseResolver(t.data);return}break;case"POLL_PENDING_QUERY":if(t.type=="QUERY_RESULT_HEADER_OR_NULL"){e.promiseResolver(t.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],t.type=="SUCCESS"){e.promiseResolver(t.data);return}break;case"FETCH_QUERY_RESULTS":if(t.type=="QUERY_RESULT_CHUNK"){e.promiseResolver(t.data);return}break;case"CREATE_PREPARED":if(t.type=="PREPARED_STATEMENT_ID"){e.promiseResolver(t.data);return}break}e.promiseRejecter(new Error(`unexpected response type: ${t.type.toString()}`))}onError(i){console.error(i),console.error(`error in duckdb worker: ${i.message}`),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn(`worker terminated with ${this._pendingRequests.size} pending requests`);return}this._pendingRequests.clear()}async reset(){let i=new at("RESET",null);return await this.postTask(i)}async ping(){let i=new at("PING",null);await this.postTask(i)}async dropFile(i){let t=new at("DROP_FILE",i);return await this.postTask(t)}async dropFiles(){let i=new at("DROP_FILES",null);return await this.postTask(i)}async flushFiles(){let i=new at("FLUSH_FILES",null);return await this.postTask(i)}async instantiate(i,t=null,e=n=>{}){this._onInstantiationProgress.push(e);let n=new at("INSTANTIATE",[i,t]);return await this.postTask(n)}async getVersion(){let i=new at("GET_VERSION",null);return await this.postTask(i)}async getFeatureFlags(){let i=new at("GET_FEATURE_FLAGS",null);return await this.postTask(i)}async open(i){let t=new at("OPEN",i);await this.postTask(t)}async tokenize(i){let t=new at("TOKENIZE",i);return await this.postTask(t)}async connectInternal(){let i=new at("CONNECT",null);return await this.postTask(i)}async connect(){let i=await this.connectInternal();return new Vf(this,i)}async disconnect(i){let t=new at("DISCONNECT",i);await this.postTask(t)}async runQuery(i,t){let e=new at("RUN_QUERY",[i,t]);return await this.postTask(e)}async startPendingQuery(i,t){let e=new at("START_PENDING_QUERY",[i,t]);return await this.postTask(e)}async pollPendingQuery(i){let t=new at("POLL_PENDING_QUERY",i);return await this.postTask(t)}async cancelPendingQuery(i){let t=new at("CANCEL_PENDING_QUERY",i);return await this.postTask(t)}async fetchQueryResults(i){let t=new at("FETCH_QUERY_RESULTS",i);return await this.postTask(t)}async getTableNames(i,t){let e=new at("GET_TABLE_NAMES",[i,t]);return await this.postTask(e)}async createPrepared(i,t){let e=new at("CREATE_PREPARED",[i,t]);return await this.postTask(e)}async closePrepared(i,t){let e=new at("CLOSE_PREPARED",[i,t]);await this.postTask(e)}async runPrepared(i,t,e){let n=new at("RUN_PREPARED",[i,t,e]);return await this.postTask(n)}async sendPrepared(i,t,e){let n=new at("SEND_PREPARED",[i,t,e]);return await this.postTask(n)}async globFiles(i){let t=new at("GLOB_FILE_INFOS",i);return await this.postTask(t)}async registerFileText(i,t){let e=Wf.encode(t);await this.registerFileBuffer(i,e)}async registerFileURL(i,t){t===void 0&&(t=i);let e=new at("REGISTER_FILE_URL",[i,t]);await this.postTask(e)}async registerEmptyFileBuffer(i){let t=new at("REGISTER_FILE_BUFFER",[i,new Uint8Array]);await this.postTask(t)}async registerFileBuffer(i,t){let e=new at("REGISTER_FILE_BUFFER",[i,t]);await this.postTask(e,[t.buffer])}async registerFileHandle(i,t){let e=new at("REGISTER_FILE_HANDLE",[i,t]);await this.postTask(e,[])}async collectFileStatistics(i,t){let e=new at("COLLECT_FILE_STATISTICS",[i,t]);await this.postTask(e,[])}async exportFileStatistics(i){let t=new at("EXPORT_FILE_STATISTICS",i);return await this.postTask(t,[])}async copyFileToBuffer(i){let t=new at("COPY_FILE_TO_BUFFER",i);return await this.postTask(t)}async copyFileToPath(i,t){let e=new at("COPY_FILE_TO_PATH",[i,t]);await this.postTask(e)}async insertArrowFromIPCStream(i,t,e){if(t.length==0)return;let n=new at("INSERT_ARROW_FROM_IPC_STREAM",[i,t,e]);await this.postTask(n,[t.buffer])}async insertCSVFromPath(i,t,e){if(e.columns!==void 0){let r=[];for(let s in e.columns){let o=e.columns[s];r.push(Rs(s,o))}e.columnsFlat=r,delete e.columns}let n=new at("IMPORT_CSV_FROM_PATH",[i,t,e]);await this.postTask(n)}async insertJSONFromPath(i,t,e){if(e.columns!==void 0){let r=[];for(let s in e.columns){let o=e.columns[s];r.push(Rs(s,o))}e.columnsFlat=r,delete e.columns}let n=new at("IMPORT_JSON_FROM_PATH",[i,t,e]);await this.postTask(n)}},Gf=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),qf=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),Jf=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),Qf=()=>(async i=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(i)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),Kf={name:"@duckdb/duckdb-wasm",version:"1.16.0",description:"DuckDB powered by WebAssembly",license:"MPL-2.0",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^8.0.0"},devDependencies:{"@types/emscripten":"^1.39.6","@types/jasmine":"^4.0.3","@typescript-eslint/eslint-plugin":"^5.30.5","@typescript-eslint/parser":"^5.30.5",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.30.1","fast-glob":"^3.2.11",jasmine:"^4.2.1","jasmine-core":"^4.2.0","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.4.0","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.0.0","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"^0.0.34","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.7.1",puppeteer:"^15.4.0",rimraf:"^3.0.2",s3rver:"^3.7.1",typedoc:"^0.23.7",typescript:"^4.7.4","wasm-feature-detect":"^1.2.11","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},wo=Kf.version.split(".");wo[0];wo[1];wo[2];var Zf=()=>typeof navigator>"u",us=null,hs=null,ds=null,fs=null,ms=null;async function Xf(){return us==null&&(us=typeof BigInt64Array<"u"),hs==null&&(hs=await qf()),ds==null&&(ds=await Qf()),fs==null&&(fs=await Jf()),ms==null&&(ms=await Gf()),{bigInt64Array:us,crossOriginIsolated:Zf()||globalThis.crossOriginIsolated||!1,wasmExceptions:hs,wasmSIMD:fs,wasmThreads:ds,wasmBulkMemory:ms}}async function $f(i){let t=await Xf();if(t.wasmExceptions){if(t.wasmSIMD&&t.wasmThreads&&t.crossOriginIsolated&&i.coi)return{mainModule:i.coi.mainModule,mainWorker:i.coi.mainWorker,pthreadWorker:i.coi.pthreadWorker};if(i.eh)return{mainModule:i.eh.mainModule,mainWorker:i.eh.mainWorker,pthreadWorker:null}}return{mainModule:i.mvp.mainModule,mainWorker:i.mvp.mainWorker,pthreadWorker:null}}Df(Rf());const tm="/seriesheat-duckdb-wasm/internal/immutable/assets/duckdb-mvp-ac194963.wasm",em="/seriesheat-duckdb-wasm/internal/immutable/assets/duckdb-browser-mvp.worker-4c537160.js",im="/seriesheat-duckdb-wasm/internal/immutable/assets/duckdb-eh-bbef8717.wasm",nm="/seriesheat-duckdb-wasm/internal/immutable/assets/duckdb-browser-eh.worker-bb611981.js";var rm=Worker;const sm={mvp:{mainModule:tm,mainWorker:em},eh:{mainModule:im,mainWorker:nm}};let Ki=null;const om=async()=>{if(Ki)return Ki;const i=await $f(sm),t=new rm(i.mainWorker),e=new Pf;return Ki=new Yf(e,t),await Ki.instantiate(i.mainModule,i.pthreadWorker),await Ki.registerFileURL("imdb.parquet","https://myagues.github.io/seriesheat-duckdb-wasm/5b48027d187945548497e6b9493c54cd.parquet"),Ki};function nr(i,t){return i==null||t==null?NaN:i<t?-1:i>t?1:i>=t?0:NaN}function am(i,t){return i==null||t==null?NaN:t<i?-1:t>i?1:t>=i?0:NaN}function xc(i){let t,e,n;i.length!==2?(t=nr,e=(a,l)=>nr(i(a),l),n=(a,l)=>i(a)-l):(t=i===nr||i===am?i:lm,e=i,n=i);function r(a,l,c=0,h=a.length){if(c<h){if(t(l,l)!==0)return h;do{const u=c+h>>>1;e(a[u],l)<0?c=u+1:h=u}while(c<h)}return c}function s(a,l,c=0,h=a.length){if(c<h){if(t(l,l)!==0)return h;do{const u=c+h>>>1;e(a[u],l)<=0?c=u+1:h=u}while(c<h)}return c}function o(a,l,c=0,h=a.length){const u=r(a,l,c,h-1);return u>c&&n(a[u-1],l)>-n(a[u],l)?u-1:u}return{left:r,center:o,right:s}}function lm(){return 0}function cm(i){return i===null?NaN:+i}const um=xc(nr),hm=um.right;xc(cm).center;const dm=hm;var Ls=Math.sqrt(50),Ms=Math.sqrt(10),Us=Math.sqrt(2);function fm(i,t,e){var n,r=-1,s,o,a;if(t=+t,i=+i,e=+e,i===t&&e>0)return[i];if((n=t<i)&&(s=i,i=t,t=s),(a=Vc(i,t,e))===0||!isFinite(a))return[];if(a>0){let l=Math.round(i/a),c=Math.round(t/a);for(l*a<i&&++l,c*a>t&&--c,o=new Array(s=c-l+1);++r<s;)o[r]=(l+r)*a}else{a=-a;let l=Math.round(i*a),c=Math.round(t*a);for(l/a<i&&++l,c/a>t&&--c,o=new Array(s=c-l+1);++r<s;)o[r]=(l+r)/a}return n&&o.reverse(),o}function Vc(i,t,e){var n=(t-i)/Math.max(0,e),r=Math.floor(Math.log(n)/Math.LN10),s=n/Math.pow(10,r);return r>=0?(s>=Ls?10:s>=Ms?5:s>=Us?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=Ls?10:s>=Ms?5:s>=Us?2:1)}function mm(i,t,e){var n=Math.abs(t-i)/Math.max(0,e),r=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/r;return s>=Ls?r*=10:s>=Ms?r*=5:s>=Us&&(r*=2),t<i?-r:r}function ym(i,t){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(t).domain(i);break}return this}function zn(i,t,e){i.prototype=t.prototype=e,e.constructor=i}function Jr(i,t){var e=Object.create(i.prototype);for(var n in t)e[n]=t[n];return e}function Hi(){}var Rn=.7,Rr=1/Rn,sn="\\s*([+-]?\\d+)\\s*",Ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",He="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pm=/^#([0-9a-f]{3,8})$/,bm=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),gm=new RegExp(`^rgb\\(${He},${He},${He}\\)$`),_m=new RegExp(`^rgba\\(${sn},${sn},${sn},${Ln}\\)$`),wm=new RegExp(`^rgba\\(${He},${He},${He},${Ln}\\)$`),vm=new RegExp(`^hsl\\(${Ln},${He},${He}\\)$`),Im=new RegExp(`^hsla\\(${Ln},${He},${He},${Ln}\\)$`),ea={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zn(Hi,Mn,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:ia,formatHex:ia,formatHex8:Sm,formatHsl:Em,formatRgb:na,toString:na});function ia(){return this.rgb().formatHex()}function Sm(){return this.rgb().formatHex8()}function Em(){return zc(this).formatHsl()}function na(){return this.rgb().formatRgb()}function Mn(i){var t,e;return i=(i+"").trim().toLowerCase(),(t=pm.exec(i))?(e=t[1].length,t=parseInt(t[1],16),e===6?ra(t):e===3?new Qt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?Jn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?Jn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bm.exec(i))?new Qt(t[1],t[2],t[3],1):(t=gm.exec(i))?new Qt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_m.exec(i))?Jn(t[1],t[2],t[3],t[4]):(t=wm.exec(i))?Jn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vm.exec(i))?aa(t[1],t[2]/100,t[3]/100,1):(t=Im.exec(i))?aa(t[1],t[2]/100,t[3]/100,t[4]):ea.hasOwnProperty(i)?ra(ea[i]):i==="transparent"?new Qt(NaN,NaN,NaN,0):null}function ra(i){return new Qt(i>>16&255,i>>8&255,i&255,1)}function Jn(i,t,e,n){return n<=0&&(i=t=e=NaN),new Qt(i,t,e,n)}function jc(i){return i instanceof Hi||(i=Mn(i)),i?(i=i.rgb(),new Qt(i.r,i.g,i.b,i.opacity)):new Qt}function Lr(i,t,e,n){return arguments.length===1?jc(i):new Qt(i,t,e,n==null?1:n)}function Qt(i,t,e,n){this.r=+i,this.g=+t,this.b=+e,this.opacity=+n}zn(Qt,Lr,Jr(Hi,{brighter(i){return i=i==null?Rr:Math.pow(Rr,i),new Qt(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?Rn:Math.pow(Rn,i),new Qt(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new Qt(Ui(this.r),Ui(this.g),Ui(this.b),Mr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sa,formatHex:sa,formatHex8:Am,formatRgb:oa,toString:oa}));function sa(){return`#${Ri(this.r)}${Ri(this.g)}${Ri(this.b)}`}function Am(){return`#${Ri(this.r)}${Ri(this.g)}${Ri(this.b)}${Ri((isNaN(this.opacity)?1:this.opacity)*255)}`}function oa(){const i=Mr(this.opacity);return`${i===1?"rgb(":"rgba("}${Ui(this.r)}, ${Ui(this.g)}, ${Ui(this.b)}${i===1?")":`, ${i})`}`}function Mr(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function Ui(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function Ri(i){return i=Ui(i),(i<16?"0":"")+i.toString(16)}function aa(i,t,e,n){return n<=0?i=t=e=NaN:e<=0||e>=1?i=t=NaN:t<=0&&(i=NaN),new Oe(i,t,e,n)}function zc(i){if(i instanceof Oe)return new Oe(i.h,i.s,i.l,i.opacity);if(i instanceof Hi||(i=Mn(i)),!i)return new Oe;if(i instanceof Oe)return i;i=i.rgb();var t=i.r/255,e=i.g/255,n=i.b/255,r=Math.min(t,e,n),s=Math.max(t,e,n),o=NaN,a=s-r,l=(s+r)/2;return a?(t===s?o=(e-n)/a+(e<n)*6:e===s?o=(n-t)/a+2:o=(t-e)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new Oe(o,a,l,i.opacity)}function Tm(i,t,e,n){return arguments.length===1?zc(i):new Oe(i,t,e,n==null?1:n)}function Oe(i,t,e,n){this.h=+i,this.s=+t,this.l=+e,this.opacity=+n}zn(Oe,Tm,Jr(Hi,{brighter(i){return i=i==null?Rr:Math.pow(Rr,i),new Oe(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?Rn:Math.pow(Rn,i),new Oe(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,t=isNaN(i)||isNaN(this.s)?0:this.s,e=this.l,n=e+(e<.5?e:1-e)*t,r=2*e-n;return new Qt(ys(i>=240?i-240:i+120,r,n),ys(i,r,n),ys(i<120?i+240:i-120,r,n),this.opacity)},clamp(){return new Oe(la(this.h),Qn(this.s),Qn(this.l),Mr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const i=Mr(this.opacity);return`${i===1?"hsl(":"hsla("}${la(this.h)}, ${Qn(this.s)*100}%, ${Qn(this.l)*100}%${i===1?")":`, ${i})`}`}}));function la(i){return i=(i||0)%360,i<0?i+360:i}function Qn(i){return Math.max(0,Math.min(1,i||0))}function ys(i,t,e){return(i<60?t+(e-t)*i/60:i<180?e:i<240?t+(e-t)*(240-i)/60:t)*255}const Fm=Math.PI/180,Om=180/Math.PI,Ur=18,Hc=.96422,Wc=1,Yc=.82521,Gc=4/29,on=6/29,qc=3*on*on,Nm=on*on*on;function Jc(i){if(i instanceof We)return new We(i.l,i.a,i.b,i.opacity);if(i instanceof ii)return Kc(i);i instanceof Qt||(i=jc(i));var t=_s(i.r),e=_s(i.g),n=_s(i.b),r=ps((.2225045*t+.7168786*e+.0606169*n)/Wc),s,o;return t===e&&e===n?s=o=r:(s=ps((.4360747*t+.3850649*e+.1430804*n)/Hc),o=ps((.0139322*t+.0971045*e+.7141733*n)/Yc)),new We(116*r-16,500*(s-r),200*(r-o),i.opacity)}function Bm(i,t,e,n){return arguments.length===1?Jc(i):new We(i,t,e,n==null?1:n)}function We(i,t,e,n){this.l=+i,this.a=+t,this.b=+e,this.opacity=+n}zn(We,Bm,Jr(Hi,{brighter(i){return new We(this.l+Ur*(i==null?1:i),this.a,this.b,this.opacity)},darker(i){return new We(this.l-Ur*(i==null?1:i),this.a,this.b,this.opacity)},rgb(){var i=(this.l+16)/116,t=isNaN(this.a)?i:i+this.a/500,e=isNaN(this.b)?i:i-this.b/200;return t=Hc*bs(t),i=Wc*bs(i),e=Yc*bs(e),new Qt(gs(3.1338561*t-1.6168667*i-.4906146*e),gs(-.9787684*t+1.9161415*i+.033454*e),gs(.0719453*t-.2289914*i+1.4052427*e),this.opacity)}}));function ps(i){return i>Nm?Math.pow(i,1/3):i/qc+Gc}function bs(i){return i>on?i*i*i:qc*(i-Gc)}function gs(i){return 255*(i<=.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055)}function _s(i){return(i/=255)<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)}function km(i){if(i instanceof ii)return new ii(i.h,i.c,i.l,i.opacity);if(i instanceof We||(i=Jc(i)),i.a===0&&i.b===0)return new ii(NaN,0<i.l&&i.l<100?0:NaN,i.l,i.opacity);var t=Math.atan2(i.b,i.a)*Om;return new ii(t<0?t+360:t,Math.sqrt(i.a*i.a+i.b*i.b),i.l,i.opacity)}function Qc(i,t,e,n){return arguments.length===1?km(i):new ii(i,t,e,n==null?1:n)}function ii(i,t,e,n){this.h=+i,this.c=+t,this.l=+e,this.opacity=+n}function Kc(i){if(isNaN(i.h))return new We(i.l,0,0,i.opacity);var t=i.h*Fm;return new We(i.l,Math.cos(t)*i.c,Math.sin(t)*i.c,i.opacity)}zn(ii,Qc,Jr(Hi,{brighter(i){return new ii(this.h,this.c,this.l+Ur*(i==null?1:i),this.opacity)},darker(i){return new ii(this.h,this.c,this.l-Ur*(i==null?1:i),this.opacity)},rgb(){return Kc(this).rgb()}}));function Dm(i,t,e,n,r){var s=i*i,o=s*i;return((1-3*i+3*s-o)*t+(4-6*s+3*o)*e+(1+3*i+3*s-3*o)*n+o*r)/6}function Rm(i){var t=i.length-1;return function(e){var n=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),r=i[n],s=i[n+1],o=n>0?i[n-1]:2*r-s,a=n<t-1?i[n+2]:2*s-r;return Dm((e-n/t)*t,o,r,s,a)}}const vo=i=>()=>i;function Lm(i,t){return function(e){return i+e*t}}function Mm(i,t,e){return i=Math.pow(i,e),t=Math.pow(t,e)-i,e=1/e,function(n){return Math.pow(i+n*t,e)}}function Um(i){return(i=+i)==1?Zc:function(t,e){return e-t?Mm(t,e,i):vo(isNaN(t)?e:t)}}function Zc(i,t){var e=t-i;return e?Lm(i,e):vo(isNaN(i)?t:i)}const ca=function i(t){var e=Um(t);function n(r,s){var o=e((r=Lr(r)).r,(s=Lr(s)).r),a=e(r.g,s.g),l=e(r.b,s.b),c=Zc(r.opacity,s.opacity);return function(h){return r.r=o(h),r.g=a(h),r.b=l(h),r.opacity=c(h),r+""}}return n.gamma=i,n}(1);function Cm(i){return function(t){var e=t.length,n=new Array(e),r=new Array(e),s=new Array(e),o,a;for(o=0;o<e;++o)a=Lr(t[o]),n[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return n=i(n),r=i(r),s=i(s),a.opacity=1,function(l){return a.r=n(l),a.g=r(l),a.b=s(l),a+""}}}var Pm=Cm(Rm);function xm(i,t){t||(t=[]);var e=i?Math.min(t.length,i.length):0,n=t.slice(),r;return function(s){for(r=0;r<e;++r)n[r]=i[r]*(1-s)+t[r]*s;return n}}function Vm(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function jm(i,t){var e=t?t.length:0,n=i?Math.min(e,i.length):0,r=new Array(n),s=new Array(e),o;for(o=0;o<n;++o)r[o]=Io(i[o],t[o]);for(;o<e;++o)s[o]=t[o];return function(a){for(o=0;o<n;++o)s[o]=r[o](a);return s}}function zm(i,t){var e=new Date;return i=+i,t=+t,function(n){return e.setTime(i*(1-n)+t*n),e}}function Cr(i,t){return i=+i,t=+t,function(e){return i*(1-e)+t*e}}function Hm(i,t){var e={},n={},r;(i===null||typeof i!="object")&&(i={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in i?e[r]=Io(i[r],t[r]):n[r]=t[r];return function(s){for(r in e)n[r]=e[r](s);return n}}var Cs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ws=new RegExp(Cs.source,"g");function Wm(i){return function(){return i}}function Ym(i){return function(t){return i(t)+""}}function Gm(i,t){var e=Cs.lastIndex=ws.lastIndex=0,n,r,s,o=-1,a=[],l=[];for(i=i+"",t=t+"";(n=Cs.exec(i))&&(r=ws.exec(t));)(s=r.index)>e&&(s=t.slice(e,s),a[o]?a[o]+=s:a[++o]=s),(n=n[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:Cr(n,r)})),e=ws.lastIndex;return e<t.length&&(s=t.slice(e),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Ym(l[0].x):Wm(t):(t=l.length,function(c){for(var h=0,u;h<t;++h)a[(u=l[h]).i]=u.x(c);return a.join("")})}function Io(i,t){var e=typeof t,n;return t==null||e==="boolean"?vo(t):(e==="number"?Cr:e==="string"?(n=Mn(t))?(t=n,ca):Gm:t instanceof Mn?ca:t instanceof Date?zm:Vm(t)?xm:Array.isArray(t)?jm:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Hm:Cr)(i,t)}function qm(i,t){return i=+i,t=+t,function(e){return Math.round(i*(1-e)+t*e)}}function Jm(i){return function(){return i}}function Qm(i){return+i}var ua=[0,1];function hi(i){return i}function Ps(i,t){return(t-=i=+i)?function(e){return(e-i)/t}:Jm(isNaN(t)?NaN:.5)}function Km(i,t){var e;return i>t&&(e=i,i=t,t=e),function(n){return Math.max(i,Math.min(t,n))}}function Zm(i,t,e){var n=i[0],r=i[1],s=t[0],o=t[1];return r<n?(n=Ps(r,n),s=e(o,s)):(n=Ps(n,r),s=e(s,o)),function(a){return s(n(a))}}function Xm(i,t,e){var n=Math.min(i.length,t.length)-1,r=new Array(n),s=new Array(n),o=-1;for(i[n]<i[0]&&(i=i.slice().reverse(),t=t.slice().reverse());++o<n;)r[o]=Ps(i[o],i[o+1]),s[o]=e(t[o],t[o+1]);return function(a){var l=dm(i,a,1,n)-1;return s[l](r[l](a))}}function $m(i,t){return t.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function t0(){var i=ua,t=ua,e=Io,n,r,s,o=hi,a,l,c;function h(){var f=Math.min(i.length,t.length);return o!==hi&&(o=Km(i[0],i[f-1])),a=f>2?Xm:Zm,l=c=null,u}function u(f){return f==null||isNaN(f=+f)?s:(l||(l=a(i.map(n),t,e)))(n(o(f)))}return u.invert=function(f){return o(r((c||(c=a(t,i.map(n),Cr)))(f)))},u.domain=function(f){return arguments.length?(i=Array.from(f,Qm),h()):i.slice()},u.range=function(f){return arguments.length?(t=Array.from(f),h()):t.slice()},u.rangeRound=function(f){return t=Array.from(f),e=qm,h()},u.clamp=function(f){return arguments.length?(o=f?!0:hi,h()):o!==hi},u.interpolate=function(f){return arguments.length?(e=f,h()):e},u.unknown=function(f){return arguments.length?(s=f,u):s},function(f,b){return n=f,r=b,h()}}function e0(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function Pr(i,t){if((e=(i=t?i.toExponential(t-1):i.toExponential()).indexOf("e"))<0)return null;var e,n=i.slice(0,e);return[n.length>1?n[0]+n.slice(2):n,+i.slice(e+1)]}function fn(i){return i=Pr(Math.abs(i)),i?i[1]:NaN}function i0(i,t){return function(e,n){for(var r=e.length,s=[],o=0,a=i[0],l=0;r>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),s.push(e.substring(r-=a,r+a)),!((l+=a+1)>n));)a=i[o=(o+1)%i.length];return s.reverse().join(t)}}function n0(i){return function(t){return t.replace(/[0-9]/g,function(e){return i[+e]})}}var r0=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xr(i){if(!(t=r0.exec(i)))throw new Error("invalid format: "+i);var t;return new So({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xr.prototype=So.prototype;function So(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}So.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function s0(i){t:for(var t=i.length,e=1,n=-1,r;e<t;++e)switch(i[e]){case".":n=r=e;break;case"0":n===0&&(n=e),r=e;break;default:if(!+i[e])break t;n>0&&(n=0);break}return n>0?i.slice(0,n)+i.slice(r+1):i}var Xc;function o0(i,t){var e=Pr(i,t);if(!e)return i+"";var n=e[0],r=e[1],s=r-(Xc=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Pr(i,Math.max(0,t+s-1))[0]}function ha(i,t){var e=Pr(i,t);if(!e)return i+"";var n=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}const da={"%":(i,t)=>(i*100).toFixed(t),b:i=>Math.round(i).toString(2),c:i=>i+"",d:e0,e:(i,t)=>i.toExponential(t),f:(i,t)=>i.toFixed(t),g:(i,t)=>i.toPrecision(t),o:i=>Math.round(i).toString(8),p:(i,t)=>ha(i*100,t),r:ha,s:o0,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function fa(i){return i}var ma=Array.prototype.map,ya=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function a0(i){var t=i.grouping===void 0||i.thousands===void 0?fa:i0(ma.call(i.grouping,Number),i.thousands+""),e=i.currency===void 0?"":i.currency[0]+"",n=i.currency===void 0?"":i.currency[1]+"",r=i.decimal===void 0?".":i.decimal+"",s=i.numerals===void 0?fa:n0(ma.call(i.numerals,String)),o=i.percent===void 0?"%":i.percent+"",a=i.minus===void 0?"\u2212":i.minus+"",l=i.nan===void 0?"NaN":i.nan+"";function c(u){u=xr(u);var f=u.fill,b=u.align,I=u.sign,S=u.symbol,P=u.zero,D=u.width,z=u.comma,F=u.precision,y=u.trim,v=u.type;v==="n"?(z=!0,v="g"):da[v]||(F===void 0&&(F=12),y=!0,v="g"),(P||f==="0"&&b==="=")&&(P=!0,f="0",b="=");var O=S==="$"?e:S==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",nt=S==="$"?n:/[%p]/.test(v)?o:"",L=da[v],tt=/[defgprs%]/.test(v);F=F===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function T(N){var k=O,M=nt,C,w,A;if(v==="c")M=L(N)+M,N="";else{N=+N;var dt=N<0||1/N<0;if(N=isNaN(N)?l:L(Math.abs(N),F),y&&(N=s0(N)),dt&&+N==0&&I!=="+"&&(dt=!1),k=(dt?I==="("?I:a:I==="-"||I==="("?"":I)+k,M=(v==="s"?ya[8+Xc/3]:"")+M+(dt&&I==="("?")":""),tt){for(C=-1,w=N.length;++C<w;)if(A=N.charCodeAt(C),48>A||A>57){M=(A===46?r+N.slice(C+1):N.slice(C))+M,N=N.slice(0,C);break}}}z&&!P&&(N=t(N,1/0));var Bt=k.length+N.length+M.length,Nt=Bt<D?new Array(D-Bt+1).join(f):"";switch(z&&P&&(N=t(Nt+N,Nt.length?D-M.length:1/0),Nt=""),b){case"<":N=k+N+M+Nt;break;case"=":N=k+Nt+N+M;break;case"^":N=Nt.slice(0,Bt=Nt.length>>1)+k+N+M+Nt.slice(Bt);break;default:N=Nt+k+N+M;break}return s(N)}return T.toString=function(){return u+""},T}function h(u,f){var b=c((u=xr(u),u.type="f",u)),I=Math.max(-8,Math.min(8,Math.floor(fn(f)/3)))*3,S=Math.pow(10,-I),P=ya[8+I/3];return function(D){return b(S*D)+P}}return{format:c,formatPrefix:h}}var Kn,$c,tu;l0({thousands:",",grouping:[3],currency:["$",""]});function l0(i){return Kn=a0(i),$c=Kn.format,tu=Kn.formatPrefix,Kn}function c0(i){return Math.max(0,-fn(Math.abs(i)))}function u0(i,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fn(t)/3)))*3-fn(Math.abs(i)))}function h0(i,t){return i=Math.abs(i),t=Math.abs(t)-i,Math.max(0,fn(t)-fn(i))+1}function d0(i,t,e,n){var r=mm(i,t,e),s;switch(n=xr(n==null?",f":n),n.type){case"s":{var o=Math.max(Math.abs(i),Math.abs(t));return n.precision==null&&!isNaN(s=u0(r,o))&&(n.precision=s),tu(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=h0(r,Math.max(Math.abs(i),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=c0(r))&&(n.precision=s-(n.type==="%")*2);break}}return $c(n)}function f0(i){var t=i.domain;return i.ticks=function(e){var n=t();return fm(n[0],n[n.length-1],e==null?10:e)},i.tickFormat=function(e,n){var r=t();return d0(r[0],r[r.length-1],e==null?10:e,n)},i.nice=function(e){e==null&&(e=10);var n=t(),r=0,s=n.length-1,o=n[r],a=n[s],l,c,h=10;for(a<o&&(c=o,o=a,a=c,c=r,r=s,s=c);h-- >0;){if(c=Vc(o,a,e),c===l)return n[r]=o,n[s]=a,t(n);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return i},i}function pa(i){return function(t){return t<0?-Math.pow(-t,i):Math.pow(t,i)}}function m0(i){return i<0?-Math.sqrt(-i):Math.sqrt(i)}function y0(i){return i<0?-i*i:i*i}function p0(i){var t=i(hi,hi),e=1;function n(){return e===1?i(hi,hi):e===.5?i(m0,y0):i(pa(e),pa(1/e))}return t.exponent=function(r){return arguments.length?(e=+r,n()):e},f0(t)}function eu(){var i=p0(t0());return i.copy=function(){return $m(i,eu()).exponent(i.exponent())},ym.apply(i,arguments),i}function b0(i){for(var t=i.length/6|0,e=new Array(t),n=0;n<t;)e[n]="#"+i.slice(n*6,++n*6);return e}const g0=i=>Pm(i[i.length-1]);var _0=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(b0);const w0=g0(_0);function v0(i,t){const e=i.getBoundingClientRect(),n=t.getBoundingClientRect(),r={};return r.top=e.top<0,r.left=e.left<0,r.bottom=e.bottom+n.height>(window.innerHeight||document.documentElement.clientHeight),r.right=e.right>(window.innerWidth||document.documentElement.clientWidth),r.any=r.top||r.left||r.bottom||r.right,r}function I0(i){let t,e=i[0](i[1],i[2])+"",n;return{c(){t=x("div"),this.h()},l(r){t=V(r,"DIV",{class:!0});var s=B(t);s.forEach(_),this.h()},h(){p(t,"class",n="item "+i[3]+" svelte-ybdqo9")},m(r,s){J(r,t,s),t.innerHTML=e},p(r,[s]){s&7&&e!==(e=r[0](r[1],r[2])+"")&&(t.innerHTML=e),s&8&&n!==(n="item "+r[3]+" svelte-ybdqo9")&&p(t,"class",n)},i:bt,o:bt,d(r){r&&_(t)}}}function S0(i,t,e){let{isActive:n=!1}=t,{isFirst:r=!1}=t,{isHover:s=!1}=t,{isSelectable:o=!1}=t,{getOptionLabel:a=void 0}=t,{item:l=void 0}=t,{filterText:c=""}=t,h="";return i.$$set=u=>{"isActive"in u&&e(4,n=u.isActive),"isFirst"in u&&e(5,r=u.isFirst),"isHover"in u&&e(6,s=u.isHover),"isSelectable"in u&&e(7,o=u.isSelectable),"getOptionLabel"in u&&e(0,a=u.getOptionLabel),"item"in u&&e(1,l=u.item),"filterText"in u&&e(2,c=u.filterText)},i.$$.update=()=>{if(i.$$.dirty&242){const u=[];n&&u.push("active"),r&&u.push("first"),s&&u.push("hover"),l.isGroupHeader&&u.push("groupHeader"),l.isGroupItem&&u.push("groupItem"),o||u.push("notSelectable"),e(3,h=u.join(" "))}},[a,l,c,h,n,r,s,o]}class iu extends gi{constructor(t){super(),_i(this,t,S0,I0,wi,{isActive:4,isFirst:5,isHover:6,isSelectable:7,getOptionLabel:0,item:1,filterText:2})}}function ba(i,t,e){const n=i.slice();return n[41]=t[e],n[42]=e,n}function E0(i){let t,e,n=i[1],r=[];for(let a=0;a<n.length;a+=1)r[a]=wa(ba(i,n,a));const s=a=>rt(r[a],1,1,()=>{r[a]=null});let o=null;return n.length||(o=ga(i)),{c(){for(let a=0;a<r.length;a+=1)r[a].c();t=It(),o&&o.c()},l(a){for(let l=0;l<r.length;l+=1)r[l].l(a);t=It(),o&&o.l(a)},m(a,l){for(let c=0;c<r.length;c+=1)r[c].m(a,l);J(a,t,l),o&&o.m(a,l),e=!0},p(a,l){if(l[0]&114390){n=a[1];let c;for(c=0;c<n.length;c+=1){const h=ba(a,n,c);r[c]?(r[c].p(h,l),X(r[c],1)):(r[c]=wa(h),r[c].c(),X(r[c],1),r[c].m(t.parentNode,t))}for(Ht(),c=n.length;c<r.length;c+=1)s(c);Wt(),!n.length&&o?o.p(a,l):n.length?o&&(o.d(1),o=null):(o=ga(a),o.c(),o.m(t.parentNode,t))}},i(a){if(!e){for(let l=0;l<n.length;l+=1)X(r[l]);e=!0}},o(a){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)rt(r[l]);e=!1},d(a){An(r,a),a&&_(t),o&&o.d(a)}}}function A0(i){let t,e,n;var r=i[3];function s(o){return{props:{items:o[1],itemHeight:o[8],$$slots:{default:[O0,({item:a,i:l})=>({41:a,42:l}),({item:a,i:l})=>[0,(a?1024:0)|(l?2048:0)]]},$$scope:{ctx:o}}}}return r&&(t=new r(s(i))),{c(){t&&Yt(t.$$.fragment),e=It()},l(o){t&&ri(t.$$.fragment,o),e=It()},m(o,a){t&&Gt(t,o,a),J(o,e,a),n=!0},p(o,a){const l={};if(a[0]&2&&(l.items=o[1]),a[0]&256&&(l.itemHeight=o[8]),a[0]&9814|a[1]&11264&&(l.$$scope={dirty:a,ctx:o}),r!==(r=o[3])){if(t){Ht();const c=t;rt(c.$$.fragment,1,0,()=>{qt(c,1)}),Wt()}r?(t=new r(s(o)),Yt(t.$$.fragment),X(t.$$.fragment,1),Gt(t,e.parentNode,e)):t=null}else r&&t.$set(l)},i(o){n||(t&&X(t.$$.fragment,o),n=!0)},o(o){t&&rt(t.$$.fragment,o),n=!1},d(o){o&&_(e),t&&qt(t,o)}}}function ga(i){let t,e=!i[11]&&_a(i);return{c(){e&&e.c(),t=It()},l(n){e&&e.l(n),t=It()},m(n,r){e&&e.m(n,r),J(n,t,r)},p(n,r){n[11]?e&&(e.d(1),e=null):e?e.p(n,r):(e=_a(n),e.c(),e.m(t.parentNode,t))},d(n){e&&e.d(n),n&&_(t)}}}function _a(i){let t,e;return{c(){t=x("div"),e=lt(i[12]),this.h()},l(n){t=V(n,"DIV",{class:!0});var r=B(t);e=ct(r,i[12]),r.forEach(_),this.h()},h(){p(t,"class","empty svelte-1mmk1xt")},m(n,r){J(n,t,r),E(t,e)},p(n,r){r[0]&4096&&Pi(e,n[12])},d(n){n&&_(t)}}}function T0(i){let t,e,n,r,s,o;var a=i[4];function l(f){return{props:{item:f[41],filterText:f[13],getOptionLabel:f[6],isFirst:xs(f[42]),isActive:Vr(f[41],f[9],f[10]),isHover:jr(f[2],f[41],f[42],f[1]),isSelectable:ji(f[41])}}}a&&(e=new a(l(i)));function c(){return i[29](i[42])}function h(){return i[30](i[42])}function u(...f){return i[31](i[41],i[42],...f)}return{c(){t=x("div"),e&&Yt(e.$$.fragment),n=Mt(),this.h()},l(f){t=V(f,"DIV",{class:!0,tabindex:!0});var b=B(t);e&&ri(e.$$.fragment,b),n=Ut(b),b.forEach(_),this.h()},h(){p(t,"class","listItem"),p(t,"tabindex","-1")},m(f,b){J(f,t,b),e&&Gt(e,t,null),E(t,n),r=!0,s||(o=[Ft(t,"mouseover",c),Ft(t,"focus",h),Ft(t,"click",u)],s=!0)},p(f,b){i=f;const I={};if(b[0]&2&&(I.item=i[41]),b[0]&8192&&(I.filterText=i[13]),b[0]&64&&(I.getOptionLabel=i[6]),b[0]&1538&&(I.isActive=Vr(i[41],i[9],i[10])),b[0]&6&&(I.isHover=jr(i[2],i[41],i[42],i[1])),b[0]&2&&(I.isSelectable=ji(i[41])),a!==(a=i[4])){if(e){Ht();const S=e;rt(S.$$.fragment,1,0,()=>{qt(S,1)}),Wt()}a?(e=new a(l(i)),Yt(e.$$.fragment),X(e.$$.fragment,1),Gt(e,t,n)):e=null}else a&&e.$set(I)},i(f){r||(e&&X(e.$$.fragment,f),r=!0)},o(f){e&&rt(e.$$.fragment,f),r=!1},d(f){f&&_(t),e&&qt(e),s=!1,Un(o)}}}function F0(i){let t,e=i[7](i[41])+"",n;return{c(){t=x("div"),n=lt(e),this.h()},l(r){t=V(r,"DIV",{class:!0});var s=B(t);n=ct(s,e),s.forEach(_),this.h()},h(){p(t,"class","listGroupTitle svelte-1mmk1xt")},m(r,s){J(r,t,s),E(t,n)},p(r,s){s[0]&130&&e!==(e=r[7](r[41])+"")&&Pi(n,e)},i:bt,o:bt,d(r){r&&_(t)}}}function wa(i){let t,e,n,r;const s=[F0,T0],o=[];function a(l,c){return l[41].isGroupHeader&&!l[41].isSelectable?0:1}return t=a(i),e=o[t]=s[t](i),{c(){e.c(),n=It()},l(l){e.l(l),n=It()},m(l,c){o[t].m(l,c),J(l,n,c),r=!0},p(l,c){let h=t;t=a(l),t===h?o[t].p(l,c):(Ht(),rt(o[h],1,1,()=>{o[h]=null}),Wt(),e=o[t],e?e.p(l,c):(e=o[t]=s[t](l),e.c()),X(e,1),e.m(n.parentNode,n))},i(l){r||(X(e),r=!0)},o(l){rt(e),r=!1},d(l){o[t].d(l),l&&_(n)}}}function O0(i){let t,e,n,r,s;var o=i[4];function a(u){return{props:{item:u[41],filterText:u[13],getOptionLabel:u[6],isFirst:xs(u[42]),isActive:Vr(u[41],u[9],u[10]),isHover:jr(u[2],u[41],u[42],u[1]),isSelectable:ji(u[41])}}}o&&(e=new o(a(i)));function l(){return i[26](i[42])}function c(){return i[27](i[42])}function h(...u){return i[28](i[41],i[42],...u)}return{c(){t=x("div"),e&&Yt(e.$$.fragment),this.h()},l(u){t=V(u,"DIV",{class:!0});var f=B(t);e&&ri(e.$$.fragment,f),f.forEach(_),this.h()},h(){p(t,"class","listItem")},m(u,f){J(u,t,f),e&&Gt(e,t,null),n=!0,r||(s=[Ft(t,"mouseover",l),Ft(t,"focus",c),Ft(t,"click",h)],r=!0)},p(u,f){i=u;const b={};if(f[1]&1024&&(b.item=i[41]),f[0]&8192&&(b.filterText=i[13]),f[0]&64&&(b.getOptionLabel=i[6]),f[1]&2048&&(b.isFirst=xs(i[42])),f[0]&1536|f[1]&1024&&(b.isActive=Vr(i[41],i[9],i[10])),f[0]&6|f[1]&3072&&(b.isHover=jr(i[2],i[41],i[42],i[1])),f[1]&1024&&(b.isSelectable=ji(i[41])),o!==(o=i[4])){if(e){Ht();const I=e;rt(I.$$.fragment,1,0,()=>{qt(I,1)}),Wt()}o?(e=new o(a(i)),Yt(e.$$.fragment),X(e.$$.fragment,1),Gt(e,t,null)):e=null}else o&&e.$set(b)},i(u){n||(e&&X(e.$$.fragment,u),n=!0)},o(u){e&&rt(e.$$.fragment,u),n=!1},d(u){u&&_(t),e&&qt(e),r=!1,Un(s)}}}function N0(i){let t,e,n,r,s,o;const a=[A0,E0],l=[];function c(h,u){return h[5]?0:1}return e=c(i),n=l[e]=a[e](i),{c(){t=x("div"),n.c(),this.h()},l(h){t=V(h,"DIV",{class:!0,style:!0});var u=B(t);n.l(u),u.forEach(_),this.h()},h(){p(t,"class","listContainer svelte-1mmk1xt"),p(t,"style",i[14]),pe(t,"virtualList",i[5])},m(h,u){J(h,t,u),l[e].m(t,null),i[32](t),r=!0,s||(o=[Ft(window,"keydown",i[17]),Ft(window,"resize",i[18])],s=!0)},p(h,u){let f=e;e=c(h),e===f?l[e].p(h,u):(Ht(),rt(l[f],1,1,()=>{l[f]=null}),Wt(),n=l[e],n?n.p(h,u):(n=l[e]=a[e](h),n.c()),X(n,1),n.m(t,null)),(!r||u[0]&16384)&&p(t,"style",h[14]),u[0]&32&&pe(t,"virtualList",h[5])},i(h){r||(X(n),r=!0)},o(h){rt(n),r=!1},d(h){h&&_(t),l[e].d(),i[32](null),s=!1,Un(o)}}}function Vr(i,t,e){return t&&t[e]===i[e]}function xs(i){return i===0}function jr(i,t,e,n){return ji(t)&&(i===e||n.length===1)}function ji(i){return i.isGroupHeader&&i.isSelectable||i.selectable||!i.hasOwnProperty("selectable")}function B0(i,t,e){const n=Vs();let{container:r=void 0}=t,{VirtualList:s=null}=t,{Item:o=iu}=t,{isVirtualList:a=!1}=t,{items:l=[]}=t,{labelIdentifier:c="label"}=t,{getOptionLabel:h=(g,R)=>{if(g)return g.isCreator?`Create "${R}"`:g[c]}}=t,{getGroupHeaderLabel:u=null}=t,{itemHeight:f=40}=t,{hoverItemIndex:b=0}=t,{value:I=void 0}=t,{optionIdentifier:S="value"}=t,{hideEmptyState:P=!1}=t,{noOptionsMessage:D="No options"}=t,{isMulti:z=!1}=t,{activeItemIndex:F=0}=t,{filterText:y=""}=t,{parent:v=null}=t,{listPlacement:O=null}=t,{listAutoWidth:nt=null}=t,{listOffset:L=5}=t,tt=0,T=!1,N;zr(()=>{if(l.length>0&&!z&&I){const g=l.findIndex(R=>R[S]===I[S]);g&&e(2,b=g)}Bt("active"),r.addEventListener("scroll",()=>{clearTimeout(tt),tt=setTimeout(()=>{T=!1},100)},!1)}),qa(()=>{l||e(1,l=[]),l!==N&&l.length>0&&e(2,b=0),N=l});function k(g){g.isCreator||n("itemSelected",g)}function M(g){T||e(2,b=g)}function C(g){const{item:R,i:At,event:Lt}=g;if(Lt.stopPropagation(),I&&!z&&I[S]===R[S])return w();R.isCreator?n("itemCreated",y):ji(R)&&(e(19,F=At),e(2,b=At),k(R))}function w(){n("closeList")}async function A(g){if(a)return;let R=!0;for(;R;)g>0&&b===l.length-1?e(2,b=0):g<0&&b===0?e(2,b=l.length-1):e(2,b=b+g),R=!ji(l[b]);await Zn(),Bt("hover")}function dt(g){switch(g.key){case"Escape":g.preventDefault(),w();break;case"ArrowDown":g.preventDefault(),l.length&&A(1);break;case"ArrowUp":g.preventDefault(),l.length&&A(-1);break;case"Enter":if(g.preventDefault(),l.length===0)break;const R=l[b];if(I&&!z&&I[S]===R[S]){w();break}R.isCreator?n("itemCreated",y):(e(19,F=b),k(l[b]));break;case"Tab":if(g.preventDefault(),l.length===0||I&&I[S]===l[b][S])return w();e(19,F=b),k(l[b]);break}}function Bt(g){if(a||!r)return;let R;const At=r.querySelector(`.listItem .${g}`);At&&(R=r.getBoundingClientRect().bottom-At.getBoundingClientRect().bottom),e(0,r.scrollTop-=R,r)}let Nt;function zt(){const{height:g,width:R}=v.getBoundingClientRect();e(14,Nt=""),e(14,Nt+=`min-width:${R}px;width:${nt?"auto":"100%"};`),O==="top"||O==="auto"&&v0(v,r).bottom?e(14,Nt+=`bottom:${g+L}px;`):e(14,Nt+=`top:${g+L}px;`)}const Je=g=>M(g),Ae=g=>M(g),Ei=(g,R,At)=>C({item:g,i:R,event:At}),Te=g=>M(g),Qe=g=>M(g),ke=(g,R,At)=>C({item:g,i:R,event:At});function fe(g){Ci[g?"unshift":"push"](()=>{r=g,e(0,r)})}return i.$$set=g=>{"container"in g&&e(0,r=g.container),"VirtualList"in g&&e(3,s=g.VirtualList),"Item"in g&&e(4,o=g.Item),"isVirtualList"in g&&e(5,a=g.isVirtualList),"items"in g&&e(1,l=g.items),"labelIdentifier"in g&&e(20,c=g.labelIdentifier),"getOptionLabel"in g&&e(6,h=g.getOptionLabel),"getGroupHeaderLabel"in g&&e(7,u=g.getGroupHeaderLabel),"itemHeight"in g&&e(8,f=g.itemHeight),"hoverItemIndex"in g&&e(2,b=g.hoverItemIndex),"value"in g&&e(9,I=g.value),"optionIdentifier"in g&&e(10,S=g.optionIdentifier),"hideEmptyState"in g&&e(11,P=g.hideEmptyState),"noOptionsMessage"in g&&e(12,D=g.noOptionsMessage),"isMulti"in g&&e(21,z=g.isMulti),"activeItemIndex"in g&&e(19,F=g.activeItemIndex),"filterText"in g&&e(13,y=g.filterText),"parent"in g&&e(22,v=g.parent),"listPlacement"in g&&e(23,O=g.listPlacement),"listAutoWidth"in g&&e(24,nt=g.listAutoWidth),"listOffset"in g&&e(25,L=g.listOffset)},i.$$.update=()=>{i.$$.dirty[0]&4194305&&v&&r&&zt()},[r,l,b,s,o,a,h,u,f,I,S,P,D,y,Nt,M,C,dt,zt,F,c,z,v,O,nt,L,Je,Ae,Ei,Te,Qe,ke,fe]}class k0 extends gi{constructor(t){super(),_i(this,t,B0,N0,wi,{container:0,VirtualList:3,Item:4,isVirtualList:5,items:1,labelIdentifier:20,getOptionLabel:6,getGroupHeaderLabel:7,itemHeight:8,hoverItemIndex:2,value:9,optionIdentifier:10,hideEmptyState:11,noOptionsMessage:12,isMulti:21,activeItemIndex:19,filterText:13,parent:22,listPlacement:23,listAutoWidth:24,listOffset:25},null,[-1,-1])}}function D0(i){let t,e=i[0](i[1])+"";return{c(){t=x("div"),this.h()},l(n){t=V(n,"DIV",{class:!0});var r=B(t);r.forEach(_),this.h()},h(){p(t,"class","selection svelte-1be6cx3")},m(n,r){J(n,t,r),t.innerHTML=e},p(n,[r]){r&3&&e!==(e=n[0](n[1])+"")&&(t.innerHTML=e)},i:bt,o:bt,d(n){n&&_(t)}}}function R0(i,t,e){let{getSelectionLabel:n=void 0}=t,{item:r=void 0}=t;return i.$$set=s=>{"getSelectionLabel"in s&&e(0,n=s.getSelectionLabel),"item"in s&&e(1,r=s.item)},[n,r]}class L0 extends gi{constructor(t){super(),_i(this,t,R0,D0,wi,{getSelectionLabel:0,item:1})}}function va(i,t,e){const n=i.slice();return n[9]=t[e],n[11]=e,n}function Ia(i){let t,e,n,r,s;function o(...a){return i[6](i[11],...a)}return{c(){t=x("div"),e=kt("svg"),n=kt("path"),this.h()},l(a){t=V(a,"DIV",{class:!0});var l=B(t);e=Dt(l,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0,class:!0});var c=B(e);n=Dt(c,"path",{d:!0}),B(n).forEach(_),c.forEach(_),l.forEach(_),this.h()},h(){p(n,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),p(e,"width","100%"),p(e,"height","100%"),p(e,"viewBox","-2 -2 50 50"),p(e,"focusable","false"),p(e,"aria-hidden","true"),p(e,"role","presentation"),p(e,"class","svelte-j22aje"),p(t,"class","multiSelectItem_clear svelte-j22aje")},m(a,l){J(a,t,l),E(t,e),E(e,n),r||(s=Ft(t,"click",o),r=!0)},p(a,l){i=a},d(a){a&&_(t),r=!1,s()}}}function Sa(i){let t,e,n=i[4](i[9])+"",r,s,o,a,l,c=!i[2]&&!i[3]&&Ia(i);function h(...u){return i[7](i[11],...u)}return{c(){t=x("div"),e=x("div"),r=Mt(),c&&c.c(),s=Mt(),this.h()},l(u){t=V(u,"DIV",{class:!0});var f=B(t);e=V(f,"DIV",{class:!0});var b=B(e);b.forEach(_),r=Ut(f),c&&c.l(f),s=Ut(f),f.forEach(_),this.h()},h(){p(e,"class","multiSelectItem_label svelte-j22aje"),p(t,"class",o="multiSelectItem "+(i[1]===i[11]?"active":"")+" "+(i[2]?"disabled":"")+" svelte-j22aje")},m(u,f){J(u,t,f),E(t,e),e.innerHTML=n,E(t,r),c&&c.m(t,null),E(t,s),a||(l=Ft(t,"click",h),a=!0)},p(u,f){i=u,f&17&&n!==(n=i[4](i[9])+"")&&(e.innerHTML=n),!i[2]&&!i[3]?c?c.p(i,f):(c=Ia(i),c.c(),c.m(t,s)):c&&(c.d(1),c=null),f&6&&o!==(o="multiSelectItem "+(i[1]===i[11]?"active":"")+" "+(i[2]?"disabled":"")+" svelte-j22aje")&&p(t,"class",o)},d(u){u&&_(t),c&&c.d(),a=!1,l()}}}function M0(i){let t,e=i[0],n=[];for(let r=0;r<e.length;r+=1)n[r]=Sa(va(i,e,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();t=It()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);t=It()},m(r,s){for(let o=0;o<n.length;o+=1)n[o].m(r,s);J(r,t,s)},p(r,[s]){if(s&63){e=r[0];let o;for(o=0;o<e.length;o+=1){const a=va(r,e,o);n[o]?n[o].p(a,s):(n[o]=Sa(a),n[o].c(),n[o].m(t.parentNode,t))}for(;o<n.length;o+=1)n[o].d(1);n.length=e.length}},i:bt,o:bt,d(r){An(n,r),r&&_(t)}}}function U0(i,t,e){const n=Vs();let{value:r=[]}=t,{activeValue:s=void 0}=t,{isDisabled:o=!1}=t,{multiFullItemClearable:a=!1}=t,{getSelectionLabel:l=void 0}=t;function c(f,b){b.stopPropagation(),n("multiItemClear",{i:f})}const h=(f,b)=>c(f,b),u=(f,b)=>a?c(f,b):{};return i.$$set=f=>{"value"in f&&e(0,r=f.value),"activeValue"in f&&e(1,s=f.activeValue),"isDisabled"in f&&e(2,o=f.isDisabled),"multiFullItemClearable"in f&&e(3,a=f.multiFullItemClearable),"getSelectionLabel"in f&&e(4,l=f.getSelectionLabel)},[r,s,o,a,l,c,h,u]}class C0 extends gi{constructor(t){super(),_i(this,t,U0,M0,wi,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4})}}function Ea(i,t,e){const n=i.slice();return n[23]=t[e],n}const P0=i=>({item:i&32,i:i&32,hoverItemIndex:i&2}),Aa=i=>({item:i[23].data,i:i[23].index,hoverItemIndex:i[1]});function x0(i){let t;return{c(){t=lt("Missing template")},l(e){t=ct(e,"Missing template")},m(e,n){J(e,t,n)},d(e){e&&_(t)}}}function Ta(i,t){let e,n,r;const s=t[15].default,o=Bu(s,t,t[14],Aa),a=o||x0();return{key:i,first:null,c(){e=x("svelte-virtual-list-row"),a&&a.c(),n=Mt(),this.h()},l(l){e=V(l,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var c=B(e);a&&a.l(c),n=Ut(c),c.forEach(_),this.h()},h(){vs(e,"class","svelte-yyenik"),this.first=e},m(l,c){J(l,e,c),a&&a.m(e,null),E(e,n),r=!0},p(l,c){t=l,o&&o.p&&(!r||c&16418)&&ku(o,s,t,t[14],r?Ru(s,t[14],c,P0):Du(t[14]),Aa)},i(l){r||(X(a,l),r=!0)},o(l){rt(a,l),r=!1},d(l){l&&_(e),a&&a.d(l)}}}function V0(i){let t,e,n=[],r=new Map,s,o,a,l,c=i[5];const h=u=>u[23].index;for(let u=0;u<c.length;u+=1){let f=Ea(i,c,u),b=h(f);r.set(b,n[u]=Ta(b,f))}return{c(){t=x("svelte-virtual-list-viewport"),e=x("svelte-virtual-list-contents");for(let u=0;u<n.length;u+=1)n[u].c();this.h()},l(u){t=V(u,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var f=B(t);e=V(f,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var b=B(e);for(let I=0;I<n.length;I+=1)n[I].l(b);b.forEach(_),f.forEach(_),this.h()},h(){_e(e,"padding-top",i[6]+"px"),_e(e,"padding-bottom",i[7]+"px"),vs(e,"class","svelte-yyenik"),_e(t,"height",i[0]),vs(t,"class","svelte-yyenik"),Fu(()=>i[18].call(t))},m(u,f){J(u,t,f),E(t,e);for(let b=0;b<n.length;b+=1)n[b].m(e,null);i[16](e),i[17](t),s=Ou(t,i[18].bind(t)),o=!0,a||(l=Ft(t,"scroll",i[8]),a=!0)},p(u,[f]){f&16418&&(c=u[5],Ht(),n=Ja(n,f,h,1,u,c,r,e,Nu,Ta,null,Ea),Wt()),(!o||f&64)&&_e(e,"padding-top",u[6]+"px"),(!o||f&128)&&_e(e,"padding-bottom",u[7]+"px"),(!o||f&1)&&_e(t,"height",u[0])},i(u){if(!o){for(let f=0;f<c.length;f+=1)X(n[f]);o=!0}},o(u){for(let f=0;f<n.length;f+=1)rt(n[f]);o=!1},d(u){u&&_(t);for(let f=0;f<n.length;f+=1)n[f].d();i[16](null),i[17](null),s(),a=!1,l()}}}function j0(i,t,e){let{$$slots:n={},$$scope:r}=t,{items:s=void 0}=t,{height:o="100%"}=t,{itemHeight:a=40}=t,{hoverItemIndex:l=0}=t,{start:c=0}=t,{end:h=0}=t,u=[],f,b,I,S=0,P,D,z=0,F=0,y;async function v(T,N,k){const{scrollTop:M}=b;await Zn();let C=z-M,w=c;for(;C<N&&w<T.length;){let dt=f[w-c];dt||(e(10,h=w+1),await Zn(),dt=f[w-c]),C+=u[w]=k||dt.offsetHeight,w+=1}e(10,h=w);const A=T.length-h;y=(z+C)/h,e(7,F=A*y),u.length=T.length,b&&e(3,b.scrollTop=0,b)}async function O(){const{scrollTop:T}=b,N=c;for(let w=0;w<f.length;w+=1)u[c+w]=a||f[w].offsetHeight;let k=0,M=0;for(;k<s.length;){const w=u[k]||y;if(M+w>T){e(9,c=k),e(6,z=M);break}M+=w,k+=1}for(;k<s.length&&(M+=u[k]||y,k+=1,!(M>T+S)););e(10,h=k);const C=s.length-h;for(y=M/h;k<s.length;)u[k++]=y;if(e(7,F=C*y),c<N){await Zn();let w=0,A=0;for(let Bt=c;Bt<N;Bt+=1)f[Bt-c]&&(w+=u[Bt],A+=a||f[Bt-c].offsetHeight);const dt=A-w;b.scrollTo(0,T+dt)}}zr(()=>{f=I.getElementsByTagName("svelte-virtual-list-row"),e(13,D=!0)});function nt(T){Ci[T?"unshift":"push"](()=>{I=T,e(4,I)})}function L(T){Ci[T?"unshift":"push"](()=>{b=T,e(3,b)})}function tt(){S=this.offsetHeight,e(2,S)}return i.$$set=T=>{"items"in T&&e(11,s=T.items),"height"in T&&e(0,o=T.height),"itemHeight"in T&&e(12,a=T.itemHeight),"hoverItemIndex"in T&&e(1,l=T.hoverItemIndex),"start"in T&&e(9,c=T.start),"end"in T&&e(10,h=T.end),"$$scope"in T&&e(14,r=T.$$scope)},i.$$.update=()=>{i.$$.dirty&3584&&e(5,P=s.slice(c,h).map((T,N)=>({index:N+c,data:T}))),i.$$.dirty&14340&&D&&v(s,S,a)},[o,l,S,b,I,P,z,F,O,c,h,s,a,D,r,n,nt,L,tt]}class z0 extends gi{constructor(t){super(),_i(this,t,j0,V0,wi,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10})}}function H0(i){let t,e;return{c(){t=kt("svg"),e=kt("path"),this.h()},l(n){t=Dt(n,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0});var r=B(t);e=Dt(r,"path",{fill:!0,d:!0}),B(e).forEach(_),r.forEach(_),this.h()},h(){p(e,"fill","currentColor"),p(e,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),p(t,"width","100%"),p(t,"height","100%"),p(t,"viewBox","-2 -2 50 50"),p(t,"focusable","false"),p(t,"aria-hidden","true"),p(t,"role","presentation")},m(n,r){J(n,t,r),E(t,e)},p:bt,i:bt,o:bt,d(n){n&&_(t)}}}class W0 extends gi{constructor(t){super(),_i(this,t,null,H0,wi,{})}}function Y0(i,t,e){let n;return function(){let s=this,o=arguments,a=function(){n=null,e||i.apply(s,o)},l=e&&!n;clearTimeout(n),n=setTimeout(a,t),l&&i.apply(s,o)}}function Fa(i,t,e){const n=i.slice();return n[103]=t[e],n}function Oa(i){let t,e,n,r,s;return{c(){t=x("span"),e=lt(i[33]),n=Mt(),r=x("span"),s=lt(i[32]),this.h()},l(o){t=V(o,"SPAN",{id:!0});var a=B(t);e=ct(a,i[33]),a.forEach(_),n=Ut(o),r=V(o,"SPAN",{id:!0});var l=B(r);s=ct(l,i[32]),l.forEach(_),this.h()},h(){p(t,"id","aria-selection"),p(r,"id","aria-context")},m(o,a){J(o,t,a),E(t,e),J(o,n,a),J(o,r,a),E(r,s)},p(o,a){a[1]&4&&Pi(e,o[33]),a[1]&2&&Pi(s,o[32])},d(o){o&&_(t),o&&_(n),o&&_(r)}}}function Na(i){let t,e,n;const r=[i[18]];var s=i[17];function o(a){let l={};for(let c=0;c<r.length;c+=1)l=js(l,r[c]);return{props:l}}return s&&(t=new s(o())),{c(){t&&Yt(t.$$.fragment),e=It()},l(a){t&&ri(t.$$.fragment,a),e=It()},m(a,l){t&&Gt(t,a,l),J(a,e,l),n=!0},p(a,l){const c=l[0]&262144?zs(r,[Qa(a[18])]):{};if(s!==(s=a[17])){if(t){Ht();const h=t;rt(h.$$.fragment,1,0,()=>{qt(h,1)}),Wt()}s?(t=new s(o()),Yt(t.$$.fragment),X(t.$$.fragment,1),Gt(t,e.parentNode,e)):t=null}else s&&t.$set(c)},i(a){n||(t&&X(t.$$.fragment,a),n=!0)},o(a){t&&rt(t.$$.fragment,a),n=!1},d(a){a&&_(e),t&&qt(t,a)}}}function Ba(i){let t,e,n;var r=i[26];function s(o){return{props:{value:o[2],getSelectionLabel:o[12],activeValue:o[30],isDisabled:o[9],multiFullItemClearable:o[8]}}}return r&&(t=new r(s(i)),t.$on("multiItemClear",i[38]),t.$on("focus",i[40])),{c(){t&&Yt(t.$$.fragment),e=It()},l(o){t&&ri(t.$$.fragment,o),e=It()},m(o,a){t&&Gt(t,o,a),J(o,e,a),n=!0},p(o,a){const l={};if(a[0]&4&&(l.value=o[2]),a[0]&4096&&(l.getSelectionLabel=o[12]),a[0]&1073741824&&(l.activeValue=o[30]),a[0]&512&&(l.isDisabled=o[9]),a[0]&256&&(l.multiFullItemClearable=o[8]),r!==(r=o[26])){if(t){Ht();const c=t;rt(c.$$.fragment,1,0,()=>{qt(c,1)}),Wt()}r?(t=new r(s(o)),t.$on("multiItemClear",o[38]),t.$on("focus",o[40]),Yt(t.$$.fragment),X(t.$$.fragment,1),Gt(t,e.parentNode,e)):t=null}else r&&t.$set(l)},i(o){n||(t&&X(t.$$.fragment,o),n=!0)},o(o){t&&rt(t.$$.fragment,o),n=!1},d(o){o&&_(e),t&&qt(t,o)}}}function ka(i){let t,e,n,r,s;var o=i[25];function a(l){return{props:{item:l[2],getSelectionLabel:l[12]}}}return o&&(e=new o(a(i))),{c(){t=x("div"),e&&Yt(e.$$.fragment),this.h()},l(l){t=V(l,"DIV",{class:!0});var c=B(t);e&&ri(e.$$.fragment,c),c.forEach(_),this.h()},h(){p(t,"class","selectedItem svelte-1c314rr")},m(l,c){J(l,t,c),e&&Gt(e,t,null),n=!0,r||(s=Ft(t,"focus",i[40]),r=!0)},p(l,c){const h={};if(c[0]&4&&(h.item=l[2]),c[0]&4096&&(h.getSelectionLabel=l[12]),o!==(o=l[25])){if(e){Ht();const u=e;rt(u.$$.fragment,1,0,()=>{qt(u,1)}),Wt()}o?(e=new o(a(l)),Yt(e.$$.fragment),X(e.$$.fragment,1),Gt(e,t,null)):e=null}else o&&e.$set(h)},i(l){n||(e&&X(e.$$.fragment,l),n=!0)},o(l){e&&rt(e.$$.fragment,l),n=!1},d(l){l&&_(t),e&&qt(e),r=!1,s()}}}function Da(i){let t,e,n,r,s;var o=i[23];function a(l){return{}}return o&&(e=new o(a())),{c(){t=x("div"),e&&Yt(e.$$.fragment),this.h()},l(l){t=V(l,"DIV",{class:!0,"aria-hidden":!0});var c=B(t);e&&ri(e.$$.fragment,c),c.forEach(_),this.h()},h(){p(t,"class","clearSelect svelte-1c314rr"),p(t,"aria-hidden","true")},m(l,c){J(l,t,c),e&&Gt(e,t,null),n=!0,r||(s=Ft(t,"click",Lu(i[27])),r=!0)},p(l,c){if(o!==(o=l[23])){if(e){Ht();const h=e;rt(h.$$.fragment,1,0,()=>{qt(h,1)}),Wt()}o?(e=new o(a()),Yt(e.$$.fragment),X(e.$$.fragment,1),Gt(e,t,null)):e=null}},i(l){n||(e&&X(e.$$.fragment,l),n=!0)},o(l){e&&rt(e.$$.fragment,l),n=!1},d(l){l&&_(t),e&&qt(e),r=!1,s()}}}function Ra(i){let t;function e(s,o){return s[22]?q0:G0}let n=e(i),r=n(i);return{c(){t=x("div"),r.c(),this.h()},l(s){t=V(s,"DIV",{class:!0,"aria-hidden":!0});var o=B(t);r.l(o),o.forEach(_),this.h()},h(){p(t,"class","indicator svelte-1c314rr"),p(t,"aria-hidden","true")},m(s,o){J(s,t,o),r.m(t,null)},p(s,o){n===(n=e(s))&&r?r.p(s,o):(r.d(1),r=n(s),r&&(r.c(),r.m(t,null)))},d(s){s&&_(t),r.d()}}}function G0(i){let t,e;return{c(){t=kt("svg"),e=kt("path"),this.h()},l(n){t=Dt(n,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,class:!0});var r=B(t);e=Dt(r,"path",{d:!0}),B(e).forEach(_),r.forEach(_),this.h()},h(){p(e,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),p(t,"width","100%"),p(t,"height","100%"),p(t,"viewBox","0 0 20 20"),p(t,"focusable","false"),p(t,"aria-hidden","true"),p(t,"class","svelte-1c314rr")},m(n,r){J(n,t,r),E(t,e)},p:bt,d(n){n&&_(t)}}}function q0(i){let t,e;return{c(){t=new Uu(!1),e=It(),this.h()},l(n){t=Cu(n,!1),e=It(),this.h()},h(){t.a=e},m(n,r){t.m(i[22],n,r),J(n,e,r)},p(n,r){r[0]&4194304&&t.p(n[22])},d(n){n&&_(e),n&&t.d()}}}function La(i){let t,e,n;return{c(){t=x("div"),e=kt("svg"),n=kt("circle"),this.h()},l(r){t=V(r,"DIV",{class:!0});var s=B(t);e=Dt(s,"svg",{class:!0,viewBox:!0});var o=B(e);n=Dt(o,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),B(n).forEach(_),o.forEach(_),s.forEach(_),this.h()},h(){p(n,"class","spinner_path svelte-1c314rr"),p(n,"cx","50"),p(n,"cy","50"),p(n,"r","20"),p(n,"fill","none"),p(n,"stroke","currentColor"),p(n,"stroke-width","5"),p(n,"stroke-miterlimit","10"),p(e,"class","spinner_icon svelte-1c314rr"),p(e,"viewBox","25 25 50 50"),p(t,"class","spinner svelte-1c314rr")},m(r,s){J(r,t,s),E(t,e),E(e,n)},d(r){r&&_(t)}}}function Ma(i){let t,e,n,r;const s=[i[34]];function o(c){i[84](c)}var a=i[24];function l(c){let h={};for(let u=0;u<s.length;u+=1)h=js(h,s[u]);return c[28]!==void 0&&(h.hoverItemIndex=c[28]),{props:h}}return a&&(t=new a(l(i)),Ci.push(()=>Do(t,"hoverItemIndex",o)),t.$on("itemSelected",i[43]),t.$on("itemCreated",i[44]),t.$on("closeList",i[45])),{c(){t&&Yt(t.$$.fragment),n=It()},l(c){t&&ri(t.$$.fragment,c),n=It()},m(c,h){t&&Gt(t,c,h),J(c,n,h),r=!0},p(c,h){const u=h[1]&8?zs(s,[Qa(c[34])]):{};if(!e&&h[0]&268435456&&(e=!0,u.hoverItemIndex=c[28],Mu(()=>e=!1)),a!==(a=c[24])){if(t){Ht();const f=t;rt(f.$$.fragment,1,0,()=>{qt(f,1)}),Wt()}a?(t=new a(l(c)),Ci.push(()=>Do(t,"hoverItemIndex",o)),t.$on("itemSelected",c[43]),t.$on("itemCreated",c[44]),t.$on("closeList",c[45]),Yt(t.$$.fragment),X(t.$$.fragment,1),Gt(t,n.parentNode,n)):t=null}else a&&t.$set(u)},i(c){r||(t&&X(t.$$.fragment,c),r=!0)},o(c){t&&rt(t.$$.fragment,c),r=!1},d(c){c&&_(n),t&&qt(t,c)}}}function Ua(i){let t,e,n;return{c(){t=x("input"),this.h()},l(r){t=V(r,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){p(t,"name",e=i[16].name),p(t,"type","hidden"),t.value=n=i[2]?i[12](i[2]):null,p(t,"class","svelte-1c314rr")},m(r,s){J(r,t,s)},p(r,s){s[0]&65536&&e!==(e=r[16].name)&&p(t,"name",e),s[0]&4100&&n!==(n=r[2]?r[12](r[2]):null)&&(t.value=n)},d(r){r&&_(t)}}}function Ca(i){let t,e=i[2],n=[];for(let r=0;r<e.length;r+=1)n[r]=Pa(Fa(i,e,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();t=It()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);t=It()},m(r,s){for(let o=0;o<n.length;o+=1)n[o].m(r,s);J(r,t,s)},p(r,s){if(s[0]&69636){e=r[2];let o;for(o=0;o<e.length;o+=1){const a=Fa(r,e,o);n[o]?n[o].p(a,s):(n[o]=Pa(a),n[o].c(),n[o].m(t.parentNode,t))}for(;o<n.length;o+=1)n[o].d(1);n.length=e.length}},d(r){An(n,r),r&&_(t)}}}function Pa(i){let t,e,n;return{c(){t=x("input"),this.h()},l(r){t=V(r,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){p(t,"name",e=i[16].name),p(t,"type","hidden"),t.value=n=i[103]?i[12](i[103]):null,p(t,"class","svelte-1c314rr")},m(r,s){J(r,t,s)},p(r,s){s[0]&65536&&e!==(e=r[16].name)&&p(t,"name",e),s[0]&4100&&n!==(n=r[103]?r[12](r[103]):null)&&(t.value=n)},d(r){r&&_(t)}}}function J0(i){let t,e,n,r,s,o,a,l,c,h,u,f,b,I,S,P,D,z,F=i[1]&&Oa(i),y=i[17]&&Na(i),v=i[35]&&Ba(i),O=[{readOnly:a=!i[13]},i[31],{placeholder:i[36]},{style:i[14]},{disabled:i[9]}],nt={};for(let w=0;w<O.length;w+=1)nt=js(nt,O[w]);let L=!i[7]&&i[29]&&ka(i),tt=i[37]&&Da(i),T=!i[37]&&(i[20]||i[19]&&!i[2]||!i[13]&&!i[9]&&!i[4]&&(i[29]&&!i[15]||!i[29]))&&Ra(i),N=i[4]&&La(),k=i[5]&&Ma(i),M=(!i[7]||i[7]&&!i[35])&&Ua(i),C=i[7]&&i[35]&&Ca(i);return{c(){t=x("div"),e=x("span"),F&&F.c(),n=Mt(),y&&y.c(),r=Mt(),v&&v.c(),s=Mt(),o=x("input"),l=Mt(),L&&L.c(),c=Mt(),tt&&tt.c(),h=Mt(),T&&T.c(),u=Mt(),N&&N.c(),f=Mt(),k&&k.c(),b=Mt(),M&&M.c(),I=Mt(),C&&C.c(),this.h()},l(w){t=V(w,"DIV",{class:!0,style:!0});var A=B(t);e=V(A,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var dt=B(e);F&&F.l(dt),dt.forEach(_),n=Ut(A),y&&y.l(A),r=Ut(A),v&&v.l(A),s=Ut(A),o=V(A,"INPUT",{placeholder:!0,style:!0}),l=Ut(A),L&&L.l(A),c=Ut(A),tt&&tt.l(A),h=Ut(A),T&&T.l(A),u=Ut(A),N&&N.l(A),f=Ut(A),k&&k.l(A),b=Ut(A),M&&M.l(A),I=Ut(A),C&&C.l(A),A.forEach(_),this.h()},h(){p(e,"aria-live","polite"),p(e,"aria-atomic","false"),p(e,"aria-relevant","additions text"),p(e,"class","a11yText svelte-1c314rr"),Bo(o,nt),pe(o,"svelte-1c314rr",!0),p(t,"class",S="selectContainer "+i[21]+" svelte-1c314rr"),p(t,"style",i[11]),pe(t,"hasError",i[10]),pe(t,"multiSelect",i[7]),pe(t,"disabled",i[9]),pe(t,"focused",i[1])},m(w,A){J(w,t,A),E(t,e),F&&F.m(e,null),E(t,n),y&&y.m(t,null),E(t,r),v&&v.m(t,null),E(t,s),E(t,o),o.autofocus&&o.focus(),i[82](o),ko(o,i[3]),E(t,l),L&&L.m(t,null),E(t,c),tt&&tt.m(t,null),E(t,h),T&&T.m(t,null),E(t,u),N&&N.m(t,null),E(t,f),k&&k.m(t,null),E(t,b),M&&M.m(t,null),E(t,I),C&&C.m(t,null),i[85](t),P=!0,D||(z=[Ft(window,"click",i[41]),Ft(window,"focusin",i[41]),Ft(window,"keydown",i[39]),Ft(o,"focus",i[40]),Ft(o,"input",i[83]),Ft(t,"click",i[42])],D=!0)},p(w,A){w[1]?F?F.p(w,A):(F=Oa(w),F.c(),F.m(e,null)):F&&(F.d(1),F=null),w[17]?y?(y.p(w,A),A[0]&131072&&X(y,1)):(y=Na(w),y.c(),X(y,1),y.m(t,r)):y&&(Ht(),rt(y,1,1,()=>{y=null}),Wt()),w[35]?v?(v.p(w,A),A[1]&16&&X(v,1)):(v=Ba(w),v.c(),X(v,1),v.m(t,s)):v&&(Ht(),rt(v,1,1,()=>{v=null}),Wt()),Bo(o,nt=zs(O,[(!P||A[0]&8192&&a!==(a=!w[13]))&&{readOnly:a},A[1]&1&&w[31],(!P||A[1]&32)&&{placeholder:w[36]},(!P||A[0]&16384)&&{style:w[14]},(!P||A[0]&512)&&{disabled:w[9]}])),A[0]&8&&o.value!==w[3]&&ko(o,w[3]),pe(o,"svelte-1c314rr",!0),!w[7]&&w[29]?L?(L.p(w,A),A[0]&536871040&&X(L,1)):(L=ka(w),L.c(),X(L,1),L.m(t,c)):L&&(Ht(),rt(L,1,1,()=>{L=null}),Wt()),w[37]?tt?(tt.p(w,A),A[1]&64&&X(tt,1)):(tt=Da(w),tt.c(),X(tt,1),tt.m(t,h)):tt&&(Ht(),rt(tt,1,1,()=>{tt=null}),Wt()),!w[37]&&(w[20]||w[19]&&!w[2]||!w[13]&&!w[9]&&!w[4]&&(w[29]&&!w[15]||!w[29]))?T?T.p(w,A):(T=Ra(w),T.c(),T.m(t,u)):T&&(T.d(1),T=null),w[4]?N||(N=La(),N.c(),N.m(t,f)):N&&(N.d(1),N=null),w[5]?k?(k.p(w,A),A[0]&32&&X(k,1)):(k=Ma(w),k.c(),X(k,1),k.m(t,b)):k&&(Ht(),rt(k,1,1,()=>{k=null}),Wt()),!w[7]||w[7]&&!w[35]?M?M.p(w,A):(M=Ua(w),M.c(),M.m(t,I)):M&&(M.d(1),M=null),w[7]&&w[35]?C?C.p(w,A):(C=Ca(w),C.c(),C.m(t,null)):C&&(C.d(1),C=null),(!P||A[0]&2097152&&S!==(S="selectContainer "+w[21]+" svelte-1c314rr"))&&p(t,"class",S),(!P||A[0]&2048)&&p(t,"style",w[11]),A[0]&2098176&&pe(t,"hasError",w[10]),A[0]&2097280&&pe(t,"multiSelect",w[7]),A[0]&2097664&&pe(t,"disabled",w[9]),A[0]&2097154&&pe(t,"focused",w[1])},i(w){P||(X(y),X(v),X(L),X(tt),X(k),P=!0)},o(w){rt(y),rt(v),rt(L),rt(tt),rt(k),P=!1},d(w){w&&_(t),F&&F.d(),y&&y.d(),v&&v.d(),i[82](null),L&&L.d(),tt&&tt.d(),T&&T.d(),N&&N.d(),k&&k.d(),M&&M.d(),C&&C.d(),i[85](null),D=!1,Un(z)}}}function xa(i){return i.map((t,e)=>({index:e,value:t,label:`${t}`}))}function Q0(i,t,e){let n,r,s,o,a,l,c,h;const u=Vs();let{id:f=null}=t,{container:b=void 0}=t,{input:I=void 0}=t,{isMulti:S=!1}=t,{multiFullItemClearable:P=!1}=t,{isDisabled:D=!1}=t,{isCreatable:z=!1}=t,{isFocused:F=!1}=t,{value:y=null}=t,{filterText:v=""}=t,{placeholder:O="Select..."}=t,{placeholderAlwaysShow:nt=!1}=t,{items:L=null}=t,{itemFilter:tt=(d,U,gt)=>`${d}`.toLowerCase().includes(U.toLowerCase())}=t,{groupBy:T=void 0}=t,{groupFilter:N=d=>d}=t,{isGroupHeaderSelectable:k=!1}=t,{getGroupHeaderLabel:M=d=>d[C]||d.id}=t,{labelIdentifier:C="label"}=t,{getOptionLabel:w=(d,U)=>d.isCreator?`Create "${U}"`:d[C]}=t,{optionIdentifier:A="value"}=t,{loadOptions:dt=void 0}=t,{hasError:Bt=!1}=t,{containerStyles:Nt=""}=t,{getSelectionLabel:zt=d=>d?d[C]:null}=t,{createGroupHeaderItem:Je=d=>({value:d,label:d})}=t,{createItem:Ae=d=>({value:d,label:d})}=t;const Ei=()=>n;let{isSearchable:Te=!0}=t,{inputStyles:Qe=""}=t,{isClearable:ke=!0}=t,{isWaiting:fe=!1}=t,{listPlacement:g="auto"}=t,{listOpen:R=!1}=t,{isVirtualList:At=!1}=t,{loadOptionsInterval:Lt=300}=t,{noOptionsMessage:te="No options"}=t,{hideEmptyState:Wi=!1}=t,{inputAttributes:ai={}}=t,{listAutoWidth:Yi=!0}=t,{itemHeight:li=40}=t,{Icon:Kt=void 0}=t,{iconProps:pn={}}=t,{showChevron:bn=!1}=t,{showIndicator:gn=!1}=t,{containerClasses:_n=""}=t,{indicatorSvg:wn=void 0}=t,{listOffset:me=5}=t,{ClearIcon:vn=W0}=t,{Item:Gi=iu}=t,{List:In=k0}=t,{Selection:Eo=L0}=t,{MultiSelection:Ao=C0}=t,{VirtualList:Qr=z0}=t;function nu(d){if(d.loadOptions&&d.filterText.length>0)return;if(!d.items)return[];d.items&&d.items.length>0&&typeof d.items[0]!="object"&&(d.items=xa(d.items));let U=d.items.filter(gt=>{let ye=tt(w(gt,d.filterText),d.filterText,gt);return ye&&d.isMulti&&d.value&&Array.isArray(d.value)&&(ye=!d.value.some(Ai=>Ai[d.optionIdentifier]===gt[d.optionIdentifier])),ye});return d.groupBy&&(U=au(U)),d.isCreatable&&(U=To(U,d.filterText)),U}function To(d,U){if(U.length===0)return d;const gt=Ae(U);return d[0]&&U===d[0][C]?d:(gt.isCreator=!0,[...d,gt])}let{selectedValue:Kr=null}=t,Et,qi,Zr,Xr,$r,Hn;const ru=Y0(async()=>{e(4,fe=!0);let d=await dt(v).catch(U=>{console.warn("svelte-select loadOptions error :>> ",U),u("error",{type:"loadOptions",details:U})});d&&!d.cancelled&&(d?(d&&d.length>0&&typeof d[0]!="object"&&(d=xa(d)),e(81,n=[...d]),u("loaded",{items:n})):e(81,n=[]),z&&e(81,n=To(n,v)),e(4,fe=!1),e(1,F=!0),e(5,R=!0))},Lt);function su(){typeof y=="string"?e(2,y={[A]:y,label:y}):S&&Array.isArray(y)&&y.length>0&&e(2,y=y.map(d=>typeof d=="string"?{value:d,label:d}:d))}let Ji;function ou(){e(31,Ji=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},ai)),f&&e(31,Ji.id=f,Ji),Te||e(31,Ji.readonly=!0,Ji)}function au(d){const U=[],gt={};d.forEach(Ai=>{const Ke=T(Ai);U.includes(Ke)||(U.push(Ke),gt[Ke]=[],Ke&&gt[Ke].push(Object.assign(Je(Ke,Ai),{id:Ke,isGroupHeader:!0,isSelectable:k}))),gt[Ke].push(Object.assign({isGroupItem:!!Ke},Ai))});const ye=[];return N(U).forEach(Ai=>{ye.push(...gt[Ai])}),ye}function lu(){if(S){JSON.stringify(y)!==JSON.stringify(qi)&&Fo()&&u("select",y);return}(!qi||JSON.stringify(y[A])!==JSON.stringify(qi[A]))&&u("select",y)}function cu(){F||R?ts():I&&I.blur()}function uu(){y&&(Array.isArray(y)?e(2,y=[...y]):e(2,y=[y]))}function hu(){y&&e(2,y=null)}function du(){v.length!==0&&(e(1,F=!0),e(5,R=!0),dt?ru():(e(5,R=!0),S&&e(30,Et=void 0)))}qa(async()=>{e(77,qi=y),e(78,Zr=v),e(79,Xr=F),e(80,$r=S)});function Fo(){let d=!0;if(y){const U=[],gt=[];y.forEach(ye=>{U.includes(ye[A])?d=!1:(U.push(ye[A]),gt.push(ye))}),d||e(2,y=gt)}return d}function Oo(d){let U=d?d[A]:y[A];return L.find(gt=>gt[A]===U)}function fu(d){!d||d.length===0||d.some(U=>typeof U!="object")||!y||(S?y.some(U=>!U||!U[A]):!y[A])||(Array.isArray(y)?e(2,y=y.map(U=>Oo(U)||U)):e(2,y=Oo()||y))}function No(d){const{detail:U}=d,gt=y[U?U.i:y.length-1];y.length===1?e(2,y=void 0):e(2,y=y.filter(ye=>ye!==gt)),u("clear",gt)}function mu(d){if(!!F)switch(d.key){case"ArrowDown":d.preventDefault(),e(5,R=!0),e(30,Et=void 0);break;case"ArrowUp":d.preventDefault(),e(5,R=!0),e(30,Et=void 0);break;case"Tab":R||e(1,F=!1);break;case"Backspace":if(!S||v.length>0)return;if(S&&y&&y.length>0){if(No(Et!==void 0?Et:y.length-1),Et===0||Et===void 0)break;e(30,Et=y.length>Et?Et-1:void 0)}break;case"ArrowLeft":if(!S||v.length>0)return;Et===void 0?e(30,Et=y.length-1):y.length>Et&&Et!==0&&e(30,Et-=1);break;case"ArrowRight":if(!S||v.length>0||Et===void 0)return;Et===y.length-1?e(30,Et=void 0):Et<y.length-1&&e(30,Et+=1);break}}function ts(){e(1,F=!0),I&&I.focus()}function yu(d){if(!b)return;const U=d.path&&d.path.length>0?d.path[0]:d.target;b.contains(U)||b.contains(d.relatedTarget)||(e(1,F=!1),e(5,R=!1),e(30,Et=void 0),I&&I.blur())}function pu(){D||(e(1,F=!0),e(5,R=!R))}function bu(){e(2,y=void 0),e(5,R=!1),u("clear",y),ts()}zr(()=>{F&&I&&I.focus()});function gu(d){const{detail:U}=d;if(U){e(3,v="");const gt=Object.assign({},U);(!gt.isGroupHeader||gt.isSelectable)&&(S?e(2,y=y?y.concat([gt]):[gt]):e(2,y=gt),e(2,y),setTimeout(()=>{e(5,R=!1),e(30,Et=void 0)}))}}function _u(d){const{detail:U}=d;S?(e(2,y=y||[]),e(2,y=[...y,Ae(U)])):e(2,y=Ae(U)),u("itemCreated",U),e(3,v=""),e(5,R=!1),e(30,Et=void 0)}function wu(){e(3,v=""),e(5,R=!1)}let{ariaValues:es=d=>`Option ${d}, selected.`}=t,{ariaListOpen:is=(d,U)=>`You are currently focused on option ${d}. There are ${U} results available.`}=t,{ariaFocused:ns=()=>"Select is focused, type to refine list, press down to open the menu."}=t;function vu(){let d;return S&&y.length>0?d=y.map(U=>zt(U)).join(", "):d=zt(y),es(d)}function Iu(){if(!F||!n||n.length===0)return"";let d=n[Hn];if(R&&d){let U=zt(d),gt=n?n.length:0;return is(U,gt)}else return ns()}function Su(d){Ci[d?"unshift":"push"](()=>{I=d,e(6,I)})}function Eu(){v=this.value,e(3,v)}function Au(d){Hn=d,e(28,Hn)}function Tu(d){Ci[d?"unshift":"push"](()=>{b=d,e(0,b)})}return i.$$set=d=>{"id"in d&&e(46,f=d.id),"container"in d&&e(0,b=d.container),"input"in d&&e(6,I=d.input),"isMulti"in d&&e(7,S=d.isMulti),"multiFullItemClearable"in d&&e(8,P=d.multiFullItemClearable),"isDisabled"in d&&e(9,D=d.isDisabled),"isCreatable"in d&&e(47,z=d.isCreatable),"isFocused"in d&&e(1,F=d.isFocused),"value"in d&&e(2,y=d.value),"filterText"in d&&e(3,v=d.filterText),"placeholder"in d&&e(48,O=d.placeholder),"placeholderAlwaysShow"in d&&e(49,nt=d.placeholderAlwaysShow),"items"in d&&e(50,L=d.items),"itemFilter"in d&&e(51,tt=d.itemFilter),"groupBy"in d&&e(52,T=d.groupBy),"groupFilter"in d&&e(53,N=d.groupFilter),"isGroupHeaderSelectable"in d&&e(54,k=d.isGroupHeaderSelectable),"getGroupHeaderLabel"in d&&e(55,M=d.getGroupHeaderLabel),"labelIdentifier"in d&&e(56,C=d.labelIdentifier),"getOptionLabel"in d&&e(57,w=d.getOptionLabel),"optionIdentifier"in d&&e(58,A=d.optionIdentifier),"loadOptions"in d&&e(59,dt=d.loadOptions),"hasError"in d&&e(10,Bt=d.hasError),"containerStyles"in d&&e(11,Nt=d.containerStyles),"getSelectionLabel"in d&&e(12,zt=d.getSelectionLabel),"createGroupHeaderItem"in d&&e(60,Je=d.createGroupHeaderItem),"createItem"in d&&e(61,Ae=d.createItem),"isSearchable"in d&&e(13,Te=d.isSearchable),"inputStyles"in d&&e(14,Qe=d.inputStyles),"isClearable"in d&&e(15,ke=d.isClearable),"isWaiting"in d&&e(4,fe=d.isWaiting),"listPlacement"in d&&e(63,g=d.listPlacement),"listOpen"in d&&e(5,R=d.listOpen),"isVirtualList"in d&&e(64,At=d.isVirtualList),"loadOptionsInterval"in d&&e(65,Lt=d.loadOptionsInterval),"noOptionsMessage"in d&&e(66,te=d.noOptionsMessage),"hideEmptyState"in d&&e(67,Wi=d.hideEmptyState),"inputAttributes"in d&&e(16,ai=d.inputAttributes),"listAutoWidth"in d&&e(68,Yi=d.listAutoWidth),"itemHeight"in d&&e(69,li=d.itemHeight),"Icon"in d&&e(17,Kt=d.Icon),"iconProps"in d&&e(18,pn=d.iconProps),"showChevron"in d&&e(19,bn=d.showChevron),"showIndicator"in d&&e(20,gn=d.showIndicator),"containerClasses"in d&&e(21,_n=d.containerClasses),"indicatorSvg"in d&&e(22,wn=d.indicatorSvg),"listOffset"in d&&e(70,me=d.listOffset),"ClearIcon"in d&&e(23,vn=d.ClearIcon),"Item"in d&&e(71,Gi=d.Item),"List"in d&&e(24,In=d.List),"Selection"in d&&e(25,Eo=d.Selection),"MultiSelection"in d&&e(26,Ao=d.MultiSelection),"VirtualList"in d&&e(72,Qr=d.VirtualList),"selectedValue"in d&&e(73,Kr=d.selectedValue),"ariaValues"in d&&e(74,es=d.ariaValues),"ariaListOpen"in d&&e(75,is=d.ariaListOpen),"ariaFocused"in d&&e(76,ns=d.ariaFocused)},i.$$.update=()=>{i.$$.dirty[0]&140|i.$$.dirty[1]&405340160&&e(81,n=nu({loadOptions:dt,filterText:v,items:L,value:y,isMulti:S,optionIdentifier:A,groupBy:T,isCreatable:z})),i.$$.dirty[2]&2048&&Kr&&console.warn("selectedValue is no longer used. Please use value instead."),i.$$.dirty[1]&524288&&fu(L),i.$$.dirty[0]&4&&y&&su(),i.$$.dirty[0]&73728&&(ai||!Te)&&ou(),i.$$.dirty[0]&128|i.$$.dirty[2]&262144&&(S&&uu(),$r&&!S&&hu()),i.$$.dirty[0]&132&&S&&y&&y.length>1&&Fo(),i.$$.dirty[0]&4&&y&&lu(),i.$$.dirty[0]&132|i.$$.dirty[2]&32768&&!y&&S&&qi&&u("select",y),i.$$.dirty[0]&2|i.$$.dirty[2]&131072&&F!==Xr&&cu(),i.$$.dirty[0]&8|i.$$.dirty[2]&65536&&v!==Zr&&du(),i.$$.dirty[0]&12&&e(29,r=y&&v.length===0),i.$$.dirty[0]&536904208&&e(37,s=r&&ke&&!D&&!fe),i.$$.dirty[0]&132|i.$$.dirty[1]&393216&&e(36,o=nt&&S?O:y?"":O),i.$$.dirty[0]&132&&e(35,a=S&&y&&y.length>0),i.$$.dirty[0]&141|i.$$.dirty[1]&218103808|i.$$.dirty[2]&526326&&e(34,l={Item:Gi,filterText:v,optionIdentifier:A,noOptionsMessage:te,hideEmptyState:Wi,isVirtualList:At,VirtualList:Qr,value:y,isMulti:S,getGroupHeaderLabel:M,items:n,itemHeight:li,getOptionLabel:w,listPlacement:g,parent:b,listAutoWidth:Yi,listOffset:me}),i.$$.dirty[0]&132&&e(33,c=y?vu():""),i.$$.dirty[0]&268435490|i.$$.dirty[2]&524288&&e(32,h=Iu())},[b,F,y,v,fe,R,I,S,P,D,Bt,Nt,zt,Te,Qe,ke,ai,Kt,pn,bn,gn,_n,wn,vn,In,Eo,Ao,bu,Hn,r,Et,Ji,h,c,l,a,o,s,No,mu,ts,yu,pu,gu,_u,wu,f,z,O,nt,L,tt,T,N,k,M,C,w,A,dt,Je,Ae,Ei,g,At,Lt,te,Wi,Yi,li,me,Gi,Qr,Kr,es,is,ns,qi,Zr,Xr,$r,n,Su,Eu,Au,Tu]}class K0 extends gi{constructor(t){super(),_i(this,t,Q0,J0,wi,{id:46,container:0,input:6,isMulti:7,multiFullItemClearable:8,isDisabled:9,isCreatable:47,isFocused:1,value:2,filterText:3,placeholder:48,placeholderAlwaysShow:49,items:50,itemFilter:51,groupBy:52,groupFilter:53,isGroupHeaderSelectable:54,getGroupHeaderLabel:55,labelIdentifier:56,getOptionLabel:57,optionIdentifier:58,loadOptions:59,hasError:10,containerStyles:11,getSelectionLabel:12,createGroupHeaderItem:60,createItem:61,getFilteredItems:62,isSearchable:13,inputStyles:14,isClearable:15,isWaiting:4,listPlacement:63,listOpen:5,isVirtualList:64,loadOptionsInterval:65,noOptionsMessage:66,hideEmptyState:67,inputAttributes:16,listAutoWidth:68,itemHeight:69,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,listOffset:70,ClearIcon:23,Item:71,List:24,Selection:25,MultiSelection:26,VirtualList:72,selectedValue:73,handleClear:27,ariaValues:74,ariaListOpen:75,ariaFocused:76},null,[-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[62]}get handleClear(){return this.$$.ctx[27]}}function Va(i,t,e){const n=i.slice();return n[16]=t[e],n}function ja(i,t,e){const n=i.slice();return n[19]=t[e],n}function za(i,t,e){const n=i.slice();return n[22]=t[e],n}function Z0(i){return{c:bt,l:bt,m:bt,p:bt,i:bt,o:bt,d:bt}}function X0(i){let t,e,n;return e=new K0({props:{placeholder:"Search TV Series title (regular expressions allowed)",loadOptions:i[6]}}),e.$on("select",i[7]),e.$on("clear",i[9]),{c(){t=x("div"),Yt(e.$$.fragment),this.h()},l(r){t=V(r,"DIV",{class:!0});var s=B(t);ri(e.$$.fragment,s),s.forEach(_),this.h()},h(){p(t,"class","container max-w-2xl mx-auto")},m(r,s){J(r,t,s),Gt(e,t,null),n=!0},p:bt,i(r){n||(X(e.$$.fragment,r),n=!0)},o(r){rt(e.$$.fragment,r),n=!1},d(r){r&&_(t),qt(e)}}}function $0(i){let t,e,n;return{c(){t=x("div"),e=x("span"),n=lt(`
				Loading database...`),this.h()},l(r){t=V(r,"DIV",{class:!0});var s=B(t);e=V(s,"SPAN",{class:!0}),B(e).forEach(_),n=ct(s,`
				Loading database...`),s.forEach(_),this.h()},h(){p(e,"class","h-7 w-7 block rounded-full border-4 border-t-green-500 animate-spin mr-2"),p(t,"class","flex items-center gap-2 text-gray-500 mx-auto pt-10")},m(r,s){J(r,t,s),E(t,e),E(t,n)},p:bt,i:bt,o:bt,d(r){r&&_(t)}}}function ty(i){return{c:bt,l:bt,m:bt,p:bt,d:bt}}function ey(i){let t,e=i[4]&&i[0]&&Ha(i);return{c(){e&&e.c(),t=It()},l(n){e&&e.l(n),t=It()},m(n,r){e&&e.m(n,r),J(n,t,r)},p(n,r){n[4]&&n[0]?e?e.p(n,r):(e=Ha(n),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(n){e&&e.d(n),n&&_(t)}}}function Ha(i){let t,e,n,r,s,o,a,l,c,h=[],u=new Map,f,b,I=i[0].rangeSeason,S=[];for(let y=0;y<I.length;y+=1)S[y]=Wa(za(i,I,y));let P=i[0].rangeEpisode,D=[];for(let y=0;y<P.length;y+=1)D[y]=Ya(ja(i,P,y));let z=i[4];const F=y=>y[16].episodeID;for(let y=0;y<z.length;y+=1){let v=Va(i,z,y),O=F(v);u.set(O,h[y]=Ga(O,v))}return{c(){t=x("div"),e=kt("svg"),n=kt("g"),r=kt("text"),s=lt("Season"),o=kt("text"),a=lt("Episode");for(let y=0;y<S.length;y+=1)S[y].c();l=It();for(let y=0;y<D.length;y+=1)D[y].c();c=It();for(let y=0;y<h.length;y+=1)h[y].c();this.h()},l(y){t=V(y,"DIV",{class:!0});var v=B(t);e=Dt(v,"svg",{width:!0,height:!0});var O=B(e);n=Dt(O,"g",{transform:!0});var nt=B(n);r=Dt(nt,"text",{class:!0});var L=B(r);s=ct(L,"Season"),L.forEach(_),o=Dt(nt,"text",{class:!0});var tt=B(o);a=ct(tt,"Episode"),tt.forEach(_);for(let T=0;T<S.length;T+=1)S[T].l(nt);l=It();for(let T=0;T<D.length;T+=1)D[T].l(nt);c=It();for(let T=0;T<h.length;T+=1)h[T].l(nt);nt.forEach(_),O.forEach(_),v.forEach(_),this.h()},h(){p(r,"class","text-xl font-semibold translate-x-1/2 -translate-y-3 svelte-1913pjb"),p(o,"class","text-xl font-semibold -rotate-90 -translate-x-3 translate-y-1/2  svelte-1913pjb"),p(n,"transform","translate(20, 20)"),p(e,"width",f=40*(i[0].rangeSeason.length+2)),p(e,"height",b=40*(i[0].rangeEpisode.length+2)),p(t,"class","mx-auto p-8")},m(y,v){J(y,t,v),E(t,e),E(e,n),E(n,r),E(r,s),E(n,o),E(o,a);for(let O=0;O<S.length;O+=1)S[O].m(n,null);E(n,l);for(let O=0;O<D.length;O+=1)D[O].m(n,null);E(n,c);for(let O=0;O<h.length;O+=1)h[O].m(n,null)},p(y,v){if(v&3){I=y[0].rangeSeason;let O;for(O=0;O<I.length;O+=1){const nt=za(y,I,O);S[O]?S[O].p(nt,v):(S[O]=Wa(nt),S[O].c(),S[O].m(n,l))}for(;O<S.length;O+=1)S[O].d(1);S.length=I.length}if(v&5){P=y[0].rangeEpisode;let O;for(O=0;O<P.length;O+=1){const nt=ja(y,P,O);D[O]?D[O].p(nt,v):(D[O]=Ya(nt),D[O].c(),D[O].m(n,c))}for(;O<D.length;O+=1)D[O].d(1);D.length=P.length}v&311&&(z=y[4],h=Ja(h,v,F,1,y,z,u,n,Pu,Ga,null,Va)),v&1&&f!==(f=40*(y[0].rangeSeason.length+2))&&p(e,"width",f),v&1&&b!==(b=40*(y[0].rangeEpisode.length+2))&&p(e,"height",b)},d(y){y&&_(t),An(S,y),An(D,y);for(let v=0;v<h.length;v+=1)h[v].d()}}}function Wa(i){let t,e,n=i[22]+"",r,s;return{c(){t=kt("g"),e=kt("text"),r=lt(n),this.h()},l(o){t=Dt(o,"g",{transform:!0});var a=B(t);e=Dt(a,"text",{x:!0,y:!0,class:!0});var l=B(e);r=ct(l,n),l.forEach(_),a.forEach(_),this.h()},h(){p(e,"x","19.5"),p(e,"y","19.5"),p(e,"class","svelte-1913pjb"),_e(e,"font-weight",i[1]==i[22]?700:400,!1),p(t,"transform",s="translate("+40*i[22]+", 0)")},m(o,a){J(o,t,a),E(t,e),E(e,r)},p(o,a){a&1&&n!==(n=o[22]+"")&&Pi(r,n),a&3&&_e(e,"font-weight",o[1]==o[22]?700:400,!1),a&1&&s!==(s="translate("+40*o[22]+", 0)")&&p(t,"transform",s)},d(o){o&&_(t)}}}function Ya(i){let t,e,n=i[19]+"",r,s;return{c(){t=kt("g"),e=kt("text"),r=lt(n),this.h()},l(o){t=Dt(o,"g",{transform:!0});var a=B(t);e=Dt(a,"text",{x:!0,y:!0,class:!0});var l=B(e);r=ct(l,n),l.forEach(_),a.forEach(_),this.h()},h(){p(e,"x","19.5"),p(e,"y","19.5"),p(e,"class","svelte-1913pjb"),_e(e,"font-weight",i[2]==i[19]?700:400,!1),p(t,"transform",s="translate(0, "+40*(i[19]+i[0].episodePad)+")")},m(o,a){J(o,t,a),E(t,e),E(e,r)},p(o,a){a&1&&n!==(n=o[19]+"")&&Pi(r,n),a&5&&_e(e,"font-weight",o[2]==o[19]?700:400,!1),a&1&&s!==(s="translate(0, "+40*(o[19]+o[0].episodePad)+")")&&p(t,"transform",s)},d(o){o&&_(t)}}}function Ga(i,t){let e,n,r,s,o,a=(t[16].averageRating==null?"-":t[16].averageRating.toFixed(1))+"",l,c,h,u,f,b;function I(){return t[10](t[16])}function S(){return t[11](t[16])}return{key:i,first:null,c(){e=kt("a"),n=kt("g"),r=kt("rect"),o=kt("text"),l=lt(a),this.h()},l(P){e=Dt(P,"a",{title:!0,href:!0,target:!0});var D=B(e);n=Dt(D,"g",{transform:!0});var z=B(n);r=Dt(z,"rect",{width:!0,height:!0,fill:!0}),B(r).forEach(_),o=Dt(z,"text",{x:!0,y:!0,class:!0,fill:!0});var F=B(o);l=ct(F,a),F.forEach(_),z.forEach(_),D.forEach(_),this.h()},h(){p(r,"width","39"),p(r,"height","39"),p(r,"fill",s=t[5]=t[8](t[16].averageRating)),p(o,"x","19.5"),p(o,"y","19.5"),p(o,"class","text-sm tabular-nums svelte-1913pjb"),p(o,"fill",Qc(t[5]).l>70?"black":"white"),p(n,"transform",c="translate("+40*t[16].seasonNumber+", "+40*(t[16].episodeNumber+t[0].episodePad)+")"),_e(n,"cursor","pointer",!1),p(e,"title",h=t[16].episodeTitle),p(e,"href",u="https://www.imdb.com/title/"+t[16].episodeID),p(e,"target","_blank"),this.first=e},m(P,D){J(P,e,D),E(e,n),E(n,r),E(n,o),E(o,l),f||(b=[Ft(n,"mousemove",I),Ft(n,"mousemove",S),Ft(n,"mouseleave",t[12]),Ft(n,"mouseleave",t[13])],f=!0)},p(P,D){t=P,D&16&&s!==(s=t[5]=t[8](t[16].averageRating))&&p(r,"fill",s),D&16&&a!==(a=(t[16].averageRating==null?"-":t[16].averageRating.toFixed(1))+"")&&Pi(l,a),D&17&&c!==(c="translate("+40*t[16].seasonNumber+", "+40*(t[16].episodeNumber+t[0].episodePad)+")")&&p(n,"transform",c),D&16&&h!==(h=t[16].episodeTitle)&&p(e,"title",h),D&16&&u!==(u="https://www.imdb.com/title/"+t[16].episodeID)&&p(e,"href",u)},d(P){P&&_(e),f=!1,Un(b)}}}function iy(i){let t,e,n;return{c(){t=x("div"),e=x("span"),n=lt(`
				Loading viz...`),this.h()},l(r){t=V(r,"DIV",{class:!0});var s=B(t);e=V(s,"SPAN",{class:!0}),B(e).forEach(_),n=ct(s,`
				Loading viz...`),s.forEach(_),this.h()},h(){p(e,"class","h-7 w-7 block rounded-full border-4 border-t-green-500 animate-spin mr-2"),p(t,"class","flex items-center gap-2 text-gray-500 mx-auto pt-10")},m(r,s){J(r,t,s),E(t,e),E(t,n)},p:bt,d(r){r&&_(t)}}}function ny(i){let t,e,n,r,s,o,a,l,c,h,u,f,b,I,S,P,D,z,F,y,v,O,nt,L,tt,T,N,k,M,C,w,A,dt,Bt,Nt,zt,Je,Ae,Ei,Te,Qe,ke,fe,g={ctx:i,current:null,token:null,hasCatch:!1,pending:$0,then:X0,catch:Z0,value:3,blocks:[,,,]};Wn(Te=i[3],g);let R={ctx:i,current:null,token:null,hasCatch:!1,pending:iy,then:ey,catch:ty,value:4};return Wn(ke=i[4],R),{c(){t=x("div"),e=x("div"),n=x("div"),r=x("h1"),s=x("abbr"),o=lt("SeriesHeat"),a=lt(` with
				DuckDB-Wasm`),l=Mt(),c=x("div"),h=x("p"),u=lt(`This project is a replica of
				`),f=x("a"),b=lt("SeriesHeat"),I=lt(`
				by
				`),S=x("a"),P=lt("Jim Vallandingham"),D=lt(`, that uses
				`),z=x("a"),F=lt("DuckDB-Wasm"),y=lt(`
				instead of
				`),v=x("a"),O=lt("phiresky"),nt=lt(`'s
				`),L=x("a"),tt=lt("sql.js-httpvfs"),T=lt("."),N=Mt(),k=x("p"),M=lt("Data comes from "),C=x("a"),w=lt("IMDb Datasets"),A=lt(`
				filtered and preprocessed to Parquet files so they can be directly queried. Code for building said files can be found
				in
				`),dt=x("a"),Bt=lt("@myagues/datasets/imdb"),Nt=lt(`, and code for the project is available
				`),zt=x("a"),Je=lt(`@myagues/seriesheat-duckdb-wasm
				`),Ae=lt("."),Ei=Mt(),g.block.c(),Qe=Mt(),R.block.c(),this.h()},l(At){t=V(At,"DIV",{class:!0});var Lt=B(t);e=V(Lt,"DIV",{class:!0});var te=B(e);n=V(te,"DIV",{class:!0});var Wi=B(n);r=V(Wi,"H1",{class:!0});var ai=B(r);s=V(ai,"ABBR",{title:!0});var Yi=B(s);o=ct(Yi,"SeriesHeat"),Yi.forEach(_),a=ct(ai,` with
				DuckDB-Wasm`),ai.forEach(_),Wi.forEach(_),l=Ut(te),c=V(te,"DIV",{class:!0});var li=B(c);h=V(li,"P",{});var Kt=B(h);u=ct(Kt,`This project is a replica of
				`),f=V(Kt,"A",{class:!0,title:!0,href:!0,target:!0});var pn=B(f);b=ct(pn,"SeriesHeat"),pn.forEach(_),I=ct(Kt,`
				by
				`),S=V(Kt,"A",{class:!0,title:!0,href:!0,target:!0});var bn=B(S);P=ct(bn,"Jim Vallandingham"),bn.forEach(_),D=ct(Kt,`, that uses
				`),z=V(Kt,"A",{class:!0,title:!0,href:!0,target:!0});var gn=B(z);F=ct(gn,"DuckDB-Wasm"),gn.forEach(_),y=ct(Kt,`
				instead of
				`),v=V(Kt,"A",{class:!0,title:!0,href:!0,target:!0});var _n=B(v);O=ct(_n,"phiresky"),_n.forEach(_),nt=ct(Kt,`'s
				`),L=V(Kt,"A",{class:!0,title:!0,href:!0,target:!0});var wn=B(L);tt=ct(wn,"sql.js-httpvfs"),wn.forEach(_),T=ct(Kt,"."),Kt.forEach(_),N=Ut(li),k=V(li,"P",{class:!0});var me=B(k);M=ct(me,"Data comes from "),C=V(me,"A",{class:!0,title:!0,href:!0,target:!0});var vn=B(C);w=ct(vn,"IMDb Datasets"),vn.forEach(_),A=ct(me,`
				filtered and preprocessed to Parquet files so they can be directly queried. Code for building said files can be found
				in
				`),dt=V(me,"A",{class:!0,href:!0,target:!0});var Gi=B(dt);Bt=ct(Gi,"@myagues/datasets/imdb"),Gi.forEach(_),Nt=ct(me,`, and code for the project is available
				`),zt=V(me,"A",{class:!0,href:!0,target:!0});var In=B(zt);Je=ct(In,`@myagues/seriesheat-duckdb-wasm
				`),In.forEach(_),Ae=ct(me,"."),me.forEach(_),li.forEach(_),Ei=Ut(te),g.block.l(te),Qe=Ut(te),R.block.l(te),te.forEach(_),Lt.forEach(_),this.h()},h(){p(s,"title","Original name and project by Jim Vallandingham"),_e(s,"cursor","context-menu",!1),p(r,"class","font-semibold text-3xl"),p(n,"class","max-w-2xl mx-auto mt-10 mb-5"),p(f,"class","desc-link svelte-1913pjb"),p(f,"title","SeriesHeat by Jim Vallandingham"),p(f,"href","https://vallandingham.me/seriesheat"),p(f,"target","_blank"),p(S,"class","desc-link svelte-1913pjb"),p(S,"title","Jim Vallandingham homepage"),p(S,"href","https://vallandingham.me"),p(S,"target","_blank"),p(z,"class","desc-link svelte-1913pjb"),p(z,"title","DuckDB-Wasm blog post"),p(z,"href","https://duckdb.org/2021/10/29/duckdb-wasm.html"),p(z,"target","_blank"),p(v,"class","desc-link svelte-1913pjb"),p(v,"title","phiresky's blog"),p(v,"href","https://phiresky.github.io/blog"),p(v,"target","_blank"),p(L,"class","desc-link svelte-1913pjb"),p(L,"title","sql.js-httpvfs"),p(L,"href","https://github.com/phiresky/sql.js-httpvfs"),p(L,"target","_blank"),p(C,"class","desc-link svelte-1913pjb"),p(C,"title","IMDb Datasets"),p(C,"href","https://www.imdb.com/interfaces"),p(C,"target","_blank"),p(dt,"class","desc-link svelte-1913pjb"),p(dt,"href","https://github.com/myagues/datasets/tree/main/imdb"),p(dt,"target","_blank"),p(zt,"class","desc-link svelte-1913pjb"),p(zt,"href","https://github.com/myagues/seriesheat-duckdb-wasm"),p(zt,"target","_blank"),p(k,"class","my-5"),p(c,"class","max-w-prose mx-auto my-5"),p(e,"class","flex flex-col"),p(t,"class","px-4 sm:px-6 md:px-8 font-sans")},m(At,Lt){J(At,t,Lt),E(t,e),E(e,n),E(n,r),E(r,s),E(s,o),E(r,a),E(e,l),E(e,c),E(c,h),E(h,u),E(h,f),E(f,b),E(h,I),E(h,S),E(S,P),E(h,D),E(h,z),E(z,F),E(h,y),E(h,v),E(v,O),E(h,nt),E(h,L),E(L,tt),E(h,T),E(c,N),E(c,k),E(k,M),E(k,C),E(C,w),E(k,A),E(k,dt),E(dt,Bt),E(k,Nt),E(k,zt),E(zt,Je),E(k,Ae),E(e,Ei),g.block.m(e,g.anchor=null),g.mount=()=>e,g.anchor=Qe,E(e,Qe),R.block.m(e,R.anchor=null),R.mount=()=>e,R.anchor=null,fe=!0},p(At,[Lt]){i=At,g.ctx=i,Lt&8&&Te!==(Te=i[3])&&Wn(Te,g)||Ro(g,i,Lt),R.ctx=i,Lt&16&&ke!==(ke=i[4])&&Wn(ke,R)||Ro(R,i,Lt)},i(At){fe||(X(g.block),fe=!0)},o(At){for(let Lt=0;Lt<3;Lt+=1){const te=g.blocks[Lt];rt(te)}fe=!1},d(At){At&&_(t),g.block.d(),g.token=null,g=null,R.block.d(),R.token=null,R=null}}}function ry(i,t,e){let n=new Promise(()=>{}),r,s={rangeSeason:[0],rangeEpisode:[0],episodePad:0},o,a,l;const c=eu().exponent(1.5).domain([0,10]),h=(F,y,v=1)=>Array.from({length:(y-F)/v+1},(O,nt)=>F+nt*v);zr(async()=>{const F=await om();e(3,n=F.connect()),await n.then(y=>y.query(`
			create temp table if not exists 'series_map' as (
				select
					seriesID,
					seriesTitle,
					min(startYear) as 'beginYear',
					coalesce(sum(numVotes), 0) as totalVotes
				from 'imdb.parquet'
				where startYear is not null
				group by seriesID, seriesTitle
				order by totalVotes desc
			)
		`))});async function u(F){const y=await n.then(v=>v.query(`
			select
				seriesID as 'value',
				concat(seriesTitle, ' (', beginYear, ')') as 'label'
			from 'series_map'
			where regexp_matches(seriesTitle, '${F}', 'i')
			limit 30
		`));return JSON.parse(JSON.stringify(y.toArray()))}async function f(F){var nt,L,tt;e(4,r=new Promise(()=>{}));const y=await n.then(T=>T.query(`
			select
				seasonNumber,
				episodeNumber,
				episodeTitle,
				episodeID,
				averageRating
			from 'imdb.parquet'
			where seriesID = '${F.detail.value}' and seasonNumber > 0
			order by seasonNumber, episodeNumber
		`)),v=Math.min(...(nt=y.getChild("episodeNumber"))==null?void 0:nt.toArray()),O=Math.max(...(L=y.getChild("episodeNumber"))==null?void 0:L.toArray());e(0,s={rangeSeason:[...new Set([...(tt=y.getChild("seasonNumber"))==null?void 0:tt.toArray()])],rangeEpisode:h(v,O),episodePad:v==0?1:0}),e(4,r=JSON.parse(JSON.stringify(y.toArray())))}function b(F){return F==null?"#ddd":w0(c(F))}return[s,o,a,n,r,l,u,f,b,()=>e(4,r=void 0),F=>e(1,o=F.seasonNumber),F=>e(2,a=F.episodeNumber),()=>e(1,o=void 0),()=>e(2,a=void 0)]}class cy extends gi{constructor(t){super(),_i(this,t,ry,ny,wi,{})}}export{cy as default};
